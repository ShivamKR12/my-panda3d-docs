\doxysection{heightfield\+Tesselator.\+h}
\hypertarget{heightfieldTesselator_8h_source}{}\label{heightfieldTesselator_8h_source}\index{panda/src/grutil/heightfieldTesselator.h@{panda/src/grutil/heightfieldTesselator.h}}
\mbox{\hyperlink{heightfieldTesselator_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ HEIGHTFIELDTESSELATOR\_H}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ HEIGHTFIELDTESSELATOR\_H}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandabase_8h}{pandabase.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{luse_8h}{luse.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandaNode_8h}{pandaNode.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pointerTo_8h}{pointerTo.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{namable_8h}{namable.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pnmImage_8h}{pnmImage.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geom_8h}{geom.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomTristrips_8h}{geomTristrips.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomTriangles_8h}{geomTriangles.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomVertexWriter_8h}{geomVertexWriter.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomVertexFormat_8h}{geomVertexFormat.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{nodePath_8h}{nodePath.h}}"{}}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00058\ \textcolor{keyword}{class\ }EXPCL\_PANDA\_GRUTIL\ \mbox{\hyperlink{classHeightfieldTesselator}{HeightfieldTesselator}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classNamable}{Namable}}\ \{}
\DoxyCodeLine{00059\ PUBLISHED:}
\DoxyCodeLine{00060\ \ \ INLINE\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classHeightfieldTesselator}{HeightfieldTesselator}}(\textcolor{keyword}{const}\ std::string\ \&name);}
\DoxyCodeLine{00061\ \ \ INLINE\ \mbox{\hyperlink{classHeightfieldTesselator}{\string~HeightfieldTesselator}}();}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ INLINE\ \mbox{\hyperlink{classPNMImage}{PNMImage}}\ \&heightfield();}
\DoxyCodeLine{00064\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ set\_heightfield(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFilename}{Filename}}\ \&filename,\ \mbox{\hyperlink{classPNMFileType}{PNMFileType}}\ *type\ =\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00065\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_poly\_count(\textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{00066\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_visibility\_radius(\textcolor{keywordtype}{int}\ r);}
\DoxyCodeLine{00067\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_focal\_point(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y);}
\DoxyCodeLine{00068\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_horizontal\_scale(\textcolor{keywordtype}{double}\ h);}
\DoxyCodeLine{00069\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_vertical\_scale(\textcolor{keywordtype}{double}\ v);}
\DoxyCodeLine{00070\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_max\_triangles(\textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \textcolor{keywordtype}{double}\ get\_elevation(\textcolor{keywordtype}{double}\ x,\ \textcolor{keywordtype}{double}\ y);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \mbox{\hyperlink{classNodePath}{NodePath}}\ generate();}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \textcolor{comment}{//\ These\ are\ initialized\ during\ the\ first\ 'generate'}}
\DoxyCodeLine{00079\ \ \ \textcolor{keywordtype}{int}\ \ \_radii[16];}
\DoxyCodeLine{00080\ \ \ \textcolor{keywordtype}{bool}\ \_radii\_calculated;}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{comment}{//\ These\ are\ only\ valid\ during\ the\ generate\ process.}}
\DoxyCodeLine{00083\ \ \ \textcolor{keywordtype}{int}\ *\_triangle\_totals;}
\DoxyCodeLine{00084\ \ \ \textcolor{keywordtype}{int}\ *\_vertex\_index;}
\DoxyCodeLine{00085\ \ \ \textcolor{keywordtype}{int}\ *\_dirty\_vertices;}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ These\ are\ only\ valid\ when\ a\ geom\ is\ open.}}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordtype}{int}\ \_next\_index;}
\DoxyCodeLine{00089\ \ \ \textcolor{keywordtype}{int}\ \_last\_vertex\_a;}
\DoxyCodeLine{00090\ \ \ \textcolor{keywordtype}{int}\ \_last\_vertex\_b;}
\DoxyCodeLine{00091\ \ \ PT(\mbox{\hyperlink{classGeomVertexData}{GeomVertexData}})\ \_vdata;}
\DoxyCodeLine{00092\ \ \ \mbox{\hyperlink{classGeomVertexWriter}{GeomVertexWriter}}\ *\_vertex\_writer;}
\DoxyCodeLine{00093\ \ \ \mbox{\hyperlink{classGeomVertexWriter}{GeomVertexWriter}}\ *\_normal\_writer;}
\DoxyCodeLine{00094\ \ \ PT(\mbox{\hyperlink{classGeomTriangles}{GeomTriangles}})\ \_triangles;}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ subdivide(\textcolor{keywordtype}{int}\ scale,\ \textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y);}
\DoxyCodeLine{00097\ \ \ \textcolor{keywordtype}{void}\ calculate\_radii(\textcolor{keywordtype}{int}\ scale);}
\DoxyCodeLine{00098\ \ \ \textcolor{keywordtype}{void}\ generate\_square(\mbox{\hyperlink{classNodePath}{NodePath}}\ root,\ \textcolor{keywordtype}{int}\ scale,\ \textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y,\ \textcolor{keywordtype}{bool}\ forceclose);}
\DoxyCodeLine{00099\ \ \ \textcolor{keywordtype}{int}\ \ count\_triangles(\textcolor{keywordtype}{int}\ scale,\ \textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y);}
\DoxyCodeLine{00100\ \ \ \textcolor{keywordtype}{int}\ \ get\_vertex(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y);}
\DoxyCodeLine{00101\ \ \ \textcolor{keywordtype}{void}\ add\_quad\_to\_strip(\textcolor{keywordtype}{int}\ v1,\ \textcolor{keywordtype}{int}\ v2,\ \textcolor{keywordtype}{int}\ v3,\ \textcolor{keywordtype}{int}\ v4);}
\DoxyCodeLine{00102\ \ \ \textcolor{keywordtype}{void}\ add\_quad(\textcolor{keywordtype}{int}\ v1,\ \textcolor{keywordtype}{int}\ v2,\ \textcolor{keywordtype}{int}\ v3,\ \textcolor{keywordtype}{int}\ v4);}
\DoxyCodeLine{00103\ \ \ \textcolor{keywordtype}{void}\ fix\_heightfield(\textcolor{keywordtype}{int}\ size);}
\DoxyCodeLine{00104\ \ \ \textcolor{keywordtype}{void}\ open\_geom();}
\DoxyCodeLine{00105\ \ \ \textcolor{keywordtype}{void}\ close\_geom(\mbox{\hyperlink{classNodePath}{NodePath}}\ root);}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \mbox{\hyperlink{classPNMImage}{PNMImage}}\ \_heightfield;}
\DoxyCodeLine{00108\ \ \ \textcolor{keywordtype}{int}\ \_poly\_count;}
\DoxyCodeLine{00109\ \ \ \textcolor{keywordtype}{int}\ \_visibility\_radius;}
\DoxyCodeLine{00110\ \ \ \textcolor{keywordtype}{int}\ \_focal\_x;}
\DoxyCodeLine{00111\ \ \ \textcolor{keywordtype}{int}\ \_focal\_y;}
\DoxyCodeLine{00112\ \ \ \textcolor{keywordtype}{double}\ \_horizontal\_scale;}
\DoxyCodeLine{00113\ \ \ \textcolor{keywordtype}{double}\ \_vertical\_scale;}
\DoxyCodeLine{00114\ \ \ \textcolor{keywordtype}{int}\ \_max\_triangles;}
\DoxyCodeLine{00115\ \};}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \textcolor{preprocessor}{\#include\ "{}heightfieldTesselator.I"{}}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
