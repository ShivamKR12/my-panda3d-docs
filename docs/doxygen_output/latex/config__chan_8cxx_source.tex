\doxysection{config\+\_\+chan.\+cxx}
\hypertarget{config__chan_8cxx_source}{}\label{config__chan_8cxx_source}\index{panda/src/chan/config\_chan.cxx@{panda/src/chan/config\_chan.cxx}}
\mbox{\hyperlink{config__chan_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__chan_8h}{config\_chan.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animBundle_8h}{animBundle.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animBundleNode_8h}{animBundleNode.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animChannelBase_8h}{animChannelBase.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animChannelMatrixXfmTable_8h}{animChannelMatrixXfmTable.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animChannelMatrixDynamic_8h}{animChannelMatrixDynamic.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animChannelMatrixFixed_8h}{animChannelMatrixFixed.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animChannelScalarTable_8h}{animChannelScalarTable.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animChannelScalarDynamic_8h}{animChannelScalarDynamic.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animControl_8h}{animControl.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animGroup_8h}{animGroup.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animPreloadTable_8h}{animPreloadTable.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bindAnimRequest_8h}{bindAnimRequest.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{movingPartBase_8h}{movingPartBase.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{movingPartMatrix_8h}{movingPartMatrix.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{movingPartScalar_8h}{movingPartScalar.h}}"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{partBundle_8h}{partBundle.h}}"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{partBundleNode_8h}{partBundleNode.h}}"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{partGroup_8h}{partGroup.h}}"{}}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{luse_8h}{luse.h}}"{}}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dconfig_8h}{dconfig.h}}"{}}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#if\ !defined(CPPPARSER)\ \&\&\ !defined(LINK\_ALL\_STATIC)\ \&\&\ !defined(BUILDING\_PANDA\_CHAN)}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\ \ \#error\ Buildsystem\ error:\ BUILDING\_PANDA\_CHAN\ not\ defined}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ Configure(config\_chan);}
\DoxyCodeLine{00042\ NotifyCategoryDef(chan,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ compress\_channels}
\DoxyCodeLine{00045\ (\textcolor{stringliteral}{"{}compress-\/channels"{}},\ \textcolor{keyword}{false},}
\DoxyCodeLine{00046\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ true\ to\ enable\ lossy\ compression\ of\ animation\ channels\ "{}}}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}when\ writing\ to\ the\ bam\ file.\ \ This\ serves\ to\ reduce\ the\ size\ of\ "{}}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}the\ bam\ file\ only;\ it\ does\ not\ reduce\ the\ memory\ footprint\ of\ the\ "{}}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}channels\ when\ the\ bam\ file\ is\ loaded."{}}));}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{comment}{/*}}
\DoxyCodeLine{00052\ \textcolor{comment}{\ *\ There\ are\ some\ special\ values\ above\ 100\ which\ are\ generally\ only\ useful\ for}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ *\ debugging\ (specifically,\ to\ research\ at\ what\ point\ a\ particular\ animation}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ *\ artifact\ is\ being\ introduced):\ 101\ \ Output\ numerically\ lossless\ data.\ \ The}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ *\ output\ is\ not\ run\ through\ the\ FFTCompressor.\ \ This\ can\ be\ used\ to\ check}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ *\ whether\ a\ particular\ artifact\ is\ due\ to\ the\ FFT\ conversion\ or\ not.}}
\DoxyCodeLine{00057\ \textcolor{comment}{\ *\ However,\ joint\ angles\ (HPR)\ are\ still\ converted\ to\ quaternions\ and}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ *\ normalized,\ discarding\ the\ fourth\ (redundant)\ component.\ \ 102\ \ As\ above,}}
\DoxyCodeLine{00059\ \textcolor{comment}{\ *\ but\ the\ fourth\ quaternion\ component\ is\ preserved.\ \ 103\ \ Quaternions\ are\ not}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ *\ used;\ instead,\ the\ HPR\ values\ are\ written\ directly.\ \ All\ output\ is\ now}}
\DoxyCodeLine{00061\ \textcolor{comment}{\ *\ completely\ lossless;\ if\ some\ artifacts\ are\ being\ introduced\ at\ this\ point,}}
\DoxyCodeLine{00062\ \textcolor{comment}{\ *\ check\ your\ sanity.}}
\DoxyCodeLine{00063\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00064\ \mbox{\hyperlink{classConfigVariableInt}{ConfigVariableInt}}\ compress\_chan\_quality}
\DoxyCodeLine{00065\ (\textcolor{stringliteral}{"{}compress-\/chan-\/quality"{}},\ 95,}
\DoxyCodeLine{00066\ \ PRC\_DESC(\textcolor{stringliteral}{"{}The\ quality\ level\ is\ an\ integer\ number\ that\ generally\ ranges\ "{}}}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}between\ 0\ and\ 100,\ where\ smaller\ numbers\ indicate\ greater\ "{}}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}compression\ at\ the\ cost\ of\ quality,\ and\ larger\ numbers\ indicate\ "{}}}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}higher\ quality\ but\ less\ compression.\ \ Generally,\ 95\ is\ the\ highest\ "{}}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}useful\ value;\ values\ between\ 95\ and\ 100\ produce\ substantially\ "{}}}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}larger,\ but\ not\ substantially\ better,\ output\ files.\ \ This\ is\ akin\ "{}}}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}to\ the\ JPEG\ compression\ level."{}}));}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ read\_compressed\_channels}
\DoxyCodeLine{00075\ (\textcolor{stringliteral}{"{}read-\/compressed-\/channels"{}},\ \textcolor{keyword}{true},}
\DoxyCodeLine{00076\ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ false\ to\ disable\ reading\ of\ compressed\ animation\ channels,\ "{}}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}even\ if\ the\ decompression\ code\ is\ available.\ \ The\ only\ reason\ you\ "{}}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}might\ want\ to\ do\ this\ would\ be\ to\ speed\ load\ time\ when\ you\ don't\ "{}}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}care\ about\ what\ the\ animation\ looks\ like."{}}));}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ interpolate\_frames}
\DoxyCodeLine{00082\ (\textcolor{stringliteral}{"{}interpolate-\/frames"{}},\ \textcolor{keyword}{false},}
\DoxyCodeLine{00083\ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ true\ to\ interpolate\ character\ animations\ between\ frames,\ "{}}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}or\ false\ to\ hold\ each\ frame\ until\ the\ next\ one\ is\ ready.\ \ This\ can\ "{}}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}also\ be\ changed\ on\ a\ per-\/character\ basis\ with\ "{}}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PartBundle::set\_frame\_blend\_flag()."{}}));}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ restore\_initial\_pose}
\DoxyCodeLine{00089\ (\textcolor{stringliteral}{"{}restore-\/initial-\/pose"{}},\ \textcolor{keyword}{true},}
\DoxyCodeLine{00090\ PRC\_DESC(\textcolor{stringliteral}{"{}When\ this\ is\ true,\ setting\ all\ control\ effects\ on\ an\ Actor\ to\ 0\ "{}}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}causes\ it\ to\ return\ to\ its\ default,\ unanimated\ pose.\ \ When\ "{}}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}false,\ it\ retains\ whatever\ its\ last-\/computed\ pose\ was\ "{}}}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}(which\ may\ or\ may\ not\ be\ the\ default\ pose)."{}}));}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \mbox{\hyperlink{classConfigVariableInt}{ConfigVariableInt}}\ async\_bind\_priority}
\DoxyCodeLine{00096\ (\textcolor{stringliteral}{"{}async-\/bind-\/priority"{}},\ 100,}
\DoxyCodeLine{00097\ PRC\_DESC(\textcolor{stringliteral}{"{}This\ specifies\ the\ priority\ assign\ to\ an\ asynchronous\ bind\ "{}}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}task\ when\ it\ is\ requested\ via\ PartBundle::load\_bind\_anim().\ \ "{}}}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ controls\ the\ relative\ order\ in\ which\ asynchronous\ loads\ "{}}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}happen\ (in\ particular,\ relative\ to\ asynchronous\ texture\ or\ "{}}}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}model\ loads).\ \ A\ higher\ number\ here\ makes\ the\ animations\ "{}}}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}load\ sooner."{}}));}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ ConfigureFn(config\_chan)\ \{}
\DoxyCodeLine{00105\ \ \ AnimBundle::init\_type();}
\DoxyCodeLine{00106\ \ \ AnimBundleNode::init\_type();}
\DoxyCodeLine{00107\ \ \ AnimChannelBase::init\_type();}
\DoxyCodeLine{00108\ \ \ AnimChannelMatrixXfmTable::init\_type();}
\DoxyCodeLine{00109\ \ \ AnimChannelMatrixDynamic::init\_type();}
\DoxyCodeLine{00110\ \ \ AnimChannelMatrixFixed::init\_type();}
\DoxyCodeLine{00111\ \ \ AnimChannelScalarTable::init\_type();}
\DoxyCodeLine{00112\ \ \ AnimChannelScalarDynamic::init\_type();}
\DoxyCodeLine{00113\ \ \ AnimControl::init\_type();}
\DoxyCodeLine{00114\ \ \ AnimGroup::init\_type();}
\DoxyCodeLine{00115\ \ \ AnimPreloadTable::init\_type();}
\DoxyCodeLine{00116\ \ \ BindAnimRequest::init\_type();}
\DoxyCodeLine{00117\ \ \ MovingPartBase::init\_type();}
\DoxyCodeLine{00118\ \ \ MovingPartMatrix::init\_type();}
\DoxyCodeLine{00119\ \ \ MovingPartScalar::init\_type();}
\DoxyCodeLine{00120\ \ \ PartBundle::init\_type();}
\DoxyCodeLine{00121\ \ \ PartBundleNode::init\_type();}
\DoxyCodeLine{00122\ \ \ PartGroup::init\_type();}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \textcolor{comment}{//\ This\ isn't\ defined\ in\ this\ package,\ but\ it\ *is*\ essential\ that\ it\ be}}
\DoxyCodeLine{00125\ \ \ \textcolor{comment}{//\ initialized.\ \ We\ have\ to\ do\ it\ explicitly\ here\ since\ template\ statics}}
\DoxyCodeLine{00126\ \ \ \textcolor{comment}{//\ don't\ necessarily\ resolve\ very\ well\ across\ dynamic\ libraries.}}
\DoxyCodeLine{00127\ \ \ LMatrix4::init\_type();}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \textcolor{comment}{//\ Registration\ of\ writeable\ object's\ creation\ functions\ with\ BamReader's}}
\DoxyCodeLine{00130\ \ \ \textcolor{comment}{//\ factory}}
\DoxyCodeLine{00131\ \ \ \mbox{\hyperlink{classPartGroup_aa796dcf63cf5b1746da96b60bce50d5f}{PartGroup::register\_with\_read\_factory}}();}
\DoxyCodeLine{00132\ \ \ \mbox{\hyperlink{classPartBundle_a2240c91d03f7e1a0cb7fee99bf9fdc2b}{PartBundle::register\_with\_read\_factory}}();}
\DoxyCodeLine{00133\ \ \ \mbox{\hyperlink{classMovingPartMatrix_ab2667251f5a0acd53398e76085a2cdcb}{MovingPartMatrix::register\_with\_read\_factory}}();}
\DoxyCodeLine{00134\ \ \ \mbox{\hyperlink{classMovingPartScalar_a3c4633e9e69eab21a672da824c173698}{MovingPartScalar::register\_with\_read\_factory}}();}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \mbox{\hyperlink{classAnimGroup_ad0b8fd2a9ac63f923b020ca5aaccf4bf}{AnimGroup::register\_with\_read\_factory}}();}
\DoxyCodeLine{00137\ \ \ \mbox{\hyperlink{classAnimBundle_a2ea0395de91848f4f6440f98a83c615f}{AnimBundle::register\_with\_read\_factory}}();}
\DoxyCodeLine{00138\ \ \ \mbox{\hyperlink{classAnimBundleNode_a3188d34d39dc844369edb8a216fe40ca}{AnimBundleNode::register\_with\_read\_factory}}();}
\DoxyCodeLine{00139\ \ \ \mbox{\hyperlink{classAnimChannelMatrixXfmTable_a25721a82edb50432df6fc3931ccbed06}{AnimChannelMatrixXfmTable::register\_with\_read\_factory}}();}
\DoxyCodeLine{00140\ \ \ \mbox{\hyperlink{classAnimChannelMatrixDynamic_a08f9ca0371df0fdf4d85ec726b93e4fd}{AnimChannelMatrixDynamic::register\_with\_read\_factory}}();}
\DoxyCodeLine{00141\ \ \ \mbox{\hyperlink{classAnimChannelMatrixFixed_a107e9a7ef737b42ac94ae06037a5b0bf}{AnimChannelMatrixFixed::register\_with\_read\_factory}}();}
\DoxyCodeLine{00142\ \ \ \mbox{\hyperlink{classAnimChannelScalarTable_a8a4f2460c47f4569cf51175e70fcf312}{AnimChannelScalarTable::register\_with\_read\_factory}}();}
\DoxyCodeLine{00143\ \ \ \mbox{\hyperlink{classAnimChannelScalarDynamic_a5e76fbe183d80081d32c31e7bb884289}{AnimChannelScalarDynamic::register\_with\_read\_factory}}();}
\DoxyCodeLine{00144\ \ \ \mbox{\hyperlink{classAnimPreloadTable_a5abdb78db7ce0afef4bafdae9587f663}{AnimPreloadTable::register\_with\_read\_factory}}();}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \textcolor{comment}{//\ For\ compatibility\ with\ old\ .bam\ files.}}
\DoxyCodeLine{00147\ \textcolor{preprocessor}{\#ifndef\ STDFLOAT\_DOUBLE}}
\DoxyCodeLine{00148\ \ \ \mbox{\hyperlink{classTypeRegistry}{TypeRegistry}}\ *reg\ =\ TypeRegistry::ptr();}
\DoxyCodeLine{00149\ \ \ reg-\/>\mbox{\hyperlink{classTypeRegistry_a366507708e64cc8d78d16b525b105af6}{record\_alternate\_name}}(\mbox{\hyperlink{classAnimChannelFixed}{AnimChannelFixed<ACMatrixSwitchType>::get\_class\_type}}(),}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}AnimChannelFixed<LMatrix4f>"{}});}
\DoxyCodeLine{00151\ \ \ reg-\/>\mbox{\hyperlink{classTypeRegistry_a366507708e64cc8d78d16b525b105af6}{record\_alternate\_name}}(\mbox{\hyperlink{classMovingPart}{MovingPart<ACMatrixSwitchType>::get\_class\_type}}(),}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}MovingPart<LMatrix4f>"{}});}
\DoxyCodeLine{00153\ \ \ reg-\/>\mbox{\hyperlink{classTypeRegistry_a366507708e64cc8d78d16b525b105af6}{record\_alternate\_name}}(\mbox{\hyperlink{classMovingPart}{MovingPart<ACScalarSwitchType>::get\_class\_type}}(),}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}MovingPart<float>"{}});}
\DoxyCodeLine{00155\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00156\ \}}

\end{DoxyCode}
