\doxysection{bullet\+Minkowski\+Sum\+Shape.\+cxx}
\hypertarget{bulletMinkowskiSumShape_8cxx_source}{}\label{bulletMinkowskiSumShape_8cxx_source}\index{panda/src/bullet/bulletMinkowskiSumShape.cxx@{panda/src/bullet/bulletMinkowskiSumShape.cxx}}
\mbox{\hyperlink{bulletMinkowskiSumShape_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletMinkowskiSumShape_8h}{bulletMinkowskiSumShape.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletWorld_8h}{bulletWorld.h}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ BulletMinkowskiSumShape::\_type\_handle;}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00023\ BulletMinkowskiSumShape::}
\DoxyCodeLine{00024\ BulletMinkowskiSumShape(\textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletShape}{BulletShape}}\ *shape\_a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletShape}{BulletShape}}\ *shape\_b)\ :}
\DoxyCodeLine{00025\ \ \ \_shape\_a(shape\_a),}
\DoxyCodeLine{00026\ \ \ \_shape\_b(shape\_b)\ \{}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ nassertv(shape\_a-\/>is\_convex());}
\DoxyCodeLine{00029\ \ \ nassertv(shape\_b-\/>is\_convex());}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{const}\ btConvexShape\ *ptr\_a\ =\ (\textcolor{keyword}{const}\ btConvexShape\ *)shape\_a-\/>ptr();}
\DoxyCodeLine{00032\ \ \ \textcolor{keyword}{const}\ btConvexShape\ *ptr\_b\ =\ (\textcolor{keyword}{const}\ btConvexShape\ *)shape\_b-\/>ptr();}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \_shape\ =\ \textcolor{keyword}{new}\ btMinkowskiSumShape(ptr\_a,\ ptr\_b);}
\DoxyCodeLine{00035\ \ \ \_shape-\/>setUserPointer(\textcolor{keyword}{this});}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00041\ BulletMinkowskiSumShape::}
\DoxyCodeLine{00042\ BulletMinkowskiSumShape(\textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletMinkowskiSumShape}{BulletMinkowskiSumShape}}\ \&copy)\ \{}
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \_shape\_a\ =\ copy.\_shape\_a;}
\DoxyCodeLine{00046\ \ \ \_shape\_b\ =\ copy.\_shape\_b;}
\DoxyCodeLine{00047\ \ \ }
\DoxyCodeLine{00048\ \ \ \textcolor{keyword}{const}\ btConvexShape\ *ptr\_a\ =\ (\textcolor{keyword}{const}\ btConvexShape\ *)\_shape\_a-\/>ptr();}
\DoxyCodeLine{00049\ \ \ \textcolor{keyword}{const}\ btConvexShape\ *ptr\_b\ =\ (\textcolor{keyword}{const}\ btConvexShape\ *)\_shape\_b-\/>ptr();}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \_shape\ =\ \textcolor{keyword}{new}\ btMinkowskiSumShape(ptr\_a,\ ptr\_b);}
\DoxyCodeLine{00052\ \ \ \_shape-\/>setUserPointer(\textcolor{keyword}{this});}
\DoxyCodeLine{00053\ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00058\ btCollisionShape\ *BulletMinkowskiSumShape::}
\DoxyCodeLine{00059\ ptr()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \textcolor{keywordflow}{return}\ \_shape;}
\DoxyCodeLine{00062\ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00067\ \textcolor{keywordtype}{void}\ BulletMinkowskiSumShape::}
\DoxyCodeLine{00068\ set\_transform\_a(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *ts)\ \{}
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ nassertv(ts);}
\DoxyCodeLine{00072\ \ \ \_shape-\/>setTransformA(TransformState\_to\_btTrans(ts));}
\DoxyCodeLine{00073\ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00078\ \textcolor{keywordtype}{void}\ BulletMinkowskiSumShape::}
\DoxyCodeLine{00079\ set\_transform\_b(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *ts)\ \{}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ nassertv(ts);}
\DoxyCodeLine{00083\ \ \ \_shape-\/>setTransformB(TransformState\_to\_btTrans(ts));}
\DoxyCodeLine{00084\ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00089\ CPT(\mbox{\hyperlink{classTransformState}{TransformState}})\ BulletMinkowskiSumShape::}
\DoxyCodeLine{00090\ get\_transform\_a()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00091\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{return}\ btTrans\_to\_TransformState(\_shape-\/>getTransformA());}
\DoxyCodeLine{00094\ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00099\ CPT(\mbox{\hyperlink{classTransformState}{TransformState}})\ BulletMinkowskiSumShape::}
\DoxyCodeLine{00100\ get\_transform\_b()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00101\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \textcolor{keywordflow}{return}\ btTrans\_to\_TransformState(\_shape-\/>GetTransformB());}
\DoxyCodeLine{00104\ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00109\ \textcolor{keywordtype}{void}\ BulletMinkowskiSumShape::}
\DoxyCodeLine{00110\ register\_with\_read\_factory()\ \{}
\DoxyCodeLine{00111\ \ \ BamReader::get\_factory()-\/>register\_factory(get\_class\_type(),\ \mbox{\hyperlink{classBulletMinkowskiSumShape_a0b2df994311776d3679133c48f785717}{make\_from\_bam}});}
\DoxyCodeLine{00112\ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00118\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classBulletMinkowskiSumShape_a98b5bdbc5b2f99f5b1139ece0ce14b16}{BulletMinkowskiSumShape::}}}
\DoxyCodeLine{00119\ \mbox{\hyperlink{classBulletMinkowskiSumShape_a98b5bdbc5b2f99f5b1139ece0ce14b16}{write\_datagram}}(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg)\ \{}
\DoxyCodeLine{00120\ \ \ BulletShape::write\_datagram(manager,\ dg);}
\DoxyCodeLine{00121\ \ \ dg.add\_stdfloat(get\_margin());}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \textcolor{comment}{//\ parameters\ to\ serialize:\ \_shape\_a,\ \_shape\_b,\ \_transform\_a,\ \_transform\_b}}
\DoxyCodeLine{00124\ \ \ manager-\/>\mbox{\hyperlink{classBamWriter_a634bd4eb8e9b33ffde91a27c02f80467}{write\_pointer}}(dg,\ \_shape\_a);}
\DoxyCodeLine{00125\ \ \ manager-\/>\mbox{\hyperlink{classBamWriter_a634bd4eb8e9b33ffde91a27c02f80467}{write\_pointer}}(dg,\ \_shape\_b);}
\DoxyCodeLine{00126\ \ \ manager-\/>\mbox{\hyperlink{classBamWriter_a634bd4eb8e9b33ffde91a27c02f80467}{write\_pointer}}(dg,\ get\_transform\_a());}
\DoxyCodeLine{00127\ \ \ manager-\/>\mbox{\hyperlink{classBamWriter_a634bd4eb8e9b33ffde91a27c02f80467}{write\_pointer}}(dg,\ get\_transform\_b());}
\DoxyCodeLine{00128\ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00134\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classBulletMinkowskiSumShape_aaa20a218786ee6c9e0673674560c5f8c}{BulletMinkowskiSumShape::}}}
\DoxyCodeLine{00135\ \mbox{\hyperlink{classBulletMinkowskiSumShape_aaa20a218786ee6c9e0673674560c5f8c}{complete\_pointers}}(\mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ **p\_list,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00136\ \ \ \textcolor{keywordtype}{int}\ pi\ =\ \mbox{\hyperlink{classTypedWritable_addc29bb978851cacca2196f8a1f35014}{BulletShape::complete\_pointers}}(p\_list,\ manager);}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \_shape\_a\ =\ DCAST(\mbox{\hyperlink{classBulletShape}{BulletShape}},\ p\_list[pi++]);}
\DoxyCodeLine{00139\ \ \ \_shape\_b\ =\ DCAST(\mbox{\hyperlink{classBulletShape}{BulletShape}},\ p\_list[pi++]);}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *transform\_a\ =\ DCAST(\mbox{\hyperlink{classTransformState}{TransformState}},\ p\_list[pi++]);}
\DoxyCodeLine{00142\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *transform\_b\ =\ DCAST(\mbox{\hyperlink{classTransformState}{TransformState}},\ p\_list[pi++]);}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \textcolor{keyword}{const}\ btConvexShape\ *ptr\_a\ =\ (\textcolor{keyword}{const}\ btConvexShape\ *)\_shape\_a-\/>ptr();}
\DoxyCodeLine{00145\ \ \ \textcolor{keyword}{const}\ btConvexShape\ *ptr\_b\ =\ (\textcolor{keyword}{const}\ btConvexShape\ *)\_shape\_b-\/>ptr();}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \_shape\ =\ \textcolor{keyword}{new}\ btMinkowskiSumShape(ptr\_a,\ ptr\_b);}
\DoxyCodeLine{00148\ \ \ \_shape-\/>setUserPointer(\textcolor{keyword}{this});}
\DoxyCodeLine{00149\ \ \ \_shape-\/>setMargin(\_margin);}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ set\_transform\_a(transform\_a);}
\DoxyCodeLine{00152\ \ \ set\_transform\_b(transform\_b);}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \textcolor{keywordflow}{return}\ pi;}
\DoxyCodeLine{00155\ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00163\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classBulletMinkowskiSumShape_a3292d3323b8e6f977362482e15023e4d}{BulletMinkowskiSumShape::}}}
\DoxyCodeLine{00164\ \mbox{\hyperlink{classBulletMinkowskiSumShape_a3292d3323b8e6f977362482e15023e4d}{require\_fully\_complete}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00165\ \ \ \textcolor{comment}{//\ We\ require\ the\ shape\ pointers\ to\ be\ complete\ before\ we\ add\ them.}}
\DoxyCodeLine{00166\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00167\ \}}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00174\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *\mbox{\hyperlink{classBulletMinkowskiSumShape_a0b2df994311776d3679133c48f785717}{BulletMinkowskiSumShape::}}}
\DoxyCodeLine{00175\ \mbox{\hyperlink{classBulletMinkowskiSumShape_a0b2df994311776d3679133c48f785717}{make\_from\_bam}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFactoryParams}{FactoryParams}}\ \&params)\ \{}
\DoxyCodeLine{00176\ \ \ \textcolor{comment}{//\ create\ a\ default\ BulletMinkowskiSumShape}}
\DoxyCodeLine{00177\ \ \ \mbox{\hyperlink{classBulletMinkowskiSumShape}{BulletMinkowskiSumShape}}\ *param\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classBulletMinkowskiSumShape}{BulletMinkowskiSumShape}};}
\DoxyCodeLine{00178\ \ \ \mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ scan;}
\DoxyCodeLine{00179\ \ \ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager;}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ parse\_params(params,\ scan,\ manager);}
\DoxyCodeLine{00182\ \ \ param-\/>fillin(scan,\ manager);}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \textcolor{keywordflow}{return}\ param;}
\DoxyCodeLine{00185\ \}}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00191\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classBulletMinkowskiSumShape_ab7e507a8aec167a2660baf7bbeeffa67}{BulletMinkowskiSumShape::}}}
\DoxyCodeLine{00192\ \mbox{\hyperlink{classBulletMinkowskiSumShape_ab7e507a8aec167a2660baf7bbeeffa67}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00193\ \ \ \mbox{\hyperlink{classTypedWritable_a3ad6cc1cd23bc3783d83edb3302bb43c}{BulletShape::fillin}}(scan,\ manager);}
\DoxyCodeLine{00194\ \ \ nassertv(\_shape\ ==\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \_margin\ =\ scan.get\_stdfloat();}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \textcolor{comment}{//\ parameters\ to\ serialize:\ \_shape\_a,\ \_shape\_b,\ \_transform\_a,\ \_transform\_b}}
\DoxyCodeLine{00199\ \ \ manager-\/>\mbox{\hyperlink{classBamReader_ac0ecc0609d9c6de514145777b3336435}{read\_pointer}}(scan);}
\DoxyCodeLine{00200\ \ \ manager-\/>\mbox{\hyperlink{classBamReader_ac0ecc0609d9c6de514145777b3336435}{read\_pointer}}(scan);}
\DoxyCodeLine{00201\ \ \ manager-\/>\mbox{\hyperlink{classBamReader_ac0ecc0609d9c6de514145777b3336435}{read\_pointer}}(scan);}
\DoxyCodeLine{00202\ \ \ manager-\/>\mbox{\hyperlink{classBamReader_ac0ecc0609d9c6de514145777b3336435}{read\_pointer}}(scan);}
\DoxyCodeLine{00203\ \}}

\end{DoxyCode}
