\doxysection{Factory\+Base Class Reference}
\hypertarget{classFactoryBase}{}\label{classFactoryBase}\index{FactoryBase@{FactoryBase}}


{\ttfamily \#include $<$factory\+Base.\+h$>$}

Inheritance diagram for Factory\+Base\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classFactoryBase}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classFactoryBase_a714c27d20835eac5f56d01affa06bf9b}\label{classFactoryBase_a714c27d20835eac5f56d01affa06bf9b} 
typedef \mbox{\hyperlink{classTypedObject}{Typed\+Object}} \texorpdfstring{$\ast$}{*} {\bfseries Base\+Create\+Func}(const \mbox{\hyperlink{classFactoryParams}{Factory\+Params}} \&params)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classFactoryBase_a33a5f04c217246993f39890709c78350}\label{classFactoryBase_a33a5f04c217246993f39890709c78350} 
{\bfseries Factory\+Base} (const \mbox{\hyperlink{classFactoryBase}{Factory\+Base}} \&copy)=delete
\item 
\Hypertarget{classFactoryBase_ac681cfb010fc6d59ca5b5a59e62ebdfe}\label{classFactoryBase_ac681cfb010fc6d59ca5b5a59e62ebdfe} 
\mbox{\hyperlink{classFactoryBase}{Factory\+Base}} \& {\bfseries operator=} (const \mbox{\hyperlink{classFactoryBase}{Factory\+Base}} \&copy)=delete
\item 
\mbox{\hyperlink{classTypedObject}{Typed\+Object}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classFactoryBase_a3876de669db76cfcbc90f007eecfbfd0}{make\+\_\+instance}} (\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} handle, const \mbox{\hyperlink{classFactoryParams}{Factory\+Params}} \&params)
\item 
\Hypertarget{classFactoryBase_ac9ae75580edf30859c8ce348b531203a}\label{classFactoryBase_ac9ae75580edf30859c8ce348b531203a} 
INLINE \mbox{\hyperlink{classTypedObject}{Typed\+Object}} \texorpdfstring{$\ast$}{*} {\bfseries make\+\_\+instance} (const std\+::string \&type\+\_\+name, const \mbox{\hyperlink{classFactoryParams}{Factory\+Params}} \&params)
\item 
\mbox{\hyperlink{classTypedObject}{Typed\+Object}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classFactoryBase_ad981f644b72a152234f7e196b5397734}{make\+\_\+instance\+\_\+more\+\_\+general}} (\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} handle, const \mbox{\hyperlink{classFactoryParams}{Factory\+Params}} \&params)
\item 
\Hypertarget{classFactoryBase_a501b854af2334c711b657cb542d577bf}\label{classFactoryBase_a501b854af2334c711b657cb542d577bf} 
INLINE \mbox{\hyperlink{classTypedObject}{Typed\+Object}} \texorpdfstring{$\ast$}{*} {\bfseries make\+\_\+instance\+\_\+more\+\_\+general} (const std\+::string \&type\+\_\+name, const \mbox{\hyperlink{classFactoryParams}{Factory\+Params}} \&params)
\item 
\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} \mbox{\hyperlink{classFactoryBase_a253d5d8b0bc14ae1e7027624602e18fd}{find\+\_\+registered\+\_\+type}} (\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} handle)
\item 
void \mbox{\hyperlink{classFactoryBase_a0733cb73c6162e22cb7071f8ef7a4def}{register\+\_\+factory}} (\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} handle, Base\+Create\+Func \texorpdfstring{$\ast$}{*}func, void \texorpdfstring{$\ast$}{*}user\+\_\+data=nullptr)
\item 
size\+\_\+t \mbox{\hyperlink{classFactoryBase_ae564f17d0b6f09d6ace3ae8f68c6854c}{get\+\_\+num\+\_\+types}} () const
\item 
\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} \mbox{\hyperlink{classFactoryBase_a33c79393fb3d19fda2afb4aac4ea7290}{get\+\_\+type}} (size\+\_\+t n) const
\item 
void \mbox{\hyperlink{classFactoryBase_acd4730a34d4dbc1cb35ed4edc0a35bd9}{clear\+\_\+preferred}} ()
\item 
void \mbox{\hyperlink{classFactoryBase_ab6bfb9d34f07cd53820b28795f26706e}{add\+\_\+preferred}} (\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} handle)
\item 
size\+\_\+t \mbox{\hyperlink{classFactoryBase_a898aa7c6c43b393578a8e7a96a3acfdd}{get\+\_\+num\+\_\+preferred}} () const
\item 
\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} \mbox{\hyperlink{classFactoryBase_ac4568196676f3a0ca0c5e4ad4869bcd3}{get\+\_\+preferred}} (size\+\_\+t n) const
\item 
void \mbox{\hyperlink{classFactoryBase_a2da12effcb0c595aba2453f2aa16e039}{write\+\_\+types}} (std\+::ostream \&out, int indent\+\_\+level=0) const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A \doxylink{classFactory}{Factory} can be used to create an instance of a particular subclass of some general base class. Each subclass registers itself with the \doxylink{classFactory}{Factory}, supplying a function that will construct an instance of that subclass; the \doxylink{classFactory}{Factory} can later choose a suitable subclass and return a newly-\/constructed pointer to an object of that type on the user\textquotesingle{}s demand. This is used, for instance, to manage the set of Graphics\+Pipes available to the user.

\doxylink{classFactoryBase}{Factory\+Base} is the main definition of the thin template class \doxylink{classFactory}{Factory}. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classFactoryBase_ab6bfb9d34f07cd53820b28795f26706e}\label{classFactoryBase_ab6bfb9d34f07cd53820b28795f26706e} 
\index{FactoryBase@{FactoryBase}!add\_preferred@{add\_preferred}}
\index{add\_preferred@{add\_preferred}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{add\_preferred()}{add\_preferred()}}
{\footnotesize\ttfamily void Factory\+Base\+::add\+\_\+preferred (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTypeHandle}{Type\+Handle}}}]{handle }\end{DoxyParamCaption})}

Adds the indicated type to the end of the list of preferred types. On the next call to \doxylink{classFactoryBase_a3876de669db76cfcbc90f007eecfbfd0}{make\+\_\+instance()}, if the exact type requested cannot be created, the preferred types are first tried in the order specified. \Hypertarget{classFactoryBase_acd4730a34d4dbc1cb35ed4edc0a35bd9}\label{classFactoryBase_acd4730a34d4dbc1cb35ed4edc0a35bd9} 
\index{FactoryBase@{FactoryBase}!clear\_preferred@{clear\_preferred}}
\index{clear\_preferred@{clear\_preferred}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{clear\_preferred()}{clear\_preferred()}}
{\footnotesize\ttfamily void Factory\+Base\+::clear\+\_\+preferred (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Empties the list of preferred types. \Hypertarget{classFactoryBase_a253d5d8b0bc14ae1e7027624602e18fd}\label{classFactoryBase_a253d5d8b0bc14ae1e7027624602e18fd} 
\index{FactoryBase@{FactoryBase}!find\_registered\_type@{find\_registered\_type}}
\index{find\_registered\_type@{find\_registered\_type}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{find\_registered\_type()}{find\_registered\_type()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTypeHandle}{Type\+Handle}} Factory\+Base\+::find\+\_\+registered\+\_\+type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTypeHandle}{Type\+Handle}}}]{handle }\end{DoxyParamCaption})}

Returns the \doxylink{classTypeHandle}{Type\+Handle} given, if it is a registered type, or if it is not registered, searches for the nearest ancestor of the indicated type that is registered and returns it. If no ancestor of the indicated type is registered, returns Type\+Handle\+::none(). \Hypertarget{classFactoryBase_a898aa7c6c43b393578a8e7a96a3acfdd}\label{classFactoryBase_a898aa7c6c43b393578a8e7a96a3acfdd} 
\index{FactoryBase@{FactoryBase}!get\_num\_preferred@{get\_num\_preferred}}
\index{get\_num\_preferred@{get\_num\_preferred}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{get\_num\_preferred()}{get\_num\_preferred()}}
{\footnotesize\ttfamily size\+\_\+t Factory\+Base\+::get\+\_\+num\+\_\+preferred (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the number of types added to the preferred-\/type list. \Hypertarget{classFactoryBase_ae564f17d0b6f09d6ace3ae8f68c6854c}\label{classFactoryBase_ae564f17d0b6f09d6ace3ae8f68c6854c} 
\index{FactoryBase@{FactoryBase}!get\_num\_types@{get\_num\_types}}
\index{get\_num\_types@{get\_num\_types}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{get\_num\_types()}{get\_num\_types()}}
{\footnotesize\ttfamily size\+\_\+t Factory\+Base\+::get\+\_\+num\+\_\+types (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the number of different types the \doxylink{classFactory}{Factory} knows how to create. \Hypertarget{classFactoryBase_ac4568196676f3a0ca0c5e4ad4869bcd3}\label{classFactoryBase_ac4568196676f3a0ca0c5e4ad4869bcd3} 
\index{FactoryBase@{FactoryBase}!get\_preferred@{get\_preferred}}
\index{get\_preferred@{get\_preferred}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{get\_preferred()}{get\_preferred()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTypeHandle}{Type\+Handle}} Factory\+Base\+::get\+\_\+preferred (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n }\end{DoxyParamCaption}) const}

Returns the nth type added to the preferred-\/type list. \Hypertarget{classFactoryBase_a33c79393fb3d19fda2afb4aac4ea7290}\label{classFactoryBase_a33c79393fb3d19fda2afb4aac4ea7290} 
\index{FactoryBase@{FactoryBase}!get\_type@{get\_type}}
\index{get\_type@{get\_type}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{get\_type()}{get\_type()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTypeHandle}{Type\+Handle}} Factory\+Base\+::get\+\_\+type (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n }\end{DoxyParamCaption}) const}

Returns the nth type the \doxylink{classFactory}{Factory} knows how to create. This is not a terribly efficient function; it\textquotesingle{}s included primarily for debugging output. Normally you wouldn\textquotesingle{}t need to traverse the list of the \doxylink{classFactory}{Factory}\textquotesingle{}s types. \Hypertarget{classFactoryBase_a3876de669db76cfcbc90f007eecfbfd0}\label{classFactoryBase_a3876de669db76cfcbc90f007eecfbfd0} 
\index{FactoryBase@{FactoryBase}!make\_instance@{make\_instance}}
\index{make\_instance@{make\_instance}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{make\_instance()}{make\_instance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTypedObject}{Typed\+Object}} \texorpdfstring{$\ast$}{*} Factory\+Base\+::make\+\_\+instance (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTypeHandle}{Type\+Handle}}}]{handle,  }\item[{const \mbox{\hyperlink{classFactoryParams}{Factory\+Params}} \&}]{params }\end{DoxyParamCaption})}

Attempts to create a new instance of some class of the indicated type, or some derivative if necessary. If an instance of the exact type cannot be created, the specified preferred will specify which derived class will be preferred. \Hypertarget{classFactoryBase_ad981f644b72a152234f7e196b5397734}\label{classFactoryBase_ad981f644b72a152234f7e196b5397734} 
\index{FactoryBase@{FactoryBase}!make\_instance\_more\_general@{make\_instance\_more\_general}}
\index{make\_instance\_more\_general@{make\_instance\_more\_general}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{make\_instance\_more\_general()}{make\_instance\_more\_general()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTypedObject}{Typed\+Object}} \texorpdfstring{$\ast$}{*} Factory\+Base\+::make\+\_\+instance\+\_\+more\+\_\+general (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTypeHandle}{Type\+Handle}}}]{handle,  }\item[{const \mbox{\hyperlink{classFactoryParams}{Factory\+Params}} \&}]{params }\end{DoxyParamCaption})}

Attempts to create an instance of the type requested, or some base type of the type requested. Returns the new instance created, or NULL if the instance could not be created. \Hypertarget{classFactoryBase_a0733cb73c6162e22cb7071f8ef7a4def}\label{classFactoryBase_a0733cb73c6162e22cb7071f8ef7a4def} 
\index{FactoryBase@{FactoryBase}!register\_factory@{register\_factory}}
\index{register\_factory@{register\_factory}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{register\_factory()}{register\_factory()}}
{\footnotesize\ttfamily void Factory\+Base\+::register\+\_\+factory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTypeHandle}{Type\+Handle}}}]{handle,  }\item[{Base\+Create\+Func \texorpdfstring{$\ast$}{*}}]{func,  }\item[{void \texorpdfstring{$\ast$}{*}}]{user\+\_\+data = {\ttfamily nullptr} }\end{DoxyParamCaption})}

Registers a new kind of thing the \doxylink{classFactory}{Factory} will be able to create.


\begin{DoxyParams}{Parameters}
{\em user\+\_\+data} & an optional pointer to be passed along to the function. \\
\hline
\end{DoxyParams}
\Hypertarget{classFactoryBase_a2da12effcb0c595aba2453f2aa16e039}\label{classFactoryBase_a2da12effcb0c595aba2453f2aa16e039} 
\index{FactoryBase@{FactoryBase}!write\_types@{write\_types}}
\index{write\_types@{write\_types}!FactoryBase@{FactoryBase}}
\doxysubsubsection{\texorpdfstring{write\_types()}{write\_types()}}
{\footnotesize\ttfamily void Factory\+Base\+::write\+\_\+types (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{out,  }\item[{int}]{indent\+\_\+level = {\ttfamily 0} }\end{DoxyParamCaption}) const}

Writes a list of all known types the \doxylink{classFactory}{Factory} can create to the indicated output stream, one per line. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
panda/src/putil/\mbox{\hyperlink{factoryBase_8h}{factory\+Base.\+h}}\item 
panda/src/putil/\mbox{\hyperlink{factoryBase_8cxx}{factory\+Base.\+cxx}}\end{DoxyCompactItemize}
