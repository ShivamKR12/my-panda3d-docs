\doxysection{Global\+Pointer\+Registry Class Reference}
\hypertarget{classGlobalPointerRegistry}{}\label{classGlobalPointerRegistry}\index{GlobalPointerRegistry@{GlobalPointerRegistry}}


{\ttfamily \#include $<$global\+Pointer\+Registry.\+h$>$}

\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classGlobalPointerRegistry_a7c365e5bfaad675bcbf1ab4e88c60282}\label{classGlobalPointerRegistry_a7c365e5bfaad675bcbf1ab4e88c60282} 
static INLINE void \texorpdfstring{$\ast$}{*} {\bfseries get\+\_\+pointer} (\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} type)
\item 
\Hypertarget{classGlobalPointerRegistry_aa230acc88aef8acdd3a5ce8da31f92ca}\label{classGlobalPointerRegistry_aa230acc88aef8acdd3a5ce8da31f92ca} 
static INLINE void {\bfseries store\+\_\+pointer} (\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} type, void \texorpdfstring{$\ast$}{*}ptr)
\item 
\Hypertarget{classGlobalPointerRegistry_a956fecf8cde0b0078795940d200de958}\label{classGlobalPointerRegistry_a956fecf8cde0b0078795940d200de958} 
static INLINE void {\bfseries clear\+\_\+pointer} (\mbox{\hyperlink{classTypeHandle}{Type\+Handle}} type)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class maintains a one-\/to-\/one mapping from \doxylink{classTypeHandle}{Type\+Handle} to a void \texorpdfstring{$\ast$}{*} pointer. Its purpose is to store a pointer to some class data for a given class.

Normally, one would simply use a static data member to store class data. However, when the static data is associated with a template class, the dynamic loader may have difficulty in properly resolving the statics.

Consider\+: class foo$<$int$>$ defines a static member, \+\_\+a. There should be only one instance of \+\_\+a shared between all instances of foo$<$int$>$, and there will be a different instance of \+\_\+a shared between all instances of foo$<$float$>$.

Now suppose that two different shared libraries instantiate foo$<$int$>$. In each .so, there exists a different foo$<$int$>$\+::\+\_\+a. It is the loader\textquotesingle{}s job to recognize this and collapse them together when both libraries are loaded. This usually works, but sometimes it doesn\textquotesingle{}t, and you end up with two different instances of foo$<$int$>$\+::\+\_\+a; some functions see one instance, while others see the other. We have particularly seen this problem occur under Linux with gcc.

This class attempts to circumvent the problem by managing pointers to data based on \doxylink{classTypeHandle}{Type\+Handle}. Since the \doxylink{classTypeHandle}{Type\+Handle} will already be unique based on the string name supplied to the init\+\_\+type() function, it can be used to differentiate foo$<$int$>$ from foo$<$float$>$, while allowing different instances of foo$<$int$>$ to guarantee that they share the same static data. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
panda/src/putil/\mbox{\hyperlink{globalPointerRegistry_8h}{global\+Pointer\+Registry.\+h}}\item 
panda/src/putil/\mbox{\hyperlink{globalPointerRegistry_8cxx}{global\+Pointer\+Registry.\+cxx}}\end{DoxyCompactItemize}
