\doxysection{text\+Font.\+cxx}
\hypertarget{textFont_8cxx_source}{}\label{textFont_8cxx_source}\index{panda/src/text/textFont.cxx@{panda/src/text/textFont.cxx}}
\mbox{\hyperlink{textFont_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{textFont_8h}{textFont.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__text_8h}{config\_text.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{string__utils_8h}{string\_utils.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomVertexData_8h}{geomVertexData.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomVertexFormat_8h}{geomVertexFormat.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomVertexWriter_8h}{geomVertexWriter.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomLinestrips_8h}{geomLinestrips.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geom_8h}{geom.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <ctype.h>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{using\ }std::istream;}
\DoxyCodeLine{00025\ \textcolor{keyword}{using\ }std::ostream;}
\DoxyCodeLine{00026\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ TextFont::\_type\_handle;}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00033\ TextFont::}
\DoxyCodeLine{00034\ TextFont()\ \{}
\DoxyCodeLine{00035\ \ \ \_is\_valid\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00036\ \ \ \_line\_height\ =\ 1.0f;}
\DoxyCodeLine{00037\ \ \ \_space\_advance\ =\ 0.25f;}
\DoxyCodeLine{00038\ \ \ \_total\_poly\_margin\ =\ 0.0f;}
\DoxyCodeLine{00039\ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00044\ TextFont::}
\DoxyCodeLine{00045\ TextFont(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTextFont}{TextFont}}\ \&copy)\ :}
\DoxyCodeLine{00046\ \ \ \mbox{\hyperlink{classNamable}{Namable}}(copy),}
\DoxyCodeLine{00047\ \ \ \_is\_valid(copy.\_is\_valid),}
\DoxyCodeLine{00048\ \ \ \_line\_height(copy.\_line\_height),}
\DoxyCodeLine{00049\ \ \ \_space\_advance(copy.\_space\_advance),}
\DoxyCodeLine{00050\ \ \ \_total\_poly\_margin(copy.\_total\_poly\_margin)}
\DoxyCodeLine{00051\ \{}
\DoxyCodeLine{00052\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00057\ TextFont::}
\DoxyCodeLine{00058\ \string~TextFont()\ \{}
\DoxyCodeLine{00059\ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00066\ PN\_stdfloat\ \mbox{\hyperlink{classTextFont_a55d6b36c5e861a81d04bb0d4483a73ab}{TextFont::}}}
\DoxyCodeLine{00067\ \mbox{\hyperlink{classTextFont_a55d6b36c5e861a81d04bb0d4483a73ab}{get\_kerning}}(\textcolor{keywordtype}{int}\ first,\ \textcolor{keywordtype}{int}\ second)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00068\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00069\ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00074\ \textcolor{keywordtype}{void}\ TextFont::}
\DoxyCodeLine{00075\ write(ostream\ \&out,\ \textcolor{keywordtype}{int}\ indent\_level)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00076\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)}
\DoxyCodeLine{00077\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}TextFont\ "{}}\ <<\ get\_name()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00078\ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00091\ \mbox{\hyperlink{classTextGlyph}{TextGlyph}}\ *\mbox{\hyperlink{classTextFont_a2342fe9fe7bd4059939ddf8a8896e206}{TextFont::}}}
\DoxyCodeLine{00092\ \mbox{\hyperlink{classTextFont_a2342fe9fe7bd4059939ddf8a8896e206}{get\_invalid\_glyph}}()\ \{}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{if}\ (\_invalid\_glyph\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00094\ \ \ \ \ make\_invalid\_glyph();}
\DoxyCodeLine{00095\ \ \ \}}
\DoxyCodeLine{00096\ \ \ \textcolor{keywordflow}{return}\ \_invalid\_glyph;}
\DoxyCodeLine{00097\ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00104\ TextFont::RenderMode\ \mbox{\hyperlink{classTextFont_ac90bdf317ee3cbb2bdba7705094d3d28}{TextFont::}}}
\DoxyCodeLine{00105\ \mbox{\hyperlink{classTextFont_ac90bdf317ee3cbb2bdba7705094d3d28}{string\_render\_mode}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&\textcolor{keywordtype}{string})\ \{}
\DoxyCodeLine{00106\ \ \ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(\textcolor{keywordtype}{string},\ \textcolor{stringliteral}{"{}texture"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordflow}{return}\ RM\_texture;}
\DoxyCodeLine{00108\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(\textcolor{keywordtype}{string},\ \textcolor{stringliteral}{"{}wireframe"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordflow}{return}\ RM\_wireframe;}
\DoxyCodeLine{00110\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(\textcolor{keywordtype}{string},\ \textcolor{stringliteral}{"{}polygon"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordflow}{return}\ RM\_polygon;}
\DoxyCodeLine{00112\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(\textcolor{keywordtype}{string},\ \textcolor{stringliteral}{"{}extruded"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordflow}{return}\ RM\_extruded;}
\DoxyCodeLine{00114\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(\textcolor{keywordtype}{string},\ \textcolor{stringliteral}{"{}solid"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordflow}{return}\ RM\_solid;}
\DoxyCodeLine{00116\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(\textcolor{keywordtype}{string},\ \textcolor{stringliteral}{"{}distance\_field"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{return}\ RM\_distance\_field;}
\DoxyCodeLine{00118\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{return}\ RM\_invalid;}
\DoxyCodeLine{00120\ \ \ \}}
\DoxyCodeLine{00121\ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00126\ \textcolor{keywordtype}{void}\ TextFont::}
\DoxyCodeLine{00127\ make\_invalid\_glyph()\ \{}
\DoxyCodeLine{00128\ \ \ CPT(\mbox{\hyperlink{classGeomVertexFormat}{GeomVertexFormat}})\ vformat\ =\ GeomVertexFormat::get\_v3();}
\DoxyCodeLine{00129\ \ \ PT(\mbox{\hyperlink{classGeomVertexData}{GeomVertexData}})\ vdata\ =}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGeomVertexData}{GeomVertexData}}(\textcolor{stringliteral}{"{}invalid\_glyph"{}},\ vformat,\ GeomEnums::UH\_static);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \mbox{\hyperlink{classGeomVertexWriter}{GeomVertexWriter}}\ vertex(vdata,\ InternalName::get\_vertex());}
\DoxyCodeLine{00133\ \ \ vertex.add\_data3(\_line\_height\ *\ 0.2,\ 0.0f,\ \_line\_height\ *\ 0.1f);}
\DoxyCodeLine{00134\ \ \ vertex.add\_data3(\_line\_height\ *\ 0.5f,\ 0.0f,\ \_line\_height\ *\ 0.1f);}
\DoxyCodeLine{00135\ \ \ vertex.add\_data3(\_line\_height\ *\ 0.5f,\ 0.0f,\ \_line\_height\ *\ 0.7f);}
\DoxyCodeLine{00136\ \ \ vertex.add\_data3(\_line\_height\ *\ 0.2,\ 0.0f,\ \_line\_height\ *\ 0.7f);}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ PT(\mbox{\hyperlink{classGeomPrimitive}{GeomPrimitive}})\ prim\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGeomLinestrips}{GeomLinestrips}}(GeomEnums::UH\_static);}
\DoxyCodeLine{00139\ \ \ prim-\/>add\_consecutive\_vertices(0,\ 4);}
\DoxyCodeLine{00140\ \ \ prim-\/>add\_vertex(0);}
\DoxyCodeLine{00141\ \ \ prim-\/>close\_primitive();}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ PT(\mbox{\hyperlink{classGeom}{Geom}})\ geom\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGeom}{Geom}}(vdata);}
\DoxyCodeLine{00144\ \ \ geom-\/>add\_primitive(prim);}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \_invalid\_glyph\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classTextGlyph}{TextGlyph}}(0,\ geom,\ RenderState::make\_empty(),}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_line\_height\ *\ 0.7f);}
\DoxyCodeLine{00148\ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00153\ ostream\ \&}
\DoxyCodeLine{00154\ operator\ <<\ (ostream\ \&out,\ TextFont::RenderMode\ rm)\ \{}
\DoxyCodeLine{00155\ \ \ \textcolor{keywordflow}{switch}\ (rm)\ \{}
\DoxyCodeLine{00156\ \ \ \textcolor{keywordflow}{case}\ TextFont::RM\_texture:}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}texture"{}};}
\DoxyCodeLine{00158\ \ \ \textcolor{keywordflow}{case}\ TextFont::RM\_wireframe:}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}wireframe"{}};}
\DoxyCodeLine{00160\ \ \ \textcolor{keywordflow}{case}\ TextFont::RM\_polygon:}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}polygon"{}};}
\DoxyCodeLine{00162\ \ \ \textcolor{keywordflow}{case}\ TextFont::RM\_extruded:}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}extruded"{}};}
\DoxyCodeLine{00164\ \ \ \textcolor{keywordflow}{case}\ TextFont::RM\_solid:}
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}solid"{}};}
\DoxyCodeLine{00166\ \ \ \textcolor{keywordflow}{case}\ TextFont::RM\_distance\_field:}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}distance-\/field"{}};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \textcolor{keywordflow}{case}\ TextFont::RM\_invalid:}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}invalid"{}};}
\DoxyCodeLine{00171\ \ \ \}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}(**invalid\ TextFont::RenderMode("{}}\ <<\ (int)rm\ <<\ \textcolor{stringliteral}{"{})**)"{}};}
\DoxyCodeLine{00174\ \}}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00179\ istream\ \&}
\DoxyCodeLine{00180\ operator\ >>\ (istream\ \&in,\ TextFont::RenderMode\ \&rm)\ \{}
\DoxyCodeLine{00181\ \ \ \textcolor{keywordtype}{string}\ word;}
\DoxyCodeLine{00182\ \ \ in\ >>\ word;}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ rm\ =\ \mbox{\hyperlink{classTextFont_ac90bdf317ee3cbb2bdba7705094d3d28}{TextFont::string\_render\_mode}}(word);}
\DoxyCodeLine{00185\ \ \ \textcolor{keywordflow}{return}\ in;}
\DoxyCodeLine{00186\ \}}

\end{DoxyCode}
