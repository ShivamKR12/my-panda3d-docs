\doxysection{tiny\+Graphics\+State\+Guardian.\+h}
\hypertarget{tinyGraphicsStateGuardian_8h_source}{}\label{tinyGraphicsStateGuardian_8h_source}\index{panda/src/tinydisplay/tinyGraphicsStateGuardian.h@{panda/src/tinydisplay/tinyGraphicsStateGuardian.h}}
\mbox{\hyperlink{tinyGraphicsStateGuardian_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ TINYGRAPHICSSTATEGUARDIAN\_H}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ TINYGRAPHICSSTATEGUARDIAN\_H}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandabase_8h}{pandabase.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{graphicsStateGuardian_8h}{graphicsStateGuardian.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{colorBlendAttrib_8h}{colorBlendAttrib.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{simpleLru_8h}{simpleLru.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}zmath.h"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}zbuffer.h"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}zgl.h"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomVertexReader_8h}{geomVertexReader.h}}"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classTinyTextureContext}{TinyTextureContext}};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{class\ }EXPCL\_TINYDISPLAY\ \mbox{\hyperlink{classTinyGraphicsStateGuardian}{TinyGraphicsStateGuardian}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classGraphicsStateGuardian}{GraphicsStateGuardian}}\ \{}
\DoxyCodeLine{00039\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{classTinyGraphicsStateGuardian}{TinyGraphicsStateGuardian}}(\mbox{\hyperlink{classGraphicsEngine}{GraphicsEngine}}\ *engine,\ \mbox{\hyperlink{classGraphicsPipe}{GraphicsPipe}}\ *pipe,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classTinyGraphicsStateGuardian}{TinyGraphicsStateGuardian}}\ *share\_with);}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTinyGraphicsStateGuardian}{\string~TinyGraphicsStateGuardian}}();}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_ac11c772db1e7f8a61c012d196161ee80}{reset}}();}
\DoxyCodeLine{00046\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_adf8e313cc5283a210c1d1a459f9c7545}{free\_pointers}}();}
\DoxyCodeLine{00047\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_a5dadeaf8b5e465a29273c5da8f000267}{close\_gsg}}();}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_a1912bec3c610acfdcdfe00f6a8d9dfb8}{depth\_offset\_decals}}();}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{virtual}\ PT(\mbox{\hyperlink{classGeomMunger}{GeomMunger}})\ make\_geom\_munger(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *state,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classThread}{Thread}}\ *current\_thread);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_ae2c8994262a8a36ce73c20faf0cc813a}{clear}}(\mbox{\hyperlink{classDrawableRegion}{DrawableRegion}}\ *clearable);}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_a60bb06c5987b92bc39591d4a27bea4ab}{prepare\_display\_region}}(\mbox{\hyperlink{classDisplayRegionPipelineReader}{DisplayRegionPipelineReader}}\ *dr);}
\DoxyCodeLine{00057\ \ \ \textcolor{keyword}{virtual}\ CPT(\mbox{\hyperlink{classTransformState}{TransformState}})\ calc\_projection\_mat(\textcolor{keyword}{const}\ \mbox{\hyperlink{classLens}{Lens}}\ *lens);}
\DoxyCodeLine{00058\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_a508d4e2fe79c9d0ef2eb709ecfae0c24}{prepare\_lens}}();}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_ae76699ce050f1a2ffbda6ee0ec2bdcfd}{begin\_frame}}(\mbox{\hyperlink{classThread}{Thread}}\ *current\_thread);}
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ begin\_scene();}
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_ab8d7bc997a78e7a442fcdb920cce0af4}{end\_scene}}();}
\DoxyCodeLine{00063\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_aabb3c4bf7c00f08f1b1a4c1d570c0370}{end\_frame}}(\mbox{\hyperlink{classThread}{Thread}}\ *current\_thread);}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_ad878adb93c40352f545d8d95dac0095b}{begin\_draw\_primitives}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomPipelineReader}{GeomPipelineReader}}\ *geom\_reader,}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomVertexDataPipelineReader}{GeomVertexDataPipelineReader}}\ *data\_reader,}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ num\_instances,\ \textcolor{keywordtype}{bool}\ force);}
\DoxyCodeLine{00068\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_a348d70f85be387aae0c6ff0750d7724d}{draw\_triangles}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomPrimitivePipelineReader}{GeomPrimitivePipelineReader}}\ *reader,}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ force);}
\DoxyCodeLine{00070\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_aceb89defbe047ce2a00ac43d8b3ee326}{draw\_tristrips}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomPrimitivePipelineReader}{GeomPrimitivePipelineReader}}\ *reader,}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ force);}
\DoxyCodeLine{00072\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_a42af326f7695741fa08f69316bb53bb3}{draw\_lines}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomPrimitivePipelineReader}{GeomPrimitivePipelineReader}}\ *reader,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ force);}
\DoxyCodeLine{00074\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_a12e121fae2b064710f974c741569dbc9}{draw\_points}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomPrimitivePipelineReader}{GeomPrimitivePipelineReader}}\ *reader,}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ force);}
\DoxyCodeLine{00076\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_afb3b42dedbfe034a5dffa5b9464fcb64}{end\_draw\_primitives}}();}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_a5f0bb8796a5ca0970c9f75482944f8fb}{framebuffer\_copy\_to\_texture}}}
\DoxyCodeLine{00079\ \ \ (\mbox{\hyperlink{classTexture}{Texture}}\ *tex,\ \textcolor{keywordtype}{int}\ view,\ \textcolor{keywordtype}{int}\ z,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classDisplayRegion}{DisplayRegion}}\ *dr,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderBuffer}{RenderBuffer}}\ \&rb);}
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_a98221f5a2c02609c1e0a72047b877018}{framebuffer\_copy\_to\_ram}}}
\DoxyCodeLine{00081\ \ \ (\mbox{\hyperlink{classTexture}{Texture}}\ *tex,\ \textcolor{keywordtype}{int}\ view,\ \textcolor{keywordtype}{int}\ z,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classDisplayRegion}{DisplayRegion}}\ *dr,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderBuffer}{RenderBuffer}}\ \&rb,}
\DoxyCodeLine{00082\ \ \ \ \mbox{\hyperlink{classScreenshotRequest}{ScreenshotRequest}}\ *request);}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_ad6f69fb763c86c69eca984c49c92c36a}{set\_state\_and\_transform}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *state,}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *transform);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTextureContext}{TextureContext}}\ *\mbox{\hyperlink{classGraphicsStateGuardian_aee9d24bf6e0d3bf6a87be2ceb6364b98}{prepare\_texture}}(\mbox{\hyperlink{classTexture}{Texture}}\ *tex);}
\DoxyCodeLine{00088\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_a2582880d4f5d1fce9dbcca2a9df49a49}{update\_texture}}(\mbox{\hyperlink{classTextureContext}{TextureContext}}\ *tc,\ \textcolor{keywordtype}{bool}\ force);}
\DoxyCodeLine{00089\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsStateGuardian_a2582880d4f5d1fce9dbcca2a9df49a49}{update\_texture}}(\mbox{\hyperlink{classTextureContext}{TextureContext}}\ *tc,\ \textcolor{keywordtype}{int}\ view,\ \textcolor{keywordtype}{bool}\ force,\ \textcolor{keywordtype}{int}\ stage\_index,\ \textcolor{keywordtype}{bool}\ uses\_mipmaps);}
\DoxyCodeLine{00090\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_ac68a3b7da73968377886782ef71306ac}{release\_texture}}(\mbox{\hyperlink{classTextureContext}{TextureContext}}\ *tc);}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_a6b9a0eed607fa942d9177247938466e6}{do\_issue\_light}}();}
\DoxyCodeLine{00093\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_a3cb9f6ee3e5efd69881f5333749ea7f4}{bind\_light}}(\mbox{\hyperlink{classPointLight}{PointLight}}\ *light\_obj,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classNodePath}{NodePath}}\ \&light,}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ light\_id);}
\DoxyCodeLine{00095\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_a3cb9f6ee3e5efd69881f5333749ea7f4}{bind\_light}}(\mbox{\hyperlink{classDirectionalLight}{DirectionalLight}}\ *light\_obj,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classNodePath}{NodePath}}\ \&light,}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ light\_id);}
\DoxyCodeLine{00097\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsStateGuardian_a3cb9f6ee3e5efd69881f5333749ea7f4}{bind\_light}}(\mbox{\hyperlink{classSpotlight}{Spotlight}}\ *light\_obj,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classNodePath}{NodePath}}\ \&light,}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ light\_id);}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00101\ \ \ \textcolor{keywordtype}{void}\ do\_issue\_transform();}
\DoxyCodeLine{00102\ \ \ \textcolor{keywordtype}{void}\ do\_issue\_render\_mode();}
\DoxyCodeLine{00103\ \ \ \textcolor{keywordtype}{void}\ do\_issue\_cull\_face();}
\DoxyCodeLine{00104\ \ \ \textcolor{keywordtype}{void}\ do\_issue\_rescale\_normal();}
\DoxyCodeLine{00105\ \ \ \textcolor{keywordtype}{void}\ do\_issue\_depth\_offset();}
\DoxyCodeLine{00106\ \ \ \textcolor{keywordtype}{void}\ do\_issue\_material();}
\DoxyCodeLine{00107\ \ \ \textcolor{keywordtype}{void}\ do\_issue\_texture();}
\DoxyCodeLine{00108\ \ \ \textcolor{keywordtype}{void}\ do\_issue\_scissor();}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \textcolor{keywordtype}{void}\ set\_scissor(PN\_stdfloat\ left,\ PN\_stdfloat\ right,\ PN\_stdfloat\ bottom,\ PN\_stdfloat\ top);}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \textcolor{keywordtype}{bool}\ apply\_texture(\mbox{\hyperlink{classTextureContext}{TextureContext}}\ *tc);}
\DoxyCodeLine{00113\ \ \ \textcolor{keywordtype}{bool}\ upload\_texture(\mbox{\hyperlink{classTinyTextureContext}{TinyTextureContext}}\ *gtc,\ \textcolor{keywordtype}{bool}\ force,\ \textcolor{keywordtype}{bool}\ uses\_mipmaps);}
\DoxyCodeLine{00114\ \ \ \textcolor{keywordtype}{bool}\ upload\_simple\_texture(\mbox{\hyperlink{classTinyTextureContext}{TinyTextureContext}}\ *gtc);}
\DoxyCodeLine{00115\ \ \ \textcolor{keywordtype}{bool}\ setup\_gltex(\mbox{\hyperlink{structGLTexture}{GLTexture}}\ *gltex,\ \textcolor{keywordtype}{int}\ x\_size,\ \textcolor{keywordtype}{int}\ y\_size,\ \textcolor{keywordtype}{int}\ num\_views,\ \textcolor{keywordtype}{int}\ num\_levels);}
\DoxyCodeLine{00116\ \ \ \textcolor{keywordtype}{int}\ get\_tex\_shift(\textcolor{keywordtype}{int}\ orig\_size);}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ copy\_lum\_image(\mbox{\hyperlink{structZTextureLevel}{ZTextureLevel}}\ *dest,\ \textcolor{keywordtype}{int}\ xsize,\ \textcolor{keywordtype}{int}\ ysize,\ \mbox{\hyperlink{classTinyTextureContext}{TinyTextureContext}}\ *gtc,\ \textcolor{keywordtype}{int}\ view,\ \textcolor{keywordtype}{int}\ level);}
\DoxyCodeLine{00119\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ copy\_alpha\_image(\mbox{\hyperlink{structZTextureLevel}{ZTextureLevel}}\ *dest,\ \textcolor{keywordtype}{int}\ xsize,\ \textcolor{keywordtype}{int}\ ysize,\ \mbox{\hyperlink{classTinyTextureContext}{TinyTextureContext}}\ *gtc,\ \textcolor{keywordtype}{int}\ view,\ \textcolor{keywordtype}{int}\ level);}
\DoxyCodeLine{00120\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ copy\_one\_channel\_image(\mbox{\hyperlink{structZTextureLevel}{ZTextureLevel}}\ *dest,\ \textcolor{keywordtype}{int}\ xsize,\ \textcolor{keywordtype}{int}\ ysize,\ \mbox{\hyperlink{classTinyTextureContext}{TinyTextureContext}}\ *gtc,\ \textcolor{keywordtype}{int}\ view,\ \textcolor{keywordtype}{int}\ level,\ \textcolor{keywordtype}{int}\ channel);}
\DoxyCodeLine{00121\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ copy\_la\_image(\mbox{\hyperlink{structZTextureLevel}{ZTextureLevel}}\ *dest,\ \textcolor{keywordtype}{int}\ xsize,\ \textcolor{keywordtype}{int}\ ysize,\ \mbox{\hyperlink{classTinyTextureContext}{TinyTextureContext}}\ *gtc,\ \textcolor{keywordtype}{int}\ view,\ \textcolor{keywordtype}{int}\ level);}
\DoxyCodeLine{00122\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ copy\_rgb\_image(\mbox{\hyperlink{structZTextureLevel}{ZTextureLevel}}\ *dest,\ \textcolor{keywordtype}{int}\ xsize,\ \textcolor{keywordtype}{int}\ ysize,\ \mbox{\hyperlink{classTinyTextureContext}{TinyTextureContext}}\ *gtc,\ \textcolor{keywordtype}{int}\ view,\ \textcolor{keywordtype}{int}\ level);}
\DoxyCodeLine{00123\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ copy\_rgba\_image(\mbox{\hyperlink{structZTextureLevel}{ZTextureLevel}}\ *dest,\ \textcolor{keywordtype}{int}\ xsize,\ \textcolor{keywordtype}{int}\ ysize,\ \mbox{\hyperlink{classTinyTextureContext}{TinyTextureContext}}\ *gtc,\ \textcolor{keywordtype}{int}\ view,\ \textcolor{keywordtype}{int}\ level);}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \textcolor{keywordtype}{void}\ setup\_material(\mbox{\hyperlink{structGLMaterial}{GLMaterial}}\ *gl\_material,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classMaterial}{Material}}\ *material);}
\DoxyCodeLine{00126\ \ \ \textcolor{keywordtype}{void}\ do\_auto\_rescale\_normal();}
\DoxyCodeLine{00127\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ load\_matrix(\mbox{\hyperlink{structM4}{M4}}\ *matrix,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *transform);}
\DoxyCodeLine{00128\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ get\_color\_blend\_op(ColorBlendAttrib::Operand\ operand);}
\DoxyCodeLine{00129\ \ \ \textcolor{keyword}{static}\ ZB\_lookupTextureFunc\ get\_tex\_filter\_func(SamplerState::FilterType\ filter);}
\DoxyCodeLine{00130\ \ \ \textcolor{keyword}{static}\ ZB\_texWrapFunc\ get\_tex\_wrap\_func(SamplerState::WrapMode\ wrap\_mode);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ INLINE\ \textcolor{keywordtype}{void}\ clear\_light\_state();}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \textcolor{comment}{//\ Methods\ used\ to\ generate\ texture\ coordinates.}}
\DoxyCodeLine{00135\ \ \ \textcolor{keyword}{class\ }TexCoordData\ \{}
\DoxyCodeLine{00136\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{classGeomVertexReader}{GeomVertexReader}}\ \_r1;}
\DoxyCodeLine{00138\ \ \ \ \ \mbox{\hyperlink{classGeomVertexReader}{GeomVertexReader}}\ \_r2;}
\DoxyCodeLine{00139\ \ \ \ \ LMatrix4\ \_mat;}
\DoxyCodeLine{00140\ \ \ \};}
\DoxyCodeLine{00141\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}\ GenTexcoordFunc(\mbox{\hyperlink{structV2}{V2}}\ \&result,\ TexCoordData\ \&tcdata);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ texgen\_null(\mbox{\hyperlink{structV2}{V2}}\ \&result,\ TexCoordData\ \&tcdata);}
\DoxyCodeLine{00144\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ texgen\_simple(\mbox{\hyperlink{structV2}{V2}}\ \&result,\ TexCoordData\ \&tcdata);}
\DoxyCodeLine{00145\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ texgen\_texmat(\mbox{\hyperlink{structV2}{V2}}\ \&result,\ TexCoordData\ \&tcdata);}
\DoxyCodeLine{00146\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ texgen\_sphere\_map(\mbox{\hyperlink{structV2}{V2}}\ \&result,\ TexCoordData\ \&tcdata);}
\DoxyCodeLine{00147\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00148\ \ \ \textcolor{comment}{//\ Filled\ in\ by\ the\ Tiny*GraphicsWindow\ at\ begin\_frame().}}
\DoxyCodeLine{00149\ \ \ \mbox{\hyperlink{structZBuffer}{ZBuffer}}\ *\_current\_frame\_buffer;}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00152\ \ \ \textcolor{comment}{//\ Allocated\ by\ prepare\_display\_region\ when\ necessary\ for\ a\ zoomed\ display}}
\DoxyCodeLine{00153\ \ \ \textcolor{comment}{//\ region.}}
\DoxyCodeLine{00154\ \ \ \mbox{\hyperlink{structZBuffer}{ZBuffer}}\ *\_aux\_frame\_buffer;}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \mbox{\hyperlink{structGLContext}{GLContext}}\ *\_c;}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \textcolor{keyword}{enum}\ ColorMaterialFlags\ \{}
\DoxyCodeLine{00159\ \ \ \ \ CMF\_ambient\ \ \ =\ 0x001,}
\DoxyCodeLine{00160\ \ \ \ \ CMF\_diffuse\ \ \ =\ 0x002,}
\DoxyCodeLine{00161\ \ \ \};}
\DoxyCodeLine{00162\ \ \ \textcolor{keywordtype}{int}\ \_color\_material\_flags;}
\DoxyCodeLine{00163\ \ \ \textcolor{keywordtype}{int}\ \_texturing\_state;}
\DoxyCodeLine{00164\ \ \ \textcolor{keywordtype}{int}\ \_texfilter\_state;}
\DoxyCodeLine{00165\ \ \ \textcolor{keywordtype}{bool}\ \_texture\_replace;}
\DoxyCodeLine{00166\ \ \ \textcolor{keywordtype}{bool}\ \_filled\_flat;}
\DoxyCodeLine{00167\ \ \ \textcolor{keywordtype}{bool}\ \_auto\_rescale\_normal;}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ CPT(\mbox{\hyperlink{classTransformState}{TransformState}})\ \_scissor\_mat;}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{comment}{//\ Cache\ the\ data\ necessary\ to\ bind\ each\ particular\ light\ each\ frame,\ so\ if}}
\DoxyCodeLine{00172\ \ \ \textcolor{comment}{//\ we\ bind\ a\ given\ light\ multiple\ times,\ we\ only\ have\ to\ compute\ its\ data}}
\DoxyCodeLine{00173\ \ \ \textcolor{comment}{//\ once.}}
\DoxyCodeLine{00174\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classpmap}{pmap<NodePath,\ GLLight>}}\ \mbox{\hyperlink{classpmap}{Lights}};}
\DoxyCodeLine{00175\ \ \ \mbox{\hyperlink{classpmap}{Lights}}\ \_plights,\ \_dlights,\ \_slights;}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \textcolor{comment}{//\ Used\ during\ being\_draw\_primitives()\ ..\ end\_draw\_primitives().}}
\DoxyCodeLine{00178\ \ \ \textcolor{keywordtype}{int}\ \_min\_vertex;}
\DoxyCodeLine{00179\ \ \ \textcolor{keywordtype}{int}\ \_max\_vertex;}
\DoxyCodeLine{00180\ \ \ \mbox{\hyperlink{structGLVertex}{GLVertex}}\ *\_vertices;}
\DoxyCodeLine{00181\ \ \ \textcolor{keywordtype}{int}\ \_vertices\_size;}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_vertices\_immediate\_pcollector;}
\DoxyCodeLine{00184\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_draw\_transform\_pcollector;}
\DoxyCodeLine{00185\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_white\_untextured\_pcollector;}
\DoxyCodeLine{00186\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_flat\_untextured\_pcollector;}
\DoxyCodeLine{00187\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_smooth\_untextured\_pcollector;}
\DoxyCodeLine{00188\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_white\_textured\_pcollector;}
\DoxyCodeLine{00189\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_flat\_textured\_pcollector;}
\DoxyCodeLine{00190\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_smooth\_textured\_pcollector;}
\DoxyCodeLine{00191\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_white\_perspective\_pcollector;}
\DoxyCodeLine{00192\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_flat\_perspective\_pcollector;}
\DoxyCodeLine{00193\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_smooth\_perspective\_pcollector;}
\DoxyCodeLine{00194\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_smooth\_multitex2\_pcollector;}
\DoxyCodeLine{00195\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_pixel\_count\_smooth\_multitex3\_pcollector;}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00198\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ get\_class\_type()\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordflow}{return}\ \_type\_handle;}
\DoxyCodeLine{00200\ \ \ \}}
\DoxyCodeLine{00201\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ init\_type()\ \{}
\DoxyCodeLine{00202\ \ \ \ \ GraphicsStateGuardian::init\_type();}
\DoxyCodeLine{00203\ \ \ \ \ \mbox{\hyperlink{register__type_8h_a54fc7cae2908ec9e8da7174a8d027735}{register\_type}}(\_type\_handle,\ \textcolor{stringliteral}{"{}TinyGraphicsStateGuardian"{}},}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GraphicsStateGuardian::get\_class\_type());}
\DoxyCodeLine{00205\ \ \ \}}
\DoxyCodeLine{00206\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ get\_type()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keywordflow}{return}\ get\_class\_type();}
\DoxyCodeLine{00208\ \ \ \}}
\DoxyCodeLine{00209\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ force\_init\_type()\ \{init\_type();\ \textcolor{keywordflow}{return}\ get\_class\_type();\}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00212\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ \_type\_handle;}
\DoxyCodeLine{00213\ \};}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \textcolor{preprocessor}{\#include\ "{}tinyGraphicsStateGuardian.I"{}}}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
