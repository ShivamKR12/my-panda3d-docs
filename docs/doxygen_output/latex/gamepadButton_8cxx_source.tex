\doxysection{gamepad\+Button.\+cxx}
\hypertarget{gamepadButton_8cxx_source}{}\label{gamepadButton_8cxx_source}\index{panda/src/putil/gamepadButton.cxx@{panda/src/putil/gamepadButton.cxx}}
\mbox{\hyperlink{gamepadButton_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gamepadButton_8h}{gamepadButton.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{buttonRegistry_8h}{buttonRegistry.h}}"{}}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#define\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(KeyName)\ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ static\ ButtonHandle\ \_\#\#KeyName;\ \(\backslash\)}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ButtonHandle\ GamepadButton::KeyName()\ \{\ return\ \_\#\#KeyName;\ \}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(lstick)}
\DoxyCodeLine{00022\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(rstick)}
\DoxyCodeLine{00023\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(lshoulder)}
\DoxyCodeLine{00024\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(rshoulder)}
\DoxyCodeLine{00025\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(ltrigger)}
\DoxyCodeLine{00026\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(rtrigger)}
\DoxyCodeLine{00027\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(lgrip)}
\DoxyCodeLine{00028\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(rgrip)}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(dpad\_left)}
\DoxyCodeLine{00031\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(dpad\_right)}
\DoxyCodeLine{00032\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(dpad\_up)}
\DoxyCodeLine{00033\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(dpad\_down)}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(back)}
\DoxyCodeLine{00036\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(guide)}
\DoxyCodeLine{00037\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(start)}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(next)}
\DoxyCodeLine{00040\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(previous)}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(face\_a)}
\DoxyCodeLine{00043\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(face\_b)}
\DoxyCodeLine{00044\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(face\_c)}
\DoxyCodeLine{00045\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(face\_x)}
\DoxyCodeLine{00046\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(face\_y)}
\DoxyCodeLine{00047\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(face\_z)}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(face\_1)}
\DoxyCodeLine{00050\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(face\_2)}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(trigger)}
\DoxyCodeLine{00053\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(hat\_up)}
\DoxyCodeLine{00054\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(hat\_down)}
\DoxyCodeLine{00055\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(hat\_left)}
\DoxyCodeLine{00056\ DEFINE\_GAMEPAD\_BUTTON\_HANDLE(hat\_right)}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00063\ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ GamepadButton::}
\DoxyCodeLine{00064\ joystick(\textcolor{keywordtype}{int}\ button\_number)\ \{}
\DoxyCodeLine{00065\ \ \ \textcolor{keywordflow}{if}\ (button\_number\ >=\ 0)\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{comment}{//\ "{}button1"{}\ does\ not\ exist,\ it\ is\ called\ "{}trigger"{}\ instead}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classpvector}{pvector<ButtonHandle>}}\ buttons(1,\ \_trigger);}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordflow}{while}\ ((\textcolor{keywordtype}{size\_t})button\_number\ >=\ buttons.size())\ \{}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ numstr[20];}
\DoxyCodeLine{00070\ \ \ \ \ \ \ sprintf(numstr,\ \textcolor{stringliteral}{"{}joystick\%d"{}},\ (\textcolor{keywordtype}{int})buttons.size()\ +\ 1);}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ handle;}
\DoxyCodeLine{00072\ \ \ \ \ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(handle,\ numstr);}
\DoxyCodeLine{00073\ \ \ \ \ \ \ buttons.push\_back(handle);}
\DoxyCodeLine{00074\ \ \ \ \ \}}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordflow}{return}\ buttons[button\_number];}
\DoxyCodeLine{00076\ \ \ \}}
\DoxyCodeLine{00077\ \ \ \textcolor{keywordflow}{return}\ ButtonHandle::none();}
\DoxyCodeLine{00078\ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00084\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGamepadButton_a8f2c790eb76ec3d372ef6207664d6a4a}{GamepadButton::}}}
\DoxyCodeLine{00085\ \mbox{\hyperlink{classGamepadButton_a8f2c790eb76ec3d372ef6207664d6a4a}{init\_gamepad\_buttons}}()\ \{}
\DoxyCodeLine{00086\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_lstick,\ \textcolor{stringliteral}{"{}lstick"{}});}
\DoxyCodeLine{00087\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_rstick,\ \textcolor{stringliteral}{"{}rstick"{}});}
\DoxyCodeLine{00088\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_lshoulder,\ \textcolor{stringliteral}{"{}lshoulder"{}});}
\DoxyCodeLine{00089\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_rshoulder,\ \textcolor{stringliteral}{"{}rshoulder"{}});}
\DoxyCodeLine{00090\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_ltrigger,\ \textcolor{stringliteral}{"{}ltrigger"{}});}
\DoxyCodeLine{00091\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_rtrigger,\ \textcolor{stringliteral}{"{}rtrigger"{}});}
\DoxyCodeLine{00092\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_lgrip,\ \textcolor{stringliteral}{"{}lgrip"{}});}
\DoxyCodeLine{00093\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_rgrip,\ \textcolor{stringliteral}{"{}rgrip"{}});}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_dpad\_left,\ \textcolor{stringliteral}{"{}dpad\_left"{}});}
\DoxyCodeLine{00096\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_dpad\_right,\ \textcolor{stringliteral}{"{}dpad\_right"{}});}
\DoxyCodeLine{00097\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_dpad\_up,\ \textcolor{stringliteral}{"{}dpad\_up"{}});}
\DoxyCodeLine{00098\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_dpad\_down,\ \textcolor{stringliteral}{"{}dpad\_down"{}});}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_back,\ \textcolor{stringliteral}{"{}back"{}});}
\DoxyCodeLine{00101\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_guide,\ \textcolor{stringliteral}{"{}guide"{}});}
\DoxyCodeLine{00102\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_start,\ \textcolor{stringliteral}{"{}start"{}});}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_next,\ \textcolor{stringliteral}{"{}next"{}});}
\DoxyCodeLine{00105\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_previous,\ \textcolor{stringliteral}{"{}previous"{}});}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_face\_a,\ \textcolor{stringliteral}{"{}face\_a"{}});}
\DoxyCodeLine{00108\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_face\_b,\ \textcolor{stringliteral}{"{}face\_b"{}});}
\DoxyCodeLine{00109\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_face\_c,\ \textcolor{stringliteral}{"{}face\_c"{}});}
\DoxyCodeLine{00110\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_face\_x,\ \textcolor{stringliteral}{"{}face\_x"{}});}
\DoxyCodeLine{00111\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_face\_y,\ \textcolor{stringliteral}{"{}face\_y"{}});}
\DoxyCodeLine{00112\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_face\_z,\ \textcolor{stringliteral}{"{}face\_z"{}});}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_face\_1,\ \textcolor{stringliteral}{"{}face\_1"{}});}
\DoxyCodeLine{00115\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_face\_2,\ \textcolor{stringliteral}{"{}face\_2"{}});}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_trigger,\ \textcolor{stringliteral}{"{}trigger"{}});}
\DoxyCodeLine{00118\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_hat\_up,\ \textcolor{stringliteral}{"{}hat\_up"{}});}
\DoxyCodeLine{00119\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_hat\_down,\ \textcolor{stringliteral}{"{}hat\_down"{}});}
\DoxyCodeLine{00120\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_hat\_left,\ \textcolor{stringliteral}{"{}hat\_left"{}});}
\DoxyCodeLine{00121\ \ \ ButtonRegistry::ptr()-\/>\mbox{\hyperlink{classButtonRegistry_ab0aade18481bda211063ee14dc98640b}{register\_button}}(\_hat\_right,\ \textcolor{stringliteral}{"{}hat\_right"{}});}
\DoxyCodeLine{00122\ \}}

\end{DoxyCode}
