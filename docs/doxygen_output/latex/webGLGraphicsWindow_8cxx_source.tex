\doxysection{web\+GLGraphics\+Window.\+cxx}
\hypertarget{webGLGraphicsWindow_8cxx_source}{}\label{webGLGraphicsWindow_8cxx_source}\index{panda/src/webgldisplay/webGLGraphicsWindow.cxx@{panda/src/webgldisplay/webGLGraphicsWindow.cxx}}
\mbox{\hyperlink{webGLGraphicsWindow_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{webGLGraphicsWindow_8h}{webGLGraphicsWindow.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{webGLGraphicsStateGuardian_8h}{webGLGraphicsStateGuardian.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__webgldisplay_8h}{config\_webgldisplay.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{mouseButton_8h}{mouseButton.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{keyboardButton_8h}{keyboardButton.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{throw__event_8h}{throw\_event.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pointerData_8h}{pointerData.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <emscripten.h>}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#ifndef\ CPPPARSER}}
\DoxyCodeLine{00024\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \textcolor{keywordtype}{void}\ EMSCRIPTEN\_KEEPALIVE}
\DoxyCodeLine{00025\ \_canvas\_resized(\mbox{\hyperlink{classWebGLGraphicsWindow}{WebGLGraphicsWindow}}\ *window,\ \textcolor{keywordtype}{double}\ width,\ \textcolor{keywordtype}{double}\ height)\ \{}
\DoxyCodeLine{00026\ \ \ window-\/>on\_resize(width,\ height);}
\DoxyCodeLine{00027\ \}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ WebGLGraphicsWindow::\_type\_handle;}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00035\ WebGLGraphicsWindow::}
\DoxyCodeLine{00036\ WebGLGraphicsWindow(\mbox{\hyperlink{classGraphicsEngine}{GraphicsEngine}}\ *engine,\ \mbox{\hyperlink{classGraphicsPipe}{GraphicsPipe}}\ *pipe,}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&name,}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ \&fb\_prop,}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \&win\_prop,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flags,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsStateGuardian}{GraphicsStateGuardian}}\ *gsg,}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsOutput}{GraphicsOutput}}\ *host)\ :}
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{classGraphicsWindow}{GraphicsWindow}}(engine,\ pipe,\ name,\ fb\_prop,\ win\_prop,\ flags,\ gsg,\ host)}
\DoxyCodeLine{00044\ \{}
\DoxyCodeLine{00045\ \ \ PT(\mbox{\hyperlink{classGraphicsWindowInputDevice}{GraphicsWindowInputDevice}})\ device\ =}
\DoxyCodeLine{00046\ \ \ \ \ GraphicsWindowInputDevice::pointer\_and\_keyboard(\textcolor{keyword}{this},\ \textcolor{stringliteral}{"{}keyboard\_mouse"{}});}
\DoxyCodeLine{00047\ \ \ add\_input\_device(device);}
\DoxyCodeLine{00048\ \ \ \_input\ =\ device.p();}
\DoxyCodeLine{00049\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00054\ WebGLGraphicsWindow::}
\DoxyCodeLine{00055\ \string~WebGLGraphicsWindow()\ \{}
\DoxyCodeLine{00056\ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00066\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classWebGLGraphicsWindow_ab045dc24ac45ba4d53fa8c0cabe52f4a}{WebGLGraphicsWindow::}}}
\DoxyCodeLine{00067\ \mbox{\hyperlink{classWebGLGraphicsWindow_ab045dc24ac45ba4d53fa8c0cabe52f4a}{move\_pointer}}(\textcolor{keywordtype}{int}\ device,\ \textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y)\ \{}
\DoxyCodeLine{00068\ \ \ \textcolor{keywordflow}{if}\ (device\ ==\ 0\ \&\&\ \_properties.get\_mouse\_mode()\ ==\ WindowProperties::M\_relative)\ \{}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ The\ pointer\ position\ is\ meaningless\ in\ relative\ mode,\ so\ we\ silently}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ pretend\ that\ this\ worked.}}
\DoxyCodeLine{00071\ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ad676b64760d8a27b5c5233fa52c96cc3}{set\_pointer\_in\_window}}(x,\ y);}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00073\ \ \ \}}
\DoxyCodeLine{00074\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00083\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classWebGLGraphicsWindow_a2adfec31f4b02bb3c6249b2d6da8f6fe}{WebGLGraphicsWindow::}}}
\DoxyCodeLine{00084\ \mbox{\hyperlink{classWebGLGraphicsWindow_a2adfec31f4b02bb3c6249b2d6da8f6fe}{begin\_frame}}(FrameMode\ mode,\ \mbox{\hyperlink{classThread}{Thread}}\ *current\_thread)\ \{}
\DoxyCodeLine{00085\ \ \ \mbox{\hyperlink{classPStatTimer}{PStatTimer}}\ timer(\_make\_current\_pcollector,\ current\_thread);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ begin\_frame\_spam(mode);}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordflow}{if}\ (\_gsg\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00090\ \ \ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \mbox{\hyperlink{classWebGLGraphicsStateGuardian}{WebGLGraphicsStateGuardian}}\ *webgl\_gsg;}
\DoxyCodeLine{00093\ \ \ DCAST\_INTO\_R(webgl\_gsg,\ \_gsg,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \textcolor{keywordflow}{if}\ (emscripten\_is\_webgl\_context\_lost(webgl\_gsg-\/>\_context))\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ The\ context\ was\ lost,\ and\ any\ GL\ calls\ we\ make\ will\ fail.}}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00098\ \ \ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \textcolor{keywordflow}{if}\ (emscripten\_webgl\_make\_context\_current(webgl\_gsg-\/>\_context)\ !=\ EMSCRIPTEN\_RESULT\_SUCCESS)\ \{}
\DoxyCodeLine{00101\ \ \ \ \ webgldisplay\_cat.error()}
\DoxyCodeLine{00102\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Failed\ to\ make\ context\ current.\(\backslash\)n"{}};}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00104\ \ \ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ FM\_render)\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ begin\_render\_texture();}}
\DoxyCodeLine{00108\ \ \ \ \ clear\_cube\_map\_selection();}
\DoxyCodeLine{00109\ \ \ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \_gsg-\/>set\_current\_properties(\&get\_fb\_properties());}
\DoxyCodeLine{00112\ \ \ \textcolor{keywordflow}{return}\ \_gsg-\/>begin\_frame(current\_thread);}
\DoxyCodeLine{00113\ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00120\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWebGLGraphicsWindow_a2dd0cb7f90c5cd31a32f99a4128d0f2e}{WebGLGraphicsWindow::}}}
\DoxyCodeLine{00121\ \mbox{\hyperlink{classWebGLGraphicsWindow_a2dd0cb7f90c5cd31a32f99a4128d0f2e}{end\_frame}}(FrameMode\ mode,\ \mbox{\hyperlink{classThread}{Thread}}\ *current\_thread)\ \{}
\DoxyCodeLine{00122\ \ \ end\_frame\_spam(mode);}
\DoxyCodeLine{00123\ \ \ nassertv(\_gsg\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ FM\_render)\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{comment}{//\ end\_render\_texture();}}
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{classGraphicsOutput_ab529b939d7812f480d2c56752456acf5}{copy\_to\_textures}}();}
\DoxyCodeLine{00128\ \ \ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \_gsg-\/>end\_frame(current\_thread);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ FM\_render)\ \{}
\DoxyCodeLine{00133\ \ \ \ \ trigger\_flip();}
\DoxyCodeLine{00134\ \ \ \ \ clear\_cube\_map\_selection();}
\DoxyCodeLine{00135\ \ \ \}}
\DoxyCodeLine{00136\ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00145\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWebGLGraphicsWindow_ad88ef45c5575a476a4d890b08d943a68}{WebGLGraphicsWindow::}}}
\DoxyCodeLine{00146\ \mbox{\hyperlink{classWebGLGraphicsWindow_ad88ef45c5575a476a4d890b08d943a68}{end\_flip}}()\ \{}
\DoxyCodeLine{00147\ \ \ \mbox{\hyperlink{classGraphicsOutput_a593a9030f0b90ee588b1006df9aee604}{GraphicsWindow::end\_flip}}();}
\DoxyCodeLine{00148\ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00157\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWebGLGraphicsWindow_af2ef959b38859c34ced93f222c79576d}{WebGLGraphicsWindow::}}}
\DoxyCodeLine{00158\ \mbox{\hyperlink{classWebGLGraphicsWindow_af2ef959b38859c34ced93f222c79576d}{process\_events}}()\ \{}
\DoxyCodeLine{00159\ \ \ \mbox{\hyperlink{classGraphicsWindow_ac73229408c1c588f30e690a8f4947917}{GraphicsWindow::process\_events}}();}
\DoxyCodeLine{00160\ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00174\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWebGLGraphicsWindow_a0a97474c7eed8d2c3d0b29b51751683e}{WebGLGraphicsWindow::}}}
\DoxyCodeLine{00175\ \mbox{\hyperlink{classWebGLGraphicsWindow_a0a97474c7eed8d2c3d0b29b51751683e}{set\_properties\_now}}(\mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \&properties)\ \{}
\DoxyCodeLine{00176\ \ \ \mbox{\hyperlink{classGraphicsWindow_adeb1896f5f72fd2959b76dbfb8ca1fe9}{GraphicsWindow::set\_properties\_now}}(properties);}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *target\ =\ \textcolor{stringliteral}{"{}\#canvas"{}};}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \textcolor{keywordflow}{if}\ (properties.has\_size())\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \_properties.set\_size(properties.get\_size());}
\DoxyCodeLine{00182\ \ \ \ \ emscripten\_set\_canvas\_element\_size(target,\ properties.get\_x\_size(),\ properties.get\_y\_size());}
\DoxyCodeLine{00183\ \ \ \ \ emscripten\_set\_element\_css\_size(target,\ properties.get\_x\_size(),\ properties.get\_y\_size());}
\DoxyCodeLine{00184\ \ \ \ \ properties.clear\_size();}
\DoxyCodeLine{00185\ \ \ \ \ \mbox{\hyperlink{classGraphicsOutput_a9f455a23a8892292bde821580495187e}{set\_size\_and\_recalc}}(\_properties.get\_x\_size(),\ \_properties.get\_y\_size());}
\DoxyCodeLine{00186\ \ \ \ \ throw\_event(\mbox{\hyperlink{classGraphicsWindow_a1342910ca208c0a0d55628468cb963e8}{get\_window\_event}}(),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00187\ \ \ \}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \textcolor{keywordflow}{if}\ (properties.has\_fullscreen()\ \&\&}
\DoxyCodeLine{00190\ \ \ \ \ \ \ properties.get\_fullscreen()\ !=\ \_properties.get\_fullscreen())\ \{}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordflow}{if}\ (properties.get\_fullscreen())\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \ \ EMSCRIPTEN\_RESULT\ result\ =\ emscripten\_request\_fullscreen(target,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ ==\ EMSCRIPTEN\_RESULT\_SUCCESS)\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \_properties.set\_fullscreen(\textcolor{keyword}{true});}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ properties.clear\_fullscreen();}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (result\ ==\ EMSCRIPTEN\_RESULT\_DEFERRED)\ \{}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ can't\ switch\ to\ fullscreen\ just\ yet\ -\/\ this\ action\ is\ deferred}}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ until\ we're\ in\ an\ event\ handler.\ \ We\ can't\ know\ for\ sure\ yet\ that}}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ fullscreen\ will\ be\ supported,\ but\ we\ shouldn't\ report\ failure.}}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ properties.clear\_fullscreen();}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00205\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (emscripten\_exit\_fullscreen()\ ==\ EMSCRIPTEN\_RESULT\_SUCCESS)\ \{}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \_properties.set\_fullscreen(\textcolor{keyword}{false});}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ properties.clear\_fullscreen();}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00210\ \ \ \ \ \}}
\DoxyCodeLine{00211\ \ \ \}}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \textcolor{keywordflow}{if}\ (properties.has\_mouse\_mode()\ \&\&}
\DoxyCodeLine{00214\ \ \ \ \ \ \ properties.get\_mouse\_mode()\ !=\ \_properties.get\_mouse\_mode())\ \{}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordflow}{if}\ (properties.get\_mouse\_mode()\ ==\ WindowProperties::M\_relative)\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ EMSCRIPTEN\_RESULT\ result\ =\ emscripten\_request\_pointerlock(target,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (result\ ==\ EMSCRIPTEN\_RESULT\_SUCCESS)\ \{}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Great,\ we're\ in\ pointerlock\ mode.}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \_properties.set\_mouse\_mode(WindowProperties::M\_absolute);}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \_properties.set\_cursor\_hidden(\textcolor{keyword}{true});}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ properties.clear\_mouse\_mode();}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (result\ ==\ EMSCRIPTEN\_RESULT\_DEFERRED)\ \{}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ can't\ switch\ to\ pointerlock\ just\ yet\ -\/\ this\ action\ is\ deferred}}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ until\ we're\ in\ an\ event\ handler.\ \ We\ can't\ know\ for\ sure\ yet\ that}}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ pointerlock\ will\ be\ supported,\ but\ we\ shouldn't\ report\ failure.}}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ properties.clear\_mouse\_mode();}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (properties.has\_cursor\_hidden()\ \&\&\ properties.get\_cursor\_hidden())\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ properties.clear\_cursor\_hidden();}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00234\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (emscripten\_exit\_pointerlock()\ ==\ EMSCRIPTEN\_RESULT\_SUCCESS)\ \{}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \_properties.set\_mouse\_mode(WindowProperties::M\_absolute);}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ properties.clear\_mouse\_mode();}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ properties.clear\_cursor\_hidden();}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00240\ \ \ \ \ \}}
\DoxyCodeLine{00241\ \ \ \}}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \textcolor{keywordflow}{if}\ (properties.has\_cursor\_hidden()\ \&\&}
\DoxyCodeLine{00244\ \ \ \ \ \ \ properties.get\_cursor\_hidden()\ ==\ (\_properties.get\_mouse\_mode()\ ==\ WindowProperties::M\_relative))\ \{}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{comment}{//\ A\ hidden\ cursor\ comes\ for\ free\ with\ pointerlock.\ \ Without\ pointerlock,}}
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{comment}{//\ though,\ we\ can't\ hide\ the\ cursor.}}
\DoxyCodeLine{00247\ \ \ \ \ properties.clear\_cursor\_hidden();}
\DoxyCodeLine{00248\ \ \ \}}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \ \ \textcolor{keywordflow}{if}\ (properties.get\_foreground())\ \{}
\DoxyCodeLine{00251\ \ \ \ \ EM\_ASM\_(\{}
\DoxyCodeLine{00252\ \ \ \ \ \ \ var\ canvas\ =\ document.getElementById(\textcolor{stringliteral}{'canvas'});}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (canvas)\ \{}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ canvas.focus();}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00256\ \ \ \ \ \});}
\DoxyCodeLine{00257\ \ \ \ \ properties.clear\_foreground();}
\DoxyCodeLine{00258\ \ \ \}}
\DoxyCodeLine{00259\ \}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00264\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWebGLGraphicsWindow_a9ab8ab6d827bed44a1ebd584d8beee0a}{WebGLGraphicsWindow::}}}
\DoxyCodeLine{00265\ \mbox{\hyperlink{classWebGLGraphicsWindow_a9ab8ab6d827bed44a1ebd584d8beee0a}{close\_window}}()\ \{}
\DoxyCodeLine{00266\ \ \ \textcolor{keywordflow}{if}\ (\_gsg\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00267\ \ \ \ \ emscripten\_webgl\_make\_context\_current(0);}
\DoxyCodeLine{00268\ \ \ \ \ \_gsg.clear();}
\DoxyCodeLine{00269\ \ \ \}}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \ \ EM\_ASM(\{}
\DoxyCodeLine{00272\ \ \ \ \ var\ canvas\ =\ document.getElementById(\textcolor{stringliteral}{'canvas'});}
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{keywordflow}{if}\ (canvas\ \&\&\ canvas.\_p3d\_resizeObserver)\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \ \ canvas.\_p3d\_resizeObserver.disconnect();}
\DoxyCodeLine{00275\ \ \ \ \ \ \ delete\ canvas.\_p3d\_resizeObserver;}
\DoxyCodeLine{00276\ \ \ \ \ \}}
\DoxyCodeLine{00277\ \ \ \});}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \textcolor{comment}{//\ Clear\ the\ assigned\ callbacks.}}
\DoxyCodeLine{00280\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *target\ =\ \textcolor{stringliteral}{"{}\#canvas"{}};}
\DoxyCodeLine{00281\ \ \ emscripten\_set\_fullscreenchange\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00282\ \ \ emscripten\_set\_pointerlockchange\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00283\ \ \ emscripten\_set\_visibilitychange\_callback(\textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ \ \ emscripten\_set\_focus\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00286\ \ \ emscripten\_set\_blur\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ emscripten\_set\_keypress\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00289\ \ \ emscripten\_set\_keydown\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00290\ \ \ emscripten\_set\_keyup\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \ \ \textcolor{comment}{//emscripten\_set\_click\_callback(target,\ nullptr,\ false,\ nullptr);}}
\DoxyCodeLine{00293\ \ \ emscripten\_set\_mousedown\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00294\ \ \ emscripten\_set\_mouseup\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00295\ \ \ emscripten\_set\_mousemove\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00296\ \ \ emscripten\_set\_mouseenter\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00297\ \ \ emscripten\_set\_mouseleave\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ emscripten\_set\_wheel\_callback(target,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \ \ \mbox{\hyperlink{classGraphicsWindow_ac9416f2e970aea3f5233c90e79b2a1ff}{GraphicsWindow::close\_window}}();}
\DoxyCodeLine{00302\ \}}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00308\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classWebGLGraphicsWindow_a17b79c6a67a2056e2ca61b63ce9a694b}{WebGLGraphicsWindow::}}}
\DoxyCodeLine{00309\ \mbox{\hyperlink{classWebGLGraphicsWindow_a17b79c6a67a2056e2ca61b63ce9a694b}{open\_window}}()\ \{}
\DoxyCodeLine{00310\ \ \ \textcolor{comment}{//WebGLGraphicsPipe\ *webgl\_pipe;}}
\DoxyCodeLine{00311\ \ \ \textcolor{comment}{//DCAST\_INTO\_R(webgl\_pipe,\ \_pipe,\ false);}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *target\ =\ \textcolor{stringliteral}{"{}\#canvas"{}};}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \textcolor{comment}{//\ GSG\ Creation/Initialization}}
\DoxyCodeLine{00316\ \ \ \mbox{\hyperlink{classWebGLGraphicsStateGuardian}{WebGLGraphicsStateGuardian}}\ *webgl\_gsg;}
\DoxyCodeLine{00317\ \ \ \textcolor{keywordflow}{if}\ (\_gsg\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{comment}{//\ There\ is\ no\ old\ gsg.\ \ Create\ a\ new\ one.}}
\DoxyCodeLine{00319\ \ \ \ \ webgl\_gsg\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classWebGLGraphicsStateGuardian}{WebGLGraphicsStateGuardian}}(\_engine,\ \_pipe);}
\DoxyCodeLine{00320\ \ \ \ \ webgl\_gsg-\/>\mbox{\hyperlink{classWebGLGraphicsStateGuardian_a6b31b18d5d54202647c493668dc6f8e6}{choose\_pixel\_format}}(\_fb\_properties,\ target);}
\DoxyCodeLine{00321\ \ \ \ \ \_gsg\ =\ webgl\_gsg;}
\DoxyCodeLine{00322\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{comment}{//\ If\ the\ old\ gsg\ has\ the\ wrong\ pixel\ format,\ create\ a\ new\ one.}}
\DoxyCodeLine{00324\ \ \ \ \ DCAST\_INTO\_R(webgl\_gsg,\ \_gsg,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{comment}{//if\ (!webgl\_gsg-\/>\_fb\_properties.subsumes(\_fb\_properties))\ \{}}
\DoxyCodeLine{00326\ \ \ \ \ \textcolor{comment}{//\ \ webgl\_gsg\ =\ new\ WebGLGraphicsStateGuardian(\_engine,\ \_pipe);}}
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{comment}{//\ \ webgl\_gsg-\/>choose\_pixel\_format(\_fb\_properties,\ target);}}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{comment}{//\ \ \_gsg\ =\ webgl\_gsg;}}
\DoxyCodeLine{00329\ \ \ \ \ \textcolor{comment}{//\}}}
\DoxyCodeLine{00330\ \ \ \}}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ \textcolor{keywordflow}{if}\ (!webgl\_gsg-\/>\_have\_context)\ \{}
\DoxyCodeLine{00333\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00334\ \ \ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ \textcolor{comment}{//\ For\ now,\ always\ use\ the\ size\ specified\ in\ the\ CSS,\ except\ when\ fixed\ size}}
\DoxyCodeLine{00337\ \ \ \textcolor{comment}{//\ has\ been\ specified,\ or\ the\ CSS\ has\ no\ size}}
\DoxyCodeLine{00338\ \ \ \textcolor{keywordtype}{double}\ css\_width,\ css\_height;}
\DoxyCodeLine{00339\ \ \ emscripten\_get\_element\_css\_size(target,\ \&css\_width,\ \&css\_height);}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ \textcolor{keywordflow}{if}\ (\_properties.has\_size()\ \&\&\ (\_properties.get\_fixed\_size()\ ||\ css\_width\ ==\ 0.0\ ||\ css\_height\ ==\ 0.0))\ \{}
\DoxyCodeLine{00342\ \ \ \ \ emscripten\_set\_canvas\_element\_size(target,\ \_properties.get\_x\_size(),\ \_properties.get\_y\_size());}
\DoxyCodeLine{00343\ \ \ \ \ emscripten\_set\_element\_css\_size(target,\ \_properties.get\_x\_size(),\ \_properties.get\_y\_size());}
\DoxyCodeLine{00344\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keywordtype}{int}\ width\ =\ (int)css\_width;}
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{keywordtype}{int}\ height\ =\ (int)css\_height;}
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{keywordflow}{if}\ (width\ ==\ 0\ ||\ height\ ==\ 0)\ \{}
\DoxyCodeLine{00348\ \ \ \ \ \ \ emscripten\_get\_canvas\_element\_size(target,\ \&width,\ \&height);}
\DoxyCodeLine{00349\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00350\ \ \ \ \ \ \ emscripten\_set\_canvas\_element\_size(target,\ width,\ height);}
\DoxyCodeLine{00351\ \ \ \ \ \}}
\DoxyCodeLine{00352\ \ \ \ \ \_properties.set\_size(width,\ height);}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \ \ \ \ EmscriptenFullscreenChangeEvent\ event;}
\DoxyCodeLine{00355\ \ \ \ \ emscripten\_get\_fullscreen\_status(\&event);}
\DoxyCodeLine{00356\ \ \ \ \ \_properties.set\_fullscreen(event.isFullscreen);}
\DoxyCodeLine{00357\ \ \ \}}
\DoxyCodeLine{00358\ }
\DoxyCodeLine{00359\ \ \ \_properties.set\_undecorated(\textcolor{keyword}{true});}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00361\ \ \ \textcolor{keywordflow}{if}\ (emscripten\_webgl\_make\_context\_current(webgl\_gsg-\/>\_context)\ !=\ EMSCRIPTEN\_RESULT\_SUCCESS)\ \{}
\DoxyCodeLine{00362\ \ \ \ \ webgldisplay\_cat.error()}
\DoxyCodeLine{00363\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Failed\ to\ make\ context\ current.\(\backslash\)n"{}};}
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00365\ \ \ \}}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ webgl\_gsg-\/>\mbox{\hyperlink{classWebGLGraphicsStateGuardian_a90a6dba6d0d42f8f3a4e6fe8d0dadf6f}{reset}}();}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00369\ \ \ \_fb\_properties.clear();}
\DoxyCodeLine{00370\ \ \ \_fb\_properties.set\_rgb\_color(\textcolor{keyword}{true});}
\DoxyCodeLine{00371\ \ \ \_fb\_properties.set\_force\_hardware(\textcolor{keyword}{true});}
\DoxyCodeLine{00372\ \ \ \_fb\_properties.set\_back\_buffers(1);}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ \ \ GLint\ red\_bits,\ green\_bits,\ blue\_bits,\ alpha\_bits,\ depth\_bits,\ stencil\_bits;}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \ \ glGetIntegerv(GL\_RED\_BITS,\ \&red\_bits);}
\DoxyCodeLine{00377\ \ \ glGetIntegerv(GL\_GREEN\_BITS,\ \&green\_bits);}
\DoxyCodeLine{00378\ \ \ glGetIntegerv(GL\_BLUE\_BITS,\ \&blue\_bits);}
\DoxyCodeLine{00379\ \ \ glGetIntegerv(GL\_ALPHA\_BITS,\ \&alpha\_bits);}
\DoxyCodeLine{00380\ \ \ glGetIntegerv(GL\_DEPTH\_BITS,\ \&depth\_bits);}
\DoxyCodeLine{00381\ \ \ glGetIntegerv(GL\_STENCIL\_BITS,\ \&stencil\_bits);}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \_fb\_properties.set\_rgba\_bits(red\_bits,\ green\_bits,\ blue\_bits,\ alpha\_bits);}
\DoxyCodeLine{00384\ \ \ \_fb\_properties.set\_depth\_bits(depth\_bits);}
\DoxyCodeLine{00385\ \ \ \_fb\_properties.set\_stencil\_bits(stencil\_bits);}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ \textcolor{comment}{//\ Set\ callbacks.}}
\DoxyCodeLine{00388\ \ \ emscripten\_set\_fullscreenchange\_callback(target,\ (\textcolor{keywordtype}{void}\ *)\textcolor{keyword}{this},\ \textcolor{keyword}{false},\ \&on\_fullscreen\_event);}
\DoxyCodeLine{00389\ \ \ emscripten\_set\_pointerlockchange\_callback(target,\ (\textcolor{keywordtype}{void}\ *)\textcolor{keyword}{this},\ \textcolor{keyword}{false},\ \&on\_pointerlock\_event);}
\DoxyCodeLine{00390\ \ \ emscripten\_set\_visibilitychange\_callback((\textcolor{keywordtype}{void}\ *)\textcolor{keyword}{this},\ \textcolor{keyword}{false},\ \&on\_visibility\_event);}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \ \ emscripten\_set\_focus\_callback(target,\ (\textcolor{keywordtype}{void}\ *)\textcolor{keyword}{this},\ \textcolor{keyword}{false},\ \&on\_focus\_event);}
\DoxyCodeLine{00393\ \ \ emscripten\_set\_blur\_callback(target,\ (\textcolor{keywordtype}{void}\ *)\textcolor{keyword}{this},\ \textcolor{keyword}{false},\ \&on\_focus\_event);}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00395\ \ \ \textcolor{keywordtype}{void}\ *user\_data\ =\ \_input;}
\DoxyCodeLine{00396\ \ \ emscripten\_set\_keypress\_callback(target,\ user\_data,\ \textcolor{keyword}{false},\ \&on\_keyboard\_event);}
\DoxyCodeLine{00397\ \ \ emscripten\_set\_keydown\_callback(target,\ user\_data,\ \textcolor{keyword}{false},\ \&on\_keyboard\_event);}
\DoxyCodeLine{00398\ \ \ emscripten\_set\_keyup\_callback(target,\ user\_data,\ \textcolor{keyword}{false},\ \&on\_keyboard\_event);}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ \ \ \textcolor{comment}{//emscripten\_set\_click\_callback(target,\ user\_data,\ false,\ \&on\_mouse\_event);}}
\DoxyCodeLine{00401\ \ \ emscripten\_set\_mousedown\_callback(target,\ user\_data,\ \textcolor{keyword}{false},\ \&on\_mouse\_event);}
\DoxyCodeLine{00402\ \ \ emscripten\_set\_mouseup\_callback(target,\ user\_data,\ \textcolor{keyword}{false},\ \&on\_mouse\_event);}
\DoxyCodeLine{00403\ \ \ emscripten\_set\_mousemove\_callback(target,\ user\_data,\ \textcolor{keyword}{false},\ \&on\_mouse\_event);}
\DoxyCodeLine{00404\ \ \ emscripten\_set\_mouseenter\_callback(target,\ user\_data,\ \textcolor{keyword}{false},\ \&on\_mouse\_event);}
\DoxyCodeLine{00405\ \ \ emscripten\_set\_mouseleave\_callback(target,\ user\_data,\ \textcolor{keyword}{false},\ \&on\_mouse\_event);}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00407\ \ \ emscripten\_set\_wheel\_callback(target,\ user\_data,\ \textcolor{keyword}{false},\ \&on\_wheel\_event);}
\DoxyCodeLine{00408\ }
\DoxyCodeLine{00409\ \ \ \textcolor{comment}{//\ Emscripten\ has\ no\ working\ resize\ handler\ for\ the\ canvas\ element,\ we'll}}
\DoxyCodeLine{00410\ \ \ \textcolor{comment}{//\ have\ to\ create\ our\ own}}
\DoxyCodeLine{00411\ \ \ EM\_ASM(\{}
\DoxyCodeLine{00412\ \ \ \ \ var\ canvas\ =\ document.getElementById(\textcolor{stringliteral}{'canvas'});}
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{keywordflow}{if}\ (canvas)\ \{}
\DoxyCodeLine{00414\ \ \ \ \ \ \ var\ observer\ =\ \textcolor{keyword}{new}\ ResizeObserver(function(entries)\ \{}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ var\ entry\ =\ entries[0];}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (entry)\ \{}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ var\ width\ =\ entry.contentRect.width;}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ var\ height\ =\ entry.contentRect.height;}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (width\ !=\ 0\ \&\&\ height\ !=\ 0)\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \_\_canvas\_resized(\$0,\ entry.contentRect.width,\ entry.contentRect.height);}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \});}
\DoxyCodeLine{00424\ \ \ \ \ \ \ observer.observe(canvas);}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (canvas.\_p3d\_resizeObserver)\ \{}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ canvas.\_p3d\_resizeObserver.disconnect();}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00428\ \ \ \ \ \ \ canvas.\_p3d\_resizeObserver\ =\ observer;}
\DoxyCodeLine{00429\ \ \ \ \ \}}
\DoxyCodeLine{00430\ \ \ \},\ \textcolor{keyword}{this});}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00432\ \ \ \textcolor{keywordflow}{if}\ (!\_properties.has\_foreground()\ ||\ \_properties.get\_foreground())\ \{}
\DoxyCodeLine{00433\ \ \ \ \ \_properties.set\_foreground(EM\_ASM\_INT(\{}
\DoxyCodeLine{00434\ \ \ \ \ \ \ var\ canvas\ =\ document.getElementById(\textcolor{stringliteral}{'canvas'});}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (canvas)\ \{}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ canvas.focus();}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ document.activeElement\ ===\ canvas;}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00442\ \ \ \ \ \}));}
\DoxyCodeLine{00443\ \ \ \}}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00446\ \}}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00451\ \textcolor{keywordtype}{void}\ WebGLGraphicsWindow::}
\DoxyCodeLine{00452\ on\_resize(\textcolor{keywordtype}{double}\ width,\ \textcolor{keywordtype}{double}\ height)\ \{}
\DoxyCodeLine{00453\ \ \ \textcolor{keywordflow}{if}\ (\_properties.get\_fixed\_size())\ \{}
\DoxyCodeLine{00454\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00455\ \ \ \}}
\DoxyCodeLine{00456\ }
\DoxyCodeLine{00457\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *target\ =\ \textcolor{stringliteral}{"{}\#canvas"{}};}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ \ \ LVecBase2i\ size((\textcolor{keywordtype}{int})width,\ (\textcolor{keywordtype}{int})height);}
\DoxyCodeLine{00460\ \ \ emscripten\_set\_canvas\_element\_size(target,\ size[0],\ size[1]);}
\DoxyCodeLine{00461\ \ \ \textcolor{keywordflow}{if}\ (\_properties.get\_size()\ !=\ size)\ \{}
\DoxyCodeLine{00462\ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(\mbox{\hyperlink{classWindowProperties_a19ea6ad41750bd4e983f64ee9e507d02}{WindowProperties::size}}(size));}
\DoxyCodeLine{00463\ \ \ \}}
\DoxyCodeLine{00464\ \}}
\DoxyCodeLine{00465\ }
\DoxyCodeLine{00469\ EM\_BOOL\ WebGLGraphicsWindow::}
\DoxyCodeLine{00470\ on\_fullscreen\_event(\textcolor{keywordtype}{int}\ type,\ \textcolor{keyword}{const}\ EmscriptenFullscreenChangeEvent\ *event,\ \textcolor{keywordtype}{void}\ *user\_data)\ \{}
\DoxyCodeLine{00471\ \ \ \mbox{\hyperlink{classWebGLGraphicsWindow}{WebGLGraphicsWindow}}\ *window\ =\ (\mbox{\hyperlink{classWebGLGraphicsWindow}{WebGLGraphicsWindow}}\ *)user\_data;}
\DoxyCodeLine{00472\ \ \ nassertr(window\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00473\ }
\DoxyCodeLine{00474\ \ \ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_FULLSCREENCHANGE)\ \{}
\DoxyCodeLine{00475\ \ \ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ props;}
\DoxyCodeLine{00476\ \ \ \ \ props.set\_fullscreen(event-\/>isFullscreen);}
\DoxyCodeLine{00477\ \ \ \ \ window-\/>\mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(props);}
\DoxyCodeLine{00478\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00479\ \ \ \}}
\DoxyCodeLine{00480\ }
\DoxyCodeLine{00481\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00482\ \}}
\DoxyCodeLine{00483\ }
\DoxyCodeLine{00487\ EM\_BOOL\ WebGLGraphicsWindow::}
\DoxyCodeLine{00488\ on\_pointerlock\_event(\textcolor{keywordtype}{int}\ type,\ \textcolor{keyword}{const}\ EmscriptenPointerlockChangeEvent\ *event,\ \textcolor{keywordtype}{void}\ *user\_data)\ \{}
\DoxyCodeLine{00489\ \ \ \mbox{\hyperlink{classWebGLGraphicsWindow}{WebGLGraphicsWindow}}\ *window\ =\ (\mbox{\hyperlink{classWebGLGraphicsWindow}{WebGLGraphicsWindow}}\ *)user\_data;}
\DoxyCodeLine{00490\ \ \ nassertr(window\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00491\ }
\DoxyCodeLine{00492\ \ \ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_POINTERLOCKCHANGE)\ \{}
\DoxyCodeLine{00493\ \ \ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ props;}
\DoxyCodeLine{00494\ \ \ \ \ \textcolor{keywordflow}{if}\ (event-\/>isActive)\ \{}
\DoxyCodeLine{00495\ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}pointerlock\ engaged\(\backslash\)n"{}};}
\DoxyCodeLine{00496\ \ \ \ \ \ \ props.set\_mouse\_mode(WindowProperties::M\_relative);}
\DoxyCodeLine{00497\ \ \ \ \ \ \ props.set\_cursor\_hidden(\textcolor{keyword}{true});}
\DoxyCodeLine{00498\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00499\ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}pointerlock\ disabled\(\backslash\)n"{}};}
\DoxyCodeLine{00500\ \ \ \ \ \ \ props.set\_mouse\_mode(WindowProperties::M\_absolute);}
\DoxyCodeLine{00501\ \ \ \ \ \ \ props.set\_cursor\_hidden(\textcolor{keyword}{false});}
\DoxyCodeLine{00502\ \ \ \ \ \}}
\DoxyCodeLine{00503\ \ \ \ \ window-\/>\mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(props);}
\DoxyCodeLine{00504\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00505\ \ \ \}}
\DoxyCodeLine{00506\ }
\DoxyCodeLine{00507\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00508\ \}}
\DoxyCodeLine{00509\ }
\DoxyCodeLine{00513\ EM\_BOOL\ WebGLGraphicsWindow::}
\DoxyCodeLine{00514\ on\_visibility\_event(\textcolor{keywordtype}{int}\ type,\ \textcolor{keyword}{const}\ EmscriptenVisibilityChangeEvent\ *event,\ \textcolor{keywordtype}{void}\ *user\_data)\ \{}
\DoxyCodeLine{00515\ \ \ \mbox{\hyperlink{classWebGLGraphicsWindow}{WebGLGraphicsWindow}}\ *window\ =\ (\mbox{\hyperlink{classWebGLGraphicsWindow}{WebGLGraphicsWindow}}\ *)user\_data;}
\DoxyCodeLine{00516\ \ \ nassertr(window\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00517\ }
\DoxyCodeLine{00518\ \ \ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_VISIBILITYCHANGE)\ \{}
\DoxyCodeLine{00519\ \ \ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ props;}
\DoxyCodeLine{00520\ \ \ \ \ props.set\_minimized(event-\/>hidden\ !=\ 0);}
\DoxyCodeLine{00521\ \ \ \ \ window-\/>\mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(props);}
\DoxyCodeLine{00522\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00523\ \ \ \}}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00525\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00526\ \}}
\DoxyCodeLine{00527\ }
\DoxyCodeLine{00531\ EM\_BOOL\ WebGLGraphicsWindow::}
\DoxyCodeLine{00532\ on\_focus\_event(\textcolor{keywordtype}{int}\ type,\ \textcolor{keyword}{const}\ EmscriptenFocusEvent\ *event,\ \textcolor{keywordtype}{void}\ *user\_data)\ \{}
\DoxyCodeLine{00533\ \ \ \mbox{\hyperlink{classWebGLGraphicsWindow}{WebGLGraphicsWindow}}\ *window\ =\ (\mbox{\hyperlink{classWebGLGraphicsWindow}{WebGLGraphicsWindow}}\ *)user\_data;}
\DoxyCodeLine{00534\ \ \ nassertr(window\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00535\ }
\DoxyCodeLine{00536\ \ \ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_FOCUS)\ \{}
\DoxyCodeLine{00537\ \ \ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ props;}
\DoxyCodeLine{00538\ \ \ \ \ props.set\_foreground(\textcolor{keyword}{true});}
\DoxyCodeLine{00539\ \ \ \ \ window-\/>\mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(props);}
\DoxyCodeLine{00540\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00541\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_BLUR)\ \{}
\DoxyCodeLine{00542\ \ \ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ props;}
\DoxyCodeLine{00543\ \ \ \ \ props.set\_foreground(\textcolor{keyword}{false});}
\DoxyCodeLine{00544\ \ \ \ \ window-\/>\mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(props);}
\DoxyCodeLine{00545\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00546\ \ \ \}}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00548\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00549\ \}}
\DoxyCodeLine{00550\ }
\DoxyCodeLine{00554\ EM\_BOOL\ WebGLGraphicsWindow::}
\DoxyCodeLine{00555\ on\_keyboard\_event(\textcolor{keywordtype}{int}\ type,\ \textcolor{keyword}{const}\ EmscriptenKeyboardEvent\ *event,\ \textcolor{keywordtype}{void}\ *user\_data)\ \{}
\DoxyCodeLine{00556\ \ \ \mbox{\hyperlink{classGraphicsWindowInputDevice}{GraphicsWindowInputDevice}}\ *device;}
\DoxyCodeLine{00557\ \ \ device\ =\ (\mbox{\hyperlink{classGraphicsWindowInputDevice}{GraphicsWindowInputDevice}}\ *)user\_data;}
\DoxyCodeLine{00558\ \ \ nassertr(device\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00559\ }
\DoxyCodeLine{00560\ \ \ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_KEYPRESS)\ \{}
\DoxyCodeLine{00561\ \ \ \ \ \textcolor{comment}{//\ We\ have\ to\ use\ String.fromCharCode\ to\ turn\ this\ into\ a\ text\ character.}}
\DoxyCodeLine{00562\ \ \ \ \ \textcolor{comment}{//\ When\ called\ from\ a\ key\ event,\ it\ does\ some\ special\ magic\ to\ ensure\ that}}
\DoxyCodeLine{00563\ \ \ \ \ \textcolor{comment}{//\ it\ does\ the\ right\ thing.\ \ We\ grab\ the\ first\ unicode\ code\ point.}}
\DoxyCodeLine{00564\ \ \ \ \ \textcolor{comment}{//\ Unfortunately,\ this\ doesn't\ seem\ to\ handle\ dead\ keys\ on\ Firefox.}}
\DoxyCodeLine{00565\ \ \ \ \ \textcolor{keywordtype}{int}\ keycode\ =\ 0;}
\DoxyCodeLine{00566\ \ \ \ \ keycode\ =\ EM\_ASM\_INT(\{}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ String.fromCharCode(\$0).codePointAt(0);}
\DoxyCodeLine{00568\ \ \ \ \ \},\ \textcolor{keyword}{event}-\/>charCode);}
\DoxyCodeLine{00569\ }
\DoxyCodeLine{00570\ \ \ \ \ \textcolor{keywordflow}{if}\ (keycode\ !=\ 0)\ \{}
\DoxyCodeLine{00571\ \ \ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_a45b6adc3ddd5a381e3dda369eb573f5d}{keystroke}}(keycode);}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00573\ \ \ \ \ \}}
\DoxyCodeLine{00574\ }
\DoxyCodeLine{00575\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_KEYDOWN\ ||}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \ \ \ type\ ==\ EMSCRIPTEN\_EVENT\_KEYUP)\ \{}
\DoxyCodeLine{00577\ }
\DoxyCodeLine{00578\ \ \ \ \ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ handle\ =\ map\_key(event-\/>which);}
\DoxyCodeLine{00579\ }
\DoxyCodeLine{00580\ \ \ \ \ \textcolor{comment}{//\ Send\ a\ raw\ event\ too,\ if\ the\ browser\ supports\ providing\ it.}}
\DoxyCodeLine{00581\ \ \ \ \ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ raw\_handle;}
\DoxyCodeLine{00582\ \ \ \ \ \textcolor{keywordflow}{if}\ (event-\/>code[0])\ \{}
\DoxyCodeLine{00583\ \ \ \ \ \ \ raw\_handle\ =\ map\_raw\_key(event-\/>code);}
\DoxyCodeLine{00584\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \textcolor{comment}{//\ This\ browser\ doesn't\ send\ raw\ events.\ \ Let's\ just\ pretend\ the\ user\ is}}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \textcolor{comment}{//\ using\ QWERTY.\ \ Better\ than\ nothing?}}
\DoxyCodeLine{00587\ \ \ \ \ \ \ raw\_handle\ =\ handle;}
\DoxyCodeLine{00588\ \ \ \ \ \}}
\DoxyCodeLine{00589\ }
\DoxyCodeLine{00590\ \ \ \ \ \textcolor{keywordflow}{if}\ (raw\_handle\ !=\ ButtonHandle::none())\ \{}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_KEYUP)\ \{}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ab2bf90a05887052a3f2bfa3997f016fa}{raw\_button\_up}}(raw\_handle);}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!event-\/>repeat)\ \{}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_a5c2a584ba70cc3a2d1fe4a3d4db606ea}{raw\_button\_down}}(raw\_handle);}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00596\ \ \ \ \ \}}
\DoxyCodeLine{00597\ }
\DoxyCodeLine{00598\ \ \ \ \ \textcolor{comment}{//\ Send\ a\ regular\ event\ for\ the\ 'virtual'\ key\ mapping.}}
\DoxyCodeLine{00599\ \ \ \ \ \textcolor{keywordflow}{if}\ (handle\ !=\ ButtonHandle::none())\ \{}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_KEYUP)\ \{}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \textcolor{comment}{//webgldisplay\_cat.info()\ <<\ "{}button\ up\ "{}\ <<\ handle\ <<\ "{}\(\backslash\)n"{};}}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(handle);}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (event-\/>repeat)\ \{}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ad4d4859c3e0a317bd7324d146051b934}{button\_resume\_down}}(handle);}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00606\ \ \ \ \ \ \ \ \ \textcolor{comment}{//webgldisplay\_cat.info()\ <<\ "{}button\ down\ "{}\ <<\ handle\ <<\ "{}\(\backslash\)n"{};}}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ device-\/>button\_down(handle);}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \ \ \ \ \ \ \textcolor{comment}{//\ If\ we\ preventDefault\ a\ keydown\ event,\ its\ keypress\ event\ won't\ fire,}}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \textcolor{comment}{//\ which\ would\ prevent\ text\ input\ from\ working.\ \ However,\ we\ must\ still}}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \textcolor{comment}{//\ prevent\ the\ default\ action\ from\ working\ in\ backspace\ and\ tab\ events.}}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_KEYDOWN\ \&\&}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ event-\/>keyCode\ !=\ 8\ \&\&\ event-\/>keyCode\ !=\ 9)\ \{}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00616\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00619\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (event-\/>which\ !=\ 0)\ \{}
\DoxyCodeLine{00620\ \ \ \ \ \ \ webgldisplay\_cat.info()}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}unhandled\ event\ code\ "{}}\ <<\ \textcolor{keyword}{event}-\/>which\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00622\ \ \ \ \ \}}
\DoxyCodeLine{00623\ \ \ \}}
\DoxyCodeLine{00624\ }
\DoxyCodeLine{00625\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00626\ \}}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00631\ EM\_BOOL\ WebGLGraphicsWindow::}
\DoxyCodeLine{00632\ on\_mouse\_event(\textcolor{keywordtype}{int}\ type,\ \textcolor{keyword}{const}\ EmscriptenMouseEvent\ *event,\ \textcolor{keywordtype}{void}\ *user\_data)\ \{}
\DoxyCodeLine{00633\ \ \ \mbox{\hyperlink{classGraphicsWindowInputDevice}{GraphicsWindowInputDevice}}\ *device;}
\DoxyCodeLine{00634\ \ \ device\ =\ (\mbox{\hyperlink{classGraphicsWindowInputDevice}{GraphicsWindowInputDevice}}\ *)user\_data;}
\DoxyCodeLine{00635\ \ \ nassertr(device\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00636\ }
\DoxyCodeLine{00637\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *target\ =\ \textcolor{stringliteral}{"{}\#canvas"{}};}
\DoxyCodeLine{00638\ }
\DoxyCodeLine{00639\ \ \ \textcolor{keywordflow}{switch}\ (type)\ \{}
\DoxyCodeLine{00640\ \ \ \textcolor{keywordflow}{case}\ EMSCRIPTEN\_EVENT\_MOUSEDOWN:}
\DoxyCodeLine{00641\ \ \ \ \ \textcolor{comment}{//\ Don't\ register\ out-\/of-\/bounds\ mouse\ downs.}}
\DoxyCodeLine{00642\ \ \ \ \ \textcolor{keywordflow}{if}\ (event-\/>targetX\ >=\ 0\ \&\&\ event-\/>targetY\ >=\ 0)\ \{}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ w,\ h;}
\DoxyCodeLine{00644\ \ \ \ \ \ \ emscripten\_get\_canvas\_element\_size(target,\ \&w,\ \&h);}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (event-\/>targetX\ <\ w\ \&\&\ event-\/>targetY\ <\ h)\ \{}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ device-\/>button\_down(MouseButton::button(event-\/>button));}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00649\ \ \ \ \ \}}
\DoxyCodeLine{00650\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00651\ }
\DoxyCodeLine{00652\ \ \ \textcolor{keywordflow}{case}\ EMSCRIPTEN\_EVENT\_MOUSEUP:}
\DoxyCodeLine{00653\ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::button(event-\/>button));}
\DoxyCodeLine{00654\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00655\ }
\DoxyCodeLine{00656\ \ \ \textcolor{keywordflow}{case}\ EMSCRIPTEN\_EVENT\_MOUSEMOVE:}
\DoxyCodeLine{00657\ \ \ \ \ \{}
\DoxyCodeLine{00658\ \ \ \ \ \ \ EmscriptenPointerlockChangeEvent\ ev;}
\DoxyCodeLine{00659\ \ \ \ \ \ \ emscripten\_get\_pointerlock\_status(\&ev);}
\DoxyCodeLine{00660\ }
\DoxyCodeLine{00661\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ev.isActive)\ \{}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classPointerData}{PointerData}}\ md\ =\ device-\/>get\_pointer();}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ad676b64760d8a27b5c5233fa52c96cc3}{set\_pointer\_in\_window}}(md.get\_x()\ +\ event-\/>movementX,}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ md.get\_y()\ +\ event-\/>movementY);}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ad676b64760d8a27b5c5233fa52c96cc3}{set\_pointer\_in\_window}}(event-\/>targetX,\ event-\/>targetY);}
\DoxyCodeLine{00667\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00668\ \ \ \ \ \}}
\DoxyCodeLine{00669\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00670\ }
\DoxyCodeLine{00671\ \ \ \textcolor{keywordflow}{case}\ EMSCRIPTEN\_EVENT\_MOUSEENTER:}
\DoxyCodeLine{00672\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00674\ \ \ \textcolor{keywordflow}{case}\ EMSCRIPTEN\_EVENT\_MOUSELEAVE:}
\DoxyCodeLine{00675\ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_a44c6484a6e325ced379dad9d9fab519d}{set\_pointer\_out\_of\_window}}();}
\DoxyCodeLine{00676\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00677\ }
\DoxyCodeLine{00678\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00679\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00680\ \ \ \}}
\DoxyCodeLine{00681\ }
\DoxyCodeLine{00682\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00683\ \}}
\DoxyCodeLine{00684\ }
\DoxyCodeLine{00688\ EM\_BOOL\ WebGLGraphicsWindow::}
\DoxyCodeLine{00689\ on\_wheel\_event(\textcolor{keywordtype}{int}\ type,\ \textcolor{keyword}{const}\ EmscriptenWheelEvent\ *event,\ \textcolor{keywordtype}{void}\ *user\_data)\ \{}
\DoxyCodeLine{00690\ \ \ \mbox{\hyperlink{classGraphicsWindowInputDevice}{GraphicsWindowInputDevice}}\ *device;}
\DoxyCodeLine{00691\ \ \ device\ =\ (\mbox{\hyperlink{classGraphicsWindowInputDevice}{GraphicsWindowInputDevice}}\ *)user\_data;}
\DoxyCodeLine{00692\ \ \ nassertr(device\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00693\ }
\DoxyCodeLine{00694\ \ \ \textcolor{keywordflow}{if}\ (type\ ==\ EMSCRIPTEN\_EVENT\_WHEEL)\ \{}
\DoxyCodeLine{00695\ \ \ \ \ \textcolor{keywordflow}{if}\ (event-\/>deltaY\ <\ 0)\ \{}
\DoxyCodeLine{00696\ \ \ \ \ \ \ device-\/>button\_down(MouseButton::wheel\_up());}
\DoxyCodeLine{00697\ \ \ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::wheel\_up());}
\DoxyCodeLine{00698\ \ \ \ \ \}}
\DoxyCodeLine{00699\ \ \ \ \ \textcolor{keywordflow}{if}\ (event-\/>deltaY\ >\ 0)\ \{}
\DoxyCodeLine{00700\ \ \ \ \ \ \ device-\/>button\_down(MouseButton::wheel\_down());}
\DoxyCodeLine{00701\ \ \ \ \ \ \ device-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::wheel\_down());}
\DoxyCodeLine{00702\ \ \ \ \ \}}
\DoxyCodeLine{00703\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00704\ \ \ \}}
\DoxyCodeLine{00705\ }
\DoxyCodeLine{00706\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00707\ \}}
\DoxyCodeLine{00708\ }
\DoxyCodeLine{00709\ }
\DoxyCodeLine{00713\ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ WebGLGraphicsWindow::}
\DoxyCodeLine{00714\ map\_key(\textcolor{keywordtype}{int}\ which)\ \{}
\DoxyCodeLine{00715\ \ \ \textcolor{keywordflow}{switch}\ (which)\ \{}
\DoxyCodeLine{00716\ \ \ \textcolor{keywordflow}{case}\ 8:}
\DoxyCodeLine{00717\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::backspace();}
\DoxyCodeLine{00718\ \ \ \textcolor{keywordflow}{case}\ 9:}
\DoxyCodeLine{00719\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::tab();}
\DoxyCodeLine{00720\ \ \ \textcolor{keywordflow}{case}\ 13:}
\DoxyCodeLine{00721\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::enter();}
\DoxyCodeLine{00722\ \ \ \textcolor{keywordflow}{case}\ 16:}
\DoxyCodeLine{00723\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::shift();}
\DoxyCodeLine{00724\ \ \ \textcolor{keywordflow}{case}\ 17:}
\DoxyCodeLine{00725\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::control();}
\DoxyCodeLine{00726\ \ \ \textcolor{keywordflow}{case}\ 18:}
\DoxyCodeLine{00727\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::alt();}
\DoxyCodeLine{00728\ \ \ \textcolor{keywordflow}{case}\ 19:}
\DoxyCodeLine{00729\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::pause();}
\DoxyCodeLine{00730\ \ \ \textcolor{keywordflow}{case}\ 20:}
\DoxyCodeLine{00731\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::caps\_lock();}
\DoxyCodeLine{00732\ \ \ \textcolor{keywordflow}{case}\ 27:}
\DoxyCodeLine{00733\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::escape();}
\DoxyCodeLine{00734\ \ \ \textcolor{keywordflow}{case}\ 32:}
\DoxyCodeLine{00735\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::space();}
\DoxyCodeLine{00736\ \ \ \textcolor{keywordflow}{case}\ 33:}
\DoxyCodeLine{00737\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::page\_up();}
\DoxyCodeLine{00738\ \ \ \textcolor{keywordflow}{case}\ 34:}
\DoxyCodeLine{00739\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::page\_down();}
\DoxyCodeLine{00740\ \ \ \textcolor{keywordflow}{case}\ 35:}
\DoxyCodeLine{00741\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::end();}
\DoxyCodeLine{00742\ \ \ \textcolor{keywordflow}{case}\ 36:}
\DoxyCodeLine{00743\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::home();}
\DoxyCodeLine{00744\ \ \ \textcolor{keywordflow}{case}\ 37:}
\DoxyCodeLine{00745\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::left();}
\DoxyCodeLine{00746\ \ \ \textcolor{keywordflow}{case}\ 38:}
\DoxyCodeLine{00747\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::up();}
\DoxyCodeLine{00748\ \ \ \textcolor{keywordflow}{case}\ 39:}
\DoxyCodeLine{00749\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::right();}
\DoxyCodeLine{00750\ \ \ \textcolor{keywordflow}{case}\ 40:}
\DoxyCodeLine{00751\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::down();}
\DoxyCodeLine{00752\ \ \ \textcolor{keywordflow}{case}\ 42:}
\DoxyCodeLine{00753\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::print\_screen();}
\DoxyCodeLine{00754\ \ \ \textcolor{keywordflow}{case}\ 45:}
\DoxyCodeLine{00755\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::insert();}
\DoxyCodeLine{00756\ \ \ \textcolor{keywordflow}{case}\ 46:}
\DoxyCodeLine{00757\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::del();}
\DoxyCodeLine{00758\ \ \ \textcolor{keywordflow}{case}\ 48:}
\DoxyCodeLine{00759\ \ \ \textcolor{keywordflow}{case}\ 49:}
\DoxyCodeLine{00760\ \ \ \textcolor{keywordflow}{case}\ 50:}
\DoxyCodeLine{00761\ \ \ \textcolor{keywordflow}{case}\ 51:}
\DoxyCodeLine{00762\ \ \ \textcolor{keywordflow}{case}\ 52:}
\DoxyCodeLine{00763\ \ \ \textcolor{keywordflow}{case}\ 53:}
\DoxyCodeLine{00764\ \ \ \textcolor{keywordflow}{case}\ 54:}
\DoxyCodeLine{00765\ \ \ \textcolor{keywordflow}{case}\ 55:}
\DoxyCodeLine{00766\ \ \ \textcolor{keywordflow}{case}\ 56:}
\DoxyCodeLine{00767\ \ \ \textcolor{keywordflow}{case}\ 57:}
\DoxyCodeLine{00768\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'0'}\ +\ (which\ -\/\ 48));}
\DoxyCodeLine{00769\ \ \ \textcolor{keywordflow}{case}\ 59:}
\DoxyCodeLine{00770\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{';'});}
\DoxyCodeLine{00771\ \ \ \textcolor{keywordflow}{case}\ 61:}
\DoxyCodeLine{00772\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'='});}
\DoxyCodeLine{00773\ \ \ \textcolor{keywordflow}{case}\ 65:}
\DoxyCodeLine{00774\ \ \ \textcolor{keywordflow}{case}\ 66:}
\DoxyCodeLine{00775\ \ \ \textcolor{keywordflow}{case}\ 67:}
\DoxyCodeLine{00776\ \ \ \textcolor{keywordflow}{case}\ 68:}
\DoxyCodeLine{00777\ \ \ \textcolor{keywordflow}{case}\ 69:}
\DoxyCodeLine{00778\ \ \ \textcolor{keywordflow}{case}\ 70:}
\DoxyCodeLine{00779\ \ \ \textcolor{keywordflow}{case}\ 71:}
\DoxyCodeLine{00780\ \ \ \textcolor{keywordflow}{case}\ 72:}
\DoxyCodeLine{00781\ \ \ \textcolor{keywordflow}{case}\ 73:}
\DoxyCodeLine{00782\ \ \ \textcolor{keywordflow}{case}\ 74:}
\DoxyCodeLine{00783\ \ \ \textcolor{keywordflow}{case}\ 75:}
\DoxyCodeLine{00784\ \ \ \textcolor{keywordflow}{case}\ 76:}
\DoxyCodeLine{00785\ \ \ \textcolor{keywordflow}{case}\ 77:}
\DoxyCodeLine{00786\ \ \ \textcolor{keywordflow}{case}\ 78:}
\DoxyCodeLine{00787\ \ \ \textcolor{keywordflow}{case}\ 79:}
\DoxyCodeLine{00788\ \ \ \textcolor{keywordflow}{case}\ 80:}
\DoxyCodeLine{00789\ \ \ \textcolor{keywordflow}{case}\ 81:}
\DoxyCodeLine{00790\ \ \ \textcolor{keywordflow}{case}\ 82:}
\DoxyCodeLine{00791\ \ \ \textcolor{keywordflow}{case}\ 83:}
\DoxyCodeLine{00792\ \ \ \textcolor{keywordflow}{case}\ 84:}
\DoxyCodeLine{00793\ \ \ \textcolor{keywordflow}{case}\ 85:}
\DoxyCodeLine{00794\ \ \ \textcolor{keywordflow}{case}\ 86:}
\DoxyCodeLine{00795\ \ \ \textcolor{keywordflow}{case}\ 87:}
\DoxyCodeLine{00796\ \ \ \textcolor{keywordflow}{case}\ 88:}
\DoxyCodeLine{00797\ \ \ \textcolor{keywordflow}{case}\ 89:}
\DoxyCodeLine{00798\ \ \ \textcolor{keywordflow}{case}\ 90:}
\DoxyCodeLine{00799\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'a'}\ +\ (which\ -\/\ 65));}
\DoxyCodeLine{00800\ \ \ \textcolor{keywordflow}{case}\ 91:}
\DoxyCodeLine{00801\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::lmeta();}
\DoxyCodeLine{00802\ \ \ \textcolor{keywordflow}{case}\ 92:}
\DoxyCodeLine{00803\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::rmeta();}
\DoxyCodeLine{00804\ \ \ \textcolor{keywordflow}{case}\ 93:}
\DoxyCodeLine{00805\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::menu();}
\DoxyCodeLine{00806\ \ \ \textcolor{keywordflow}{case}\ 96:}
\DoxyCodeLine{00807\ \ \ \textcolor{keywordflow}{case}\ 97:}
\DoxyCodeLine{00808\ \ \ \textcolor{keywordflow}{case}\ 98:}
\DoxyCodeLine{00809\ \ \ \textcolor{keywordflow}{case}\ 99:}
\DoxyCodeLine{00810\ \ \ \textcolor{keywordflow}{case}\ 100:}
\DoxyCodeLine{00811\ \ \ \textcolor{keywordflow}{case}\ 101:}
\DoxyCodeLine{00812\ \ \ \textcolor{keywordflow}{case}\ 102:}
\DoxyCodeLine{00813\ \ \ \textcolor{keywordflow}{case}\ 103:}
\DoxyCodeLine{00814\ \ \ \textcolor{keywordflow}{case}\ 104:}
\DoxyCodeLine{00815\ \ \ \textcolor{keywordflow}{case}\ 105:}
\DoxyCodeLine{00816\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'0'}\ +\ (which\ -\/\ 96));}
\DoxyCodeLine{00817\ \ \ \textcolor{keywordflow}{case}\ 106:}
\DoxyCodeLine{00818\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'*'});}
\DoxyCodeLine{00819\ \ \ \textcolor{keywordflow}{case}\ 107:}
\DoxyCodeLine{00820\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'+'});}
\DoxyCodeLine{00821\ \ \ \textcolor{keywordflow}{case}\ 109:}
\DoxyCodeLine{00822\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{00823\ \ \ \textcolor{keywordflow}{case}\ 110:}
\DoxyCodeLine{00824\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00825\ \ \ \textcolor{keywordflow}{case}\ 111:}
\DoxyCodeLine{00826\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'/'});}
\DoxyCodeLine{00827\ \ \ \textcolor{keywordflow}{case}\ 112:}
\DoxyCodeLine{00828\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f1();}
\DoxyCodeLine{00829\ \ \ \textcolor{keywordflow}{case}\ 113:}
\DoxyCodeLine{00830\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f2();}
\DoxyCodeLine{00831\ \ \ \textcolor{keywordflow}{case}\ 114:}
\DoxyCodeLine{00832\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f3();}
\DoxyCodeLine{00833\ \ \ \textcolor{keywordflow}{case}\ 115:}
\DoxyCodeLine{00834\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f4();}
\DoxyCodeLine{00835\ \ \ \textcolor{keywordflow}{case}\ 116:}
\DoxyCodeLine{00836\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f5();}
\DoxyCodeLine{00837\ \ \ \textcolor{keywordflow}{case}\ 117:}
\DoxyCodeLine{00838\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f6();}
\DoxyCodeLine{00839\ \ \ \textcolor{keywordflow}{case}\ 118:}
\DoxyCodeLine{00840\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f7();}
\DoxyCodeLine{00841\ \ \ \textcolor{keywordflow}{case}\ 119:}
\DoxyCodeLine{00842\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f8();}
\DoxyCodeLine{00843\ \ \ \textcolor{keywordflow}{case}\ 120:}
\DoxyCodeLine{00844\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f9();}
\DoxyCodeLine{00845\ \ \ \textcolor{keywordflow}{case}\ 121:}
\DoxyCodeLine{00846\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f10();}
\DoxyCodeLine{00847\ \ \ \textcolor{keywordflow}{case}\ 122:}
\DoxyCodeLine{00848\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f11();}
\DoxyCodeLine{00849\ \ \ \textcolor{keywordflow}{case}\ 123:}
\DoxyCodeLine{00850\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f12();}
\DoxyCodeLine{00851\ \ \ \textcolor{keywordflow}{case}\ 144:}
\DoxyCodeLine{00852\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::num\_lock();}
\DoxyCodeLine{00853\ \ \ \textcolor{keywordflow}{case}\ 145:}
\DoxyCodeLine{00854\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::scroll\_lock();}
\DoxyCodeLine{00855\ \ \ \textcolor{keywordflow}{case}\ 173:}
\DoxyCodeLine{00856\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{00857\ \ \ \textcolor{keywordflow}{case}\ 186:}
\DoxyCodeLine{00858\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{';'});}
\DoxyCodeLine{00859\ \ \ \textcolor{keywordflow}{case}\ 187:}
\DoxyCodeLine{00860\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'='});}
\DoxyCodeLine{00861\ \ \ \textcolor{keywordflow}{case}\ 188:}
\DoxyCodeLine{00862\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{','});}
\DoxyCodeLine{00863\ \ \ \textcolor{keywordflow}{case}\ 189:}
\DoxyCodeLine{00864\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{00865\ \ \ \textcolor{keywordflow}{case}\ 190:}
\DoxyCodeLine{00866\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00867\ \ \ \textcolor{keywordflow}{case}\ 191:}
\DoxyCodeLine{00868\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'?'});}
\DoxyCodeLine{00869\ \ \ \textcolor{keywordflow}{case}\ 192:}
\DoxyCodeLine{00870\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'`'});}
\DoxyCodeLine{00871\ \ \ \textcolor{keywordflow}{case}\ 219:}
\DoxyCodeLine{00872\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'['});}
\DoxyCodeLine{00873\ \ \ \textcolor{keywordflow}{case}\ 220:}
\DoxyCodeLine{00874\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{00875\ \ \ \textcolor{keywordflow}{case}\ 221:}
\DoxyCodeLine{00876\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{']'});}
\DoxyCodeLine{00877\ \ \ \textcolor{keywordflow}{case}\ 222:}
\DoxyCodeLine{00878\ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'\(\backslash\)''});}
\DoxyCodeLine{00879\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00880\ \ \ \ \ \textcolor{keywordflow}{return}\ ButtonHandle::none();}
\DoxyCodeLine{00881\ \ \ \}}
\DoxyCodeLine{00882\ \}}
\DoxyCodeLine{00883\ }
\DoxyCodeLine{00887\ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ WebGLGraphicsWindow::}
\DoxyCodeLine{00888\ map\_raw\_key(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *code)\ \{}
\DoxyCodeLine{00889\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00890\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *code;}
\DoxyCodeLine{00891\ \ \ \ \ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ handle;}
\DoxyCodeLine{00892\ \ \ \}\ mappings[]\ =\ \{}
\DoxyCodeLine{00893\ \ \ \ \ \textcolor{comment}{//\{"{}Again"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00894\ \ \ \ \ \{\textcolor{stringliteral}{"{}AltLeft"{}},\ KeyboardButton::lalt()\},}
\DoxyCodeLine{00895\ \ \ \ \ \{\textcolor{stringliteral}{"{}AltRight"{}},\ KeyboardButton::ralt()\},}
\DoxyCodeLine{00896\ \ \ \ \ \{\textcolor{stringliteral}{"{}ArrowDown"{}},\ KeyboardButton::down()\},}
\DoxyCodeLine{00897\ \ \ \ \ \{\textcolor{stringliteral}{"{}ArrowLeft"{}},\ KeyboardButton::left()\},}
\DoxyCodeLine{00898\ \ \ \ \ \{\textcolor{stringliteral}{"{}ArrowRight"{}},\ KeyboardButton::right()\},}
\DoxyCodeLine{00899\ \ \ \ \ \{\textcolor{stringliteral}{"{}ArrowUp"{}},\ KeyboardButton::up()\},}
\DoxyCodeLine{00900\ \ \ \ \ \{\textcolor{stringliteral}{"{}Backquote"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'`'})\},}
\DoxyCodeLine{00901\ \ \ \ \ \{\textcolor{stringliteral}{"{}Backslash"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})\},}
\DoxyCodeLine{00902\ \ \ \ \ \{\textcolor{stringliteral}{"{}Backspace"{}},\ KeyboardButton::backspace()\},}
\DoxyCodeLine{00903\ \ \ \ \ \{\textcolor{stringliteral}{"{}BracketLeft"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'['})\},}
\DoxyCodeLine{00904\ \ \ \ \ \{\textcolor{stringliteral}{"{}BracketRight"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{']'})\},}
\DoxyCodeLine{00905\ \ \ \ \ \textcolor{comment}{//\{"{}BrowserBack"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00906\ \ \ \ \ \textcolor{comment}{//\{"{}BrowserFavorites"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00907\ \ \ \ \ \textcolor{comment}{//\{"{}BrowserForward"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00908\ \ \ \ \ \textcolor{comment}{//\{"{}BrowserRefresh"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00909\ \ \ \ \ \textcolor{comment}{//\{"{}BrowserSearch"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00910\ \ \ \ \ \textcolor{comment}{//\{"{}BrowserStop"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00911\ \ \ \ \ \{\textcolor{stringliteral}{"{}CapsLock"{}},\ KeyboardButton::caps\_lock()\},}
\DoxyCodeLine{00912\ \ \ \ \ \{\textcolor{stringliteral}{"{}Comma"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{','})\},}
\DoxyCodeLine{00913\ \ \ \ \ \{\textcolor{stringliteral}{"{}ContextMenu"{}},\ KeyboardButton::menu()\},}
\DoxyCodeLine{00914\ \ \ \ \ \{\textcolor{stringliteral}{"{}ControlLeft"{}},\ KeyboardButton::lcontrol()\},}
\DoxyCodeLine{00915\ \ \ \ \ \{\textcolor{stringliteral}{"{}ControlRight"{}},\ KeyboardButton::rcontrol()\},}
\DoxyCodeLine{00916\ \ \ \ \ \textcolor{comment}{//\{"{}Convert"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00917\ \ \ \ \ \textcolor{comment}{//\{"{}Copy"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00918\ \ \ \ \ \textcolor{comment}{//\{"{}Cut"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00919\ \ \ \ \ \{\textcolor{stringliteral}{"{}Delete"{}},\ KeyboardButton::del()\},}
\DoxyCodeLine{00920\ \ \ \ \ \{\textcolor{stringliteral}{"{}Digit0"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'0'})\},}
\DoxyCodeLine{00921\ \ \ \ \ \{\textcolor{stringliteral}{"{}Digit1"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'1'})\},}
\DoxyCodeLine{00922\ \ \ \ \ \{\textcolor{stringliteral}{"{}Digit2"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'2'})\},}
\DoxyCodeLine{00923\ \ \ \ \ \{\textcolor{stringliteral}{"{}Digit3"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'3'})\},}
\DoxyCodeLine{00924\ \ \ \ \ \{\textcolor{stringliteral}{"{}Digit4"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'4'})\},}
\DoxyCodeLine{00925\ \ \ \ \ \{\textcolor{stringliteral}{"{}Digit5"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'5'})\},}
\DoxyCodeLine{00926\ \ \ \ \ \{\textcolor{stringliteral}{"{}Digit6"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'6'})\},}
\DoxyCodeLine{00927\ \ \ \ \ \{\textcolor{stringliteral}{"{}Digit7"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'7'})\},}
\DoxyCodeLine{00928\ \ \ \ \ \{\textcolor{stringliteral}{"{}Digit8"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'8'})\},}
\DoxyCodeLine{00929\ \ \ \ \ \{\textcolor{stringliteral}{"{}Digit9"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'9'})\},}
\DoxyCodeLine{00930\ \ \ \ \ \textcolor{comment}{//\{"{}Eject"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00931\ \ \ \ \ \{\textcolor{stringliteral}{"{}End"{}},\ KeyboardButton::end()\},}
\DoxyCodeLine{00932\ \ \ \ \ \{\textcolor{stringliteral}{"{}Enter"{}},\ KeyboardButton::enter()\},}
\DoxyCodeLine{00933\ \ \ \ \ \{\textcolor{stringliteral}{"{}Equal"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'='})\},}
\DoxyCodeLine{00934\ \ \ \ \ \{\textcolor{stringliteral}{"{}Escape"{}},\ KeyboardButton::escape()\},}
\DoxyCodeLine{00935\ \ \ \ \ \{\textcolor{stringliteral}{"{}F1"{}},\ KeyboardButton::f1()\},}
\DoxyCodeLine{00936\ \ \ \ \ \{\textcolor{stringliteral}{"{}F10"{}},\ KeyboardButton::f10()\},}
\DoxyCodeLine{00937\ \ \ \ \ \{\textcolor{stringliteral}{"{}F11"{}},\ KeyboardButton::f11()\},}
\DoxyCodeLine{00938\ \ \ \ \ \{\textcolor{stringliteral}{"{}F12"{}},\ KeyboardButton::f12()\},}
\DoxyCodeLine{00939\ \ \ \ \ \{\textcolor{stringliteral}{"{}F13"{}},\ KeyboardButton::f13()\},}
\DoxyCodeLine{00940\ \ \ \ \ \{\textcolor{stringliteral}{"{}F14"{}},\ KeyboardButton::f14()\},}
\DoxyCodeLine{00941\ \ \ \ \ \{\textcolor{stringliteral}{"{}F15"{}},\ KeyboardButton::f15()\},}
\DoxyCodeLine{00942\ \ \ \ \ \{\textcolor{stringliteral}{"{}F16"{}},\ KeyboardButton::f16()\},}
\DoxyCodeLine{00943\ \ \ \ \ \textcolor{comment}{//\{"{}F17"{},\ KeyboardButton::f17()\},}}
\DoxyCodeLine{00944\ \ \ \ \ \textcolor{comment}{//\{"{}F18"{},\ KeyboardButton::f18()\},}}
\DoxyCodeLine{00945\ \ \ \ \ \textcolor{comment}{//\{"{}F19"{},\ KeyboardButton::f19()\},}}
\DoxyCodeLine{00946\ \ \ \ \ \{\textcolor{stringliteral}{"{}F2"{}},\ KeyboardButton::f2()\},}
\DoxyCodeLine{00947\ \ \ \ \ \textcolor{comment}{//\{"{}F20"{},\ KeyboardButton::f20()\},}}
\DoxyCodeLine{00948\ \ \ \ \ \textcolor{comment}{//\{"{}F21"{},\ KeyboardButton::f21()\},}}
\DoxyCodeLine{00949\ \ \ \ \ \textcolor{comment}{//\{"{}F22"{},\ KeyboardButton::f22()\},}}
\DoxyCodeLine{00950\ \ \ \ \ \textcolor{comment}{//\{"{}F23"{},\ KeyboardButton::f23()\},}}
\DoxyCodeLine{00951\ \ \ \ \ \textcolor{comment}{//\{"{}F24"{},\ KeyboardButton::f24()\},}}
\DoxyCodeLine{00952\ \ \ \ \ \{\textcolor{stringliteral}{"{}F3"{}},\ KeyboardButton::f3()\},}
\DoxyCodeLine{00953\ \ \ \ \ \{\textcolor{stringliteral}{"{}F4"{}},\ KeyboardButton::f4()\},}
\DoxyCodeLine{00954\ \ \ \ \ \{\textcolor{stringliteral}{"{}F5"{}},\ KeyboardButton::f5()\},}
\DoxyCodeLine{00955\ \ \ \ \ \{\textcolor{stringliteral}{"{}F6"{}},\ KeyboardButton::f6()\},}
\DoxyCodeLine{00956\ \ \ \ \ \{\textcolor{stringliteral}{"{}F7"{}},\ KeyboardButton::f7()\},}
\DoxyCodeLine{00957\ \ \ \ \ \{\textcolor{stringliteral}{"{}F8"{}},\ KeyboardButton::f8()\},}
\DoxyCodeLine{00958\ \ \ \ \ \{\textcolor{stringliteral}{"{}F9"{}},\ KeyboardButton::f9()\},}
\DoxyCodeLine{00959\ \ \ \ \ \textcolor{comment}{//\{"{}Find"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00960\ \ \ \ \ \textcolor{comment}{//\{"{}Fn"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00961\ \ \ \ \ \{\textcolor{stringliteral}{"{}Help"{}},\ KeyboardButton::help()\},}
\DoxyCodeLine{00962\ \ \ \ \ \{\textcolor{stringliteral}{"{}Home"{}},\ KeyboardButton::home()\},}
\DoxyCodeLine{00963\ \ \ \ \ \{\textcolor{stringliteral}{"{}Insert"{}},\ KeyboardButton::insert()\},}
\DoxyCodeLine{00964\ \ \ \ \ \textcolor{comment}{//\{"{}IntlBackslash"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00965\ \ \ \ \ \textcolor{comment}{//\{"{}IntlRo"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00966\ \ \ \ \ \textcolor{comment}{//\{"{}IntlYen"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00967\ \ \ \ \ \textcolor{comment}{//\{"{}KanaMode"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00968\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyA"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'a'})\},}
\DoxyCodeLine{00969\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyB"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'b'})\},}
\DoxyCodeLine{00970\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyC"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'c'})\},}
\DoxyCodeLine{00971\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyD"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'d'})\},}
\DoxyCodeLine{00972\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyE"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'e'})\},}
\DoxyCodeLine{00973\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyF"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'f'})\},}
\DoxyCodeLine{00974\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyG"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'g'})\},}
\DoxyCodeLine{00975\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyH"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'h'})\},}
\DoxyCodeLine{00976\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyI"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'i'})\},}
\DoxyCodeLine{00977\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyJ"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'j'})\},}
\DoxyCodeLine{00978\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyK"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'k'})\},}
\DoxyCodeLine{00979\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyL"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'l'})\},}
\DoxyCodeLine{00980\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyM"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'m'})\},}
\DoxyCodeLine{00981\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyN"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'n'})\},}
\DoxyCodeLine{00982\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyO"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'o'})\},}
\DoxyCodeLine{00983\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyP"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'p'})\},}
\DoxyCodeLine{00984\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyQ"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'q'})\},}
\DoxyCodeLine{00985\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyR"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'r'})\},}
\DoxyCodeLine{00986\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyS"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'s'})\},}
\DoxyCodeLine{00987\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyT"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'t'})\},}
\DoxyCodeLine{00988\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyU"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'u'})\},}
\DoxyCodeLine{00989\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyV"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'v'})\},}
\DoxyCodeLine{00990\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyW"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'w'})\},}
\DoxyCodeLine{00991\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyX"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'x'})\},}
\DoxyCodeLine{00992\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyY"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'y'})\},}
\DoxyCodeLine{00993\ \ \ \ \ \{\textcolor{stringliteral}{"{}KeyZ"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'z'})\},}
\DoxyCodeLine{00994\ \ \ \ \ \textcolor{comment}{//\{"{}Lang1"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00995\ \ \ \ \ \textcolor{comment}{//\{"{}Lang2"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00996\ \ \ \ \ \textcolor{comment}{//\{"{}LaunchApp1"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00997\ \ \ \ \ \textcolor{comment}{//\{"{}MediaPlayPause"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00998\ \ \ \ \ \textcolor{comment}{//\{"{}MediaStop"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{00999\ \ \ \ \ \textcolor{comment}{//\{"{}MediaTrackNext"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01000\ \ \ \ \ \textcolor{comment}{//\{"{}MediaTrackPrevious"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01001\ \ \ \ \ \{\textcolor{stringliteral}{"{}Minus"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'-\/'})\},}
\DoxyCodeLine{01002\ \ \ \ \ \textcolor{comment}{//\{"{}NonConvert"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01003\ \ \ \ \ \{\textcolor{stringliteral}{"{}NumLock"{}},\ KeyboardButton::num\_lock()\},}
\DoxyCodeLine{01004\ \ \ \ \ \{\textcolor{stringliteral}{"{}Numpad0"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'0'})\},}
\DoxyCodeLine{01005\ \ \ \ \ \{\textcolor{stringliteral}{"{}Numpad1"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'1'})\},}
\DoxyCodeLine{01006\ \ \ \ \ \{\textcolor{stringliteral}{"{}Numpad2"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'2'})\},}
\DoxyCodeLine{01007\ \ \ \ \ \{\textcolor{stringliteral}{"{}Numpad3"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'3'})\},}
\DoxyCodeLine{01008\ \ \ \ \ \{\textcolor{stringliteral}{"{}Numpad4"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'4'})\},}
\DoxyCodeLine{01009\ \ \ \ \ \{\textcolor{stringliteral}{"{}Numpad5"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'5'})\},}
\DoxyCodeLine{01010\ \ \ \ \ \{\textcolor{stringliteral}{"{}Numpad6"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'6'})\},}
\DoxyCodeLine{01011\ \ \ \ \ \{\textcolor{stringliteral}{"{}Numpad7"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'7'})\},}
\DoxyCodeLine{01012\ \ \ \ \ \{\textcolor{stringliteral}{"{}Numpad8"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'8'})\},}
\DoxyCodeLine{01013\ \ \ \ \ \{\textcolor{stringliteral}{"{}Numpad9"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'9'})\},}
\DoxyCodeLine{01014\ \ \ \ \ \{\textcolor{stringliteral}{"{}NumpadAdd"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'+'})\},}
\DoxyCodeLine{01015\ \ \ \ \ \{\textcolor{stringliteral}{"{}NumpadComma"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{','})\},}
\DoxyCodeLine{01016\ \ \ \ \ \{\textcolor{stringliteral}{"{}NumpadDecimal"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'.'})\},}
\DoxyCodeLine{01017\ \ \ \ \ \{\textcolor{stringliteral}{"{}NumpadDivide"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'/'})\},}
\DoxyCodeLine{01018\ \ \ \ \ \{\textcolor{stringliteral}{"{}NumpadEnter"{}},\ KeyboardButton::enter()\},}
\DoxyCodeLine{01019\ \ \ \ \ \{\textcolor{stringliteral}{"{}NumpadEqual"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'='})\},}
\DoxyCodeLine{01020\ \ \ \ \ \{\textcolor{stringliteral}{"{}NumpadMultiply"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'*'})\},}
\DoxyCodeLine{01021\ \ \ \ \ \{\textcolor{stringliteral}{"{}NumpadSubtract"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'-\/'})\},}
\DoxyCodeLine{01022\ \ \ \ \ \textcolor{comment}{//\{"{}Open"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01023\ \ \ \ \ \{\textcolor{stringliteral}{"{}OSLeft"{}},\ KeyboardButton::lmeta()\},}
\DoxyCodeLine{01024\ \ \ \ \ \{\textcolor{stringliteral}{"{}OSRight"{}},\ KeyboardButton::rmeta()\},}
\DoxyCodeLine{01025\ \ \ \ \ \{\textcolor{stringliteral}{"{}PageDown"{}},\ KeyboardButton::page\_down()\},}
\DoxyCodeLine{01026\ \ \ \ \ \{\textcolor{stringliteral}{"{}PageUp"{}},\ KeyboardButton::page\_up()\},}
\DoxyCodeLine{01027\ \ \ \ \ \textcolor{comment}{//\{"{}Paste"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01028\ \ \ \ \ \{\textcolor{stringliteral}{"{}Pause"{}},\ KeyboardButton::pause()\},}
\DoxyCodeLine{01029\ \ \ \ \ \{\textcolor{stringliteral}{"{}Period"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'.'})\},}
\DoxyCodeLine{01030\ \ \ \ \ \textcolor{comment}{//\{"{}Power"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01031\ \ \ \ \ \{\textcolor{stringliteral}{"{}PrintScreen"{}},\ KeyboardButton::print\_screen()\},}
\DoxyCodeLine{01032\ \ \ \ \ \textcolor{comment}{//\{"{}Props"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01033\ \ \ \ \ \{\textcolor{stringliteral}{"{}Quote"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'\(\backslash\)''})\},}
\DoxyCodeLine{01034\ \ \ \ \ \{\textcolor{stringliteral}{"{}ScrollLock"{}},\ KeyboardButton::scroll\_lock()\},}
\DoxyCodeLine{01035\ \ \ \ \ \textcolor{comment}{//\{"{}Select"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01036\ \ \ \ \ \{\textcolor{stringliteral}{"{}Semicolon"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{';'})\},}
\DoxyCodeLine{01037\ \ \ \ \ \{\textcolor{stringliteral}{"{}ShiftLeft"{}},\ KeyboardButton::lshift()\},}
\DoxyCodeLine{01038\ \ \ \ \ \{\textcolor{stringliteral}{"{}ShiftRight"{}},\ KeyboardButton::rshift()\},}
\DoxyCodeLine{01039\ \ \ \ \ \{\textcolor{stringliteral}{"{}Slash"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'/'})\},}
\DoxyCodeLine{01040\ \ \ \ \ \textcolor{comment}{//\{"{}Sleep"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01041\ \ \ \ \ \{\textcolor{stringliteral}{"{}Space"{}},\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'\ '})\},}
\DoxyCodeLine{01042\ \ \ \ \ \{\textcolor{stringliteral}{"{}Tab"{}},\ KeyboardButton::tab()\},}
\DoxyCodeLine{01043\ \ \ \ \ \textcolor{comment}{//\{"{}Undo"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01044\ \ \ \ \ \textcolor{comment}{//\{"{}VolumeDown"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01045\ \ \ \ \ \textcolor{comment}{//\{"{}VolumeMute"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01046\ \ \ \ \ \textcolor{comment}{//\{"{}VolumeUp"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01047\ \ \ \ \ \textcolor{comment}{//\{"{}WakeUp"{},\ KeyboardButton::()\},}}
\DoxyCodeLine{01048\ \ \ \ \ \{\textcolor{keyword}{nullptr},\ ButtonHandle::none()\}}
\DoxyCodeLine{01049\ \ \ \};}
\DoxyCodeLine{01050\ }
\DoxyCodeLine{01051\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ mappings[i].code;\ ++i)\ \{}
\DoxyCodeLine{01052\ \ \ \ \ \textcolor{keywordtype}{int}\ cmp\ =\ strcmp(mappings[i].code,\ code);}
\DoxyCodeLine{01053\ \ \ \ \ \textcolor{keywordflow}{if}\ (cmp\ ==\ 0)\ \{}
\DoxyCodeLine{01054\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mappings[i].handle;}
\DoxyCodeLine{01055\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\ >\ 0)\ \{}
\DoxyCodeLine{01056\ \ \ \ \ \ \ \textcolor{comment}{//\ They're\ in\ alphabetical\ order,\ and\ we've\ passed\ it\ by,\ so\ bail\ early.}}
\DoxyCodeLine{01057\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ButtonHandle::none();}
\DoxyCodeLine{01058\ \ \ \ \ \}}
\DoxyCodeLine{01059\ \ \ \}}
\DoxyCodeLine{01060\ }
\DoxyCodeLine{01061\ \ \ \textcolor{keywordflow}{return}\ ButtonHandle::none();}
\DoxyCodeLine{01062\ \}}

\end{DoxyCode}
