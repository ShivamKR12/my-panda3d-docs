\doxysection{graphics\+Buffer.\+cxx}
\hypertarget{graphicsBuffer_8cxx_source}{}\label{graphicsBuffer_8cxx_source}\index{panda/src/display/graphicsBuffer.cxx@{panda/src/display/graphicsBuffer.cxx}}
\mbox{\hyperlink{graphicsBuffer_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{graphicsBuffer_8h}{graphicsBuffer.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ GraphicsBuffer::\_type\_handle;}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00022\ \mbox{\hyperlink{classGraphicsBuffer_abf1b11a11c1ac0a928435ebe7e476310}{GraphicsBuffer::}}}
\DoxyCodeLine{00023\ \mbox{\hyperlink{classGraphicsBuffer_abf1b11a11c1ac0a928435ebe7e476310}{GraphicsBuffer}}(\mbox{\hyperlink{classGraphicsEngine}{GraphicsEngine}}\ *engine,\ \mbox{\hyperlink{classGraphicsPipe}{GraphicsPipe}}\ *pipe,}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&name,}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ \&fb\_prop,}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \&win\_prop,\ \textcolor{keywordtype}{int}\ flags,}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsStateGuardian}{GraphicsStateGuardian}}\ *gsg,}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsOutput}{GraphicsOutput}}\ *host)\ :}
\DoxyCodeLine{00029\ \ \ \mbox{\hyperlink{classGraphicsOutput}{GraphicsOutput}}(engine,\ pipe,\ name,\ fb\_prop,\ win\_prop,\ flags,\ gsg,\ host,\ false)}
\DoxyCodeLine{00030\ \{}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#ifdef\ DO\_MEMORY\_USAGE}}
\DoxyCodeLine{00032\ \ \ MemoryUsage::update\_type(\textcolor{keyword}{this},\ \textcolor{keyword}{this});}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \textcolor{keywordflow}{if}\ (display\_cat.is\_debug())\ \{}
\DoxyCodeLine{00036\ \ \ \ \ display\_cat.debug()}
\DoxyCodeLine{00037\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Creating\ new\ offscreen\ buffer\ "{}}\ <<\ get\_name()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00038\ \ \ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \_overlay\_display\_region-\/>compute\_pixels(\_size.get\_x(),\ \_size.get\_y());}
\DoxyCodeLine{00041\ \ \ \_open\_request\ =\ OR\_none;}
\DoxyCodeLine{00042\ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00047\ GraphicsBuffer::}
\DoxyCodeLine{00048\ \string~GraphicsBuffer()\ \{}
\DoxyCodeLine{00049\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00057\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsBuffer_a7bc89b4dc4d4d47baae861b1276f2568}{GraphicsBuffer::}}}
\DoxyCodeLine{00058\ \mbox{\hyperlink{classGraphicsBuffer_a7bc89b4dc4d4d47baae861b1276f2568}{set\_size}}(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y)\ \{}
\DoxyCodeLine{00059\ \ \ \textcolor{keywordflow}{if}\ ((\_creation\_flags\ \&\ GraphicsPipe::BF\_resizeable)\ ==\ 0)\ \{}
\DoxyCodeLine{00060\ \ \ \ \ nassert\_raise(\textcolor{stringliteral}{"{}Cannot\ resize\ buffer\ unless\ it\ is\ created\ with\ BF\_resizeable\ flag"{}});}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00062\ \ \ \}}
\DoxyCodeLine{00063\ \ \ \mbox{\hyperlink{classGraphicsOutput_a9f455a23a8892292bde821580495187e}{set\_size\_and\_recalc}}(x,\ y);}
\DoxyCodeLine{00064\ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00071\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsBuffer_afc6f66ebbcb23d49efc204da06484b1a}{GraphicsBuffer::}}}
\DoxyCodeLine{00072\ \mbox{\hyperlink{classGraphicsBuffer_afc6f66ebbcb23d49efc204da06484b1a}{request\_open}}()\ \{}
\DoxyCodeLine{00073\ \ \ \_open\_request\ =\ OR\_open;}
\DoxyCodeLine{00074\ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00082\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsBuffer_a9dd39a382928eba58989d6e624157132}{GraphicsBuffer::}}}
\DoxyCodeLine{00083\ \mbox{\hyperlink{classGraphicsBuffer_a9dd39a382928eba58989d6e624157132}{request\_close}}()\ \{}
\DoxyCodeLine{00084\ \ \ \_open\_request\ =\ OR\_none;}
\DoxyCodeLine{00085\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00091\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsBuffer_ad56e9248701394613d435c16605fd4cc}{GraphicsBuffer::}}}
\DoxyCodeLine{00092\ \mbox{\hyperlink{classGraphicsBuffer_ad56e9248701394613d435c16605fd4cc}{set\_close\_now}}()\ \{}
\DoxyCodeLine{00093\ \ \ \_open\_request\ =\ OR\_none;}
\DoxyCodeLine{00094\ \ \ \mbox{\hyperlink{classGraphicsBuffer_a53f039e2016f83582298ce07655bac5c}{close\_buffer}}();}
\DoxyCodeLine{00095\ \}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00102\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsBuffer_a20528f093e0738225d99f94cdd559f7a}{GraphicsBuffer::}}}
\DoxyCodeLine{00103\ \mbox{\hyperlink{classGraphicsBuffer_a20528f093e0738225d99f94cdd559f7a}{process\_events}}()\ \{}
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{//\ Save\ the\ current\ request\ and\ reset\ it\ immediately,\ in\ case\ we\ end\ up}}
\DoxyCodeLine{00105\ \ \ \textcolor{comment}{//\ calling\ recursively\ back\ into\ this\ function.}}
\DoxyCodeLine{00106\ \ \ OpenRequest\ this\_request\ =\ \_open\_request;}
\DoxyCodeLine{00107\ \ \ \_open\_request\ =\ OR\_none;}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \textcolor{keywordflow}{switch}\ (this\_request)\ \{}
\DoxyCodeLine{00110\ \ \ \textcolor{keywordflow}{case}\ OR\_none:}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \textcolor{keywordflow}{case}\ OR\_open:}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classGraphicsBuffer_a0ce20f2a8e934e68c422be3b3bc58019}{open\_buffer}}())\ \{}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \_is\_valid\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsOutput_adda32e9b6b5bf52b6be126cac77813ec}{set\_inverted}}(\_gsg-\/>get\_copy\_texture\_inverted());}
\DoxyCodeLine{00117\ \ \ \ \ \}}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \textcolor{keywordflow}{case}\ OR\_close:}
\DoxyCodeLine{00121\ \ \ \ \ \mbox{\hyperlink{classGraphicsBuffer_a53f039e2016f83582298ce07655bac5c}{close\_buffer}}();}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00123\ \ \ \}}
\DoxyCodeLine{00124\ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00129\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsBuffer_a53f039e2016f83582298ce07655bac5c}{GraphicsBuffer::}}}
\DoxyCodeLine{00130\ \mbox{\hyperlink{classGraphicsBuffer_a53f039e2016f83582298ce07655bac5c}{close\_buffer}}()\ \{}
\DoxyCodeLine{00131\ \ \ display\_cat.info()}
\DoxyCodeLine{00132\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Closing\ "{}}\ <<\ get\_type()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00133\ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00139\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsBuffer_a0ce20f2a8e934e68c422be3b3bc58019}{GraphicsBuffer::}}}
\DoxyCodeLine{00140\ \mbox{\hyperlink{classGraphicsBuffer_a0ce20f2a8e934e68c422be3b3bc58019}{open\_buffer}}()\ \{}
\DoxyCodeLine{00141\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00142\ \}}

\end{DoxyCode}
