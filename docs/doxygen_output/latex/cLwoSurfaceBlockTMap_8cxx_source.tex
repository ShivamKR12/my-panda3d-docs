\doxysection{c\+Lwo\+Surface\+Block\+TMap.\+cxx}
\hypertarget{cLwoSurfaceBlockTMap_8cxx_source}{}\label{cLwoSurfaceBlockTMap_8cxx_source}\index{pandatool/src/lwoegg/cLwoSurfaceBlockTMap.cxx@{pandatool/src/lwoegg/cLwoSurfaceBlockTMap.cxx}}
\mbox{\hyperlink{cLwoSurfaceBlockTMap_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cLwoSurfaceBlockTMap_8h}{cLwoSurfaceBlockTMap.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoToEggConverter_8h}{lwoToEggConverter.h}}"{}}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoSurfaceBlockTransform_8h}{lwoSurfaceBlockTransform.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoSurfaceBlockRefObj_8h}{lwoSurfaceBlockRefObj.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{compose__matrix_8h}{compose\_matrix.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dcast_8h}{dcast.h}}"{}}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00025\ CLwoSurfaceBlockTMap::}
\DoxyCodeLine{00026\ CLwoSurfaceBlockTMap(\mbox{\hyperlink{classLwoToEggConverter}{LwoToEggConverter}}\ *converter,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classLwoSurfaceBlockTMap}{LwoSurfaceBlockTMap}}\ *tmap)\ :}
\DoxyCodeLine{00027\ \ \ \_converter(converter),}
\DoxyCodeLine{00028\ \ \ \_tmap(tmap)}
\DoxyCodeLine{00029\ \{}
\DoxyCodeLine{00030\ \ \ \_center.set(0.0,\ 0.0,\ 0.0);}
\DoxyCodeLine{00031\ \ \ \_size.set(1.0,\ 1.0,\ 1.0);}
\DoxyCodeLine{00032\ \ \ \_rotation.set(0.0,\ 0.0,\ 0.0);}
\DoxyCodeLine{00033\ \ \ \_csys\ =\ LwoSurfaceBlockCoordSys::T\_object;}
\DoxyCodeLine{00034\ \ \ \_reference\_object\ =\ \textcolor{stringliteral}{"{}(none)"{}};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \textcolor{comment}{//\ Scan\ the\ chunks\ in\ the\ body.}}
\DoxyCodeLine{00037\ \ \ \textcolor{keywordtype}{int}\ num\_chunks\ =\ \_tmap-\/>get\_num\_chunks();}
\DoxyCodeLine{00038\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_chunks;\ i++)\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classIffChunk}{IffChunk}}\ *chunk\ =\ \_tmap-\/>get\_chunk(i);}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordflow}{if}\ (chunk-\/>is\_of\_type(LwoSurfaceBlockTransform::get\_class\_type()))\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classLwoSurfaceBlockTransform}{LwoSurfaceBlockTransform}}\ *trans\ =\ DCAST(\mbox{\hyperlink{classLwoSurfaceBlockTransform}{LwoSurfaceBlockTransform}},\ chunk);}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (trans-\/>get\_id()\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}CNTR"{}}))\ \{}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \_center\ =\ trans-\/>\_vec;}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (trans-\/>get\_id()\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}SIZE"{}}))\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \_size\ =\ trans-\/>\_vec;}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (trans-\/>get\_id()\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}ROTA"{}}))\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \_rotation\ =\ trans-\/>\_vec;}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (chunk-\/>is\_of\_type(LwoSurfaceBlockRefObj::get\_class\_type()))\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classLwoSurfaceBlockRefObj}{LwoSurfaceBlockRefObj}}\ *ref\ =\ DCAST(\mbox{\hyperlink{classLwoSurfaceBlockRefObj}{LwoSurfaceBlockRefObj}},\ chunk);}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \_reference\_object\ =\ ref-\/>\_name;}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (chunk-\/>is\_of\_type(LwoSurfaceBlockCoordSys::get\_class\_type()))\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classLwoSurfaceBlockCoordSys}{LwoSurfaceBlockCoordSys}}\ *csys\ =\ DCAST(\mbox{\hyperlink{classLwoSurfaceBlockCoordSys}{LwoSurfaceBlockCoordSys}},\ chunk);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \_csys\ =\ csys-\/>\_type;}
\DoxyCodeLine{00058\ \ \ \ \}}
\DoxyCodeLine{00059\ \ \ \}}
\DoxyCodeLine{00060\ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00066\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCLwoSurfaceBlockTMap_ac4ae93d408beac00551bf74e88d7a67a}{CLwoSurfaceBlockTMap::}}}
\DoxyCodeLine{00067\ \mbox{\hyperlink{classCLwoSurfaceBlockTMap_ac4ae93d408beac00551bf74e88d7a67a}{get\_transform}}(LMatrix4d\ \&mat)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00068\ \ \ LPoint3d\ hpr(rad\_2\_deg(\_rotation[0]),}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rad\_2\_deg(-\/\_rotation[1]),}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rad\_2\_deg(-\/\_rotation[2]));}
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{compose__matrix__src_8cxx_aa46bdf9de1e1e04a5e2cdd7af6b39c64}{compose\_matrix}}(mat,\ LCAST(\textcolor{keywordtype}{double},\ \_size),\ hpr,}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LCAST(\textcolor{keywordtype}{double},\ \_center),\ CS\_yup\_left);}
\DoxyCodeLine{00073\ \}}

\end{DoxyCode}
