\doxysection{ode\+Space.\+cxx}
\hypertarget{odeSpace_8cxx_source}{}\label{odeSpace_8cxx_source}\index{panda/src/ode/odeSpace.cxx@{panda/src/ode/odeSpace.cxx}}
\mbox{\hyperlink{odeSpace_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__ode_8h}{config\_ode.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{odeSpace_8h}{odeSpace.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{odeGeom_8h}{odeGeom.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{odeCollisionEntry_8h}{odeCollisionEntry.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{odeSimpleSpace_8h}{odeSimpleSpace.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{odeQuadTreeSpace_8h}{odeQuadTreeSpace.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{odeHashSpace_8h}{odeHashSpace.h}}"{}}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{throw__event_8h}{throw\_event.h}}"{}}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ OdeSpace::\_type\_handle;}
\DoxyCodeLine{00025\ \textcolor{comment}{//\ this\ data\ is\ used\ in\ auto\_collide}}
\DoxyCodeLine{00026\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ OdeSpace::MAX\_CONTACTS\ =\ 16;}
\DoxyCodeLine{00027\ \mbox{\hyperlink{classOdeWorld}{OdeWorld}}*\ OdeSpace::\_static\_auto\_collide\_world;}
\DoxyCodeLine{00028\ \mbox{\hyperlink{classOdeSpace}{OdeSpace}}*\ OdeSpace::\_static\_auto\_collide\_space;}
\DoxyCodeLine{00029\ dJointGroupID\ OdeSpace::\_static\_auto\_collide\_joint\_group;}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ OdeSpace::}
\DoxyCodeLine{00032\ OdeSpace(dSpaceID\ \textcolor{keywordtype}{id})\ :}
\DoxyCodeLine{00033\ \ \ \_id(id)\ \{}
\DoxyCodeLine{00034\ \ \ \_auto\_collide\_world\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00035\ \ \ \_auto\_collide\_joint\_group\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ OdeSpace::}
\DoxyCodeLine{00039\ \string~OdeSpace()\ \{}
\DoxyCodeLine{00040\ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00043\ destroy()\ \{}
\DoxyCodeLine{00044\ \ \ nassertv(\_id);}
\DoxyCodeLine{00045\ \ \ dSpaceDestroy(\_id);}
\DoxyCodeLine{00046\ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{keywordtype}{int}\ OdeSpace::}
\DoxyCodeLine{00049\ query(\textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeGeom}{OdeGeom}}\&\ geom)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00050\ \ \ nassertr(\_id,\ 0);}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{return}\ dSpaceQuery(\_id,\ geom.get\_id());}
\DoxyCodeLine{00052\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{keywordtype}{int}\ OdeSpace::}
\DoxyCodeLine{00055\ query(\textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeSpace}{OdeSpace}}\&\ space)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00056\ \ \ nassertr(\_id,\ 0);}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{return}\ dSpaceQuery(\_id,\ (dGeomID)space.get\_id());}
\DoxyCodeLine{00058\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00061\ add(\mbox{\hyperlink{classOdeSpace}{OdeSpace}}\&\ space)\ \{}
\DoxyCodeLine{00062\ \ \ nassertv(\_id);}
\DoxyCodeLine{00063\ \ \ dSpaceAdd(\_id,\ (dGeomID)space.get\_id());}
\DoxyCodeLine{00064\ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00067\ remove(\mbox{\hyperlink{classOdeSpace}{OdeSpace}}\&\ space)\ \{}
\DoxyCodeLine{00068\ \ \ nassertv(\_id);}
\DoxyCodeLine{00069\ \ \ dSpaceRemove(\_id,\ (dGeomID)space.get\_id());}
\DoxyCodeLine{00070\ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00073\ add(\mbox{\hyperlink{classOdeGeom}{OdeGeom}}\&\ geom)\ \{}
\DoxyCodeLine{00074\ \ \ nassertv(\_id);}
\DoxyCodeLine{00075\ \ \ dSpaceAdd(\_id,\ geom.get\_id());}
\DoxyCodeLine{00076\ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00079\ remove(\mbox{\hyperlink{classOdeGeom}{OdeGeom}}\&\ geom)\ \{}
\DoxyCodeLine{00080\ \ \ nassertv(\_id);}
\DoxyCodeLine{00081\ \ \ dSpaceRemove(\_id,\ geom.get\_id());}
\DoxyCodeLine{00082\ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00085\ clean()\ \{}
\DoxyCodeLine{00086\ \ \ nassertv(\_id);}
\DoxyCodeLine{00087\ \ \ dSpaceClean(\_id);}
\DoxyCodeLine{00088\ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \mbox{\hyperlink{classOdeGeom}{OdeGeom}}\ \ OdeSpace::}
\DoxyCodeLine{00091\ get\_geom(\textcolor{keywordtype}{int}\ i)\ \{}
\DoxyCodeLine{00092\ \ \ nassertr(\_id,\ \mbox{\hyperlink{classOdeGeom}{OdeGeom}}(\textcolor{keyword}{nullptr}));}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classOdeGeom}{OdeGeom}}(dSpaceGetGeom(\_id,\ i));}
\DoxyCodeLine{00094\ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00098\ write(std::ostream\ \&out,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00099\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}});\ out\ <<\ \textcolor{stringliteral}{"{}"{}}\ <<\ get\_type()\ <<\ \textcolor{stringliteral}{"{}(id\ =\ "{}}\ <<\ \_id\ <<\ \textcolor{stringliteral}{"{})"{}};}
\DoxyCodeLine{00100\ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ OdeSpace::}
\DoxyCodeLine{00103\ operator\ bool\ ()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00104\ \ \ \textcolor{keywordflow}{return}\ (\_id\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00105\ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00108\ set\_auto\_collide\_world(\mbox{\hyperlink{classOdeWorld}{OdeWorld}}\ \&world)\ \{}
\DoxyCodeLine{00109\ \ \ \_auto\_collide\_world\ =\ \&world;}
\DoxyCodeLine{00110\ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00113\ set\_auto\_collide\_joint\_group(\mbox{\hyperlink{classOdeJointGroup}{OdeJointGroup}}\ \&joint\_group)\ \{}
\DoxyCodeLine{00114\ \ \ \_auto\_collide\_joint\_group\ =\ joint\_group.get\_id();}
\DoxyCodeLine{00115\ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00118\ auto\_collide()\ \{}
\DoxyCodeLine{00119\ \ \ \textcolor{keywordflow}{if}\ (\_auto\_collide\_world\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00120\ \ \ \ \ odespace\_cat.error()\ <<\ \textcolor{stringliteral}{"{}No\ collide\ world\ has\ been\ set!\(\backslash\)n"{}};}
\DoxyCodeLine{00121\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00122\ \ \ \ \ nassertv(\_id\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00123\ \ \ \ \ \_static\_auto\_collide\_space\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00124\ \ \ \ \ \_static\_auto\_collide\_world\ =\ \_auto\_collide\_world;}
\DoxyCodeLine{00125\ \ \ \ \ \_static\_auto\_collide\_joint\_group\ =\ \_auto\_collide\_joint\_group;}
\DoxyCodeLine{00126\ \ \ \ \ dSpaceCollide(\_id,\ \textcolor{keyword}{this},\ \&auto\_callback);}
\DoxyCodeLine{00127\ \ \ \}}
\DoxyCodeLine{00128\ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00131\ auto\_callback(\textcolor{keywordtype}{void}\ *data,\ dGeomID\ o1,\ dGeomID\ o2)\ \{}
\DoxyCodeLine{00132\ \textcolor{comment}{//\ uses\ data\ stored\ on\ the\ world\ to\ resolve\ collisions\ so\ you\ don't\ have\ to}}
\DoxyCodeLine{00133\ \textcolor{comment}{//\ use\ near\_callbacks\ in\ python}}
\DoxyCodeLine{00134\ \ \ \textcolor{keywordtype}{int}\ i;}
\DoxyCodeLine{00135\ \ \ dBodyID\ b1\ =\ dGeomGetBody(o1);}
\DoxyCodeLine{00136\ \ \ dBodyID\ b2\ =\ dGeomGetBody(o2);}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ dContact\ contact[OdeSpace::MAX\_CONTACTS];}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \textcolor{keywordtype}{int}\ surface1\ =\ \_static\_auto\_collide\_space-\/>get\_surface\_type(o1);}
\DoxyCodeLine{00141\ \ \ \textcolor{keywordtype}{int}\ surface2\ =\ \_static\_auto\_collide\_space-\/>get\_surface\_type(o2);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ nassertv(\_static\_auto\_collide\_world\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00144\ \ \ \mbox{\hyperlink{structsSurfaceParams}{sSurfaceParams}}\ collide\_params;}
\DoxyCodeLine{00145\ \ \ collide\_params\ =\ \_static\_auto\_collide\_world-\/>get\_surface(surface1,\ surface2);}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \textcolor{keywordflow}{for}\ (i=0;\ i\ <\ OdeSpace::MAX\_CONTACTS;\ i++)\ \{}
\DoxyCodeLine{00148\ \ \ \ \ contact[i].surface.mode\ =\ collide\_params.colparams.mode;}
\DoxyCodeLine{00149\ \ \ \ \ contact[i].surface.mu\ =\ collide\_params.colparams.mu;}
\DoxyCodeLine{00150\ \ \ \ \ contact[i].surface.mu2\ =\ collide\_params.colparams.mu2;}
\DoxyCodeLine{00151\ \ \ \ \ contact[i].surface.bounce\ =\ collide\_params.colparams.bounce;}
\DoxyCodeLine{00152\ \ \ \ \ contact[i].surface.bounce\_vel\ =\ collide\_params.colparams.bounce\_vel;}
\DoxyCodeLine{00153\ \ \ \ \ contact[i].surface.soft\_cfm\ =\ collide\_params.colparams.soft\_cfm;}
\DoxyCodeLine{00154\ \ \ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ numc\ =\ 0;}
\DoxyCodeLine{00157\ \ \ numc\ =\ dCollide(o1,\ o2,\ OdeSpace::MAX\_CONTACTS,\ \&contact[0].geom,\ \textcolor{keyword}{sizeof}(dContact));}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \textcolor{keywordflow}{if}\ (numc)\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{if}\ (odespace\_cat.is\_debug())\ \{}
\DoxyCodeLine{00161\ \ \ \ \ \ \ odespace\_cat.debug()\ <<\ \textcolor{stringliteral}{"{}collision\ between\ geoms\ "{}}\ <<\ o1\ <<\ \textcolor{stringliteral}{"{}\ and\ "{}}\ <<\ o2\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00162\ \ \ \ \ \ \ odespace\_cat.debug()\ <<\ \textcolor{stringliteral}{"{}collision\ between\ body\ "{}}\ <<\ b1\ <<\ \textcolor{stringliteral}{"{}\ and\ "{}}\ <<\ b2\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00163\ \ \ \ \ \ \ odespace\_cat.debug()\ <<\ \textcolor{stringliteral}{"{}surface1=\ "{}}<<\ surface1\ <<\ \textcolor{stringliteral}{"{}\ surface2="{}}\ <<\ surface2\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00164\ \ \ \ \ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ PT(\mbox{\hyperlink{classOdeCollisionEntry}{OdeCollisionEntry}})\ entry;}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_static\_auto\_collide\_space-\/>\_collision\_event.empty())\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ entry\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classOdeCollisionEntry}{OdeCollisionEntry}};}
\DoxyCodeLine{00169\ \ \ \ \ \ \ entry-\/>\_geom1\ =\ o1;}
\DoxyCodeLine{00170\ \ \ \ \ \ \ entry-\/>\_geom2\ =\ o2;}
\DoxyCodeLine{00171\ \ \ \ \ \ \ entry-\/>\_body1\ =\ b1;}
\DoxyCodeLine{00172\ \ \ \ \ \ \ entry-\/>\_body2\ =\ b2;}
\DoxyCodeLine{00173\ \ \ \ \ \ \ entry-\/>\_num\_contacts\ =\ numc;}
\DoxyCodeLine{00174\ \ \ \ \ \ \ entry-\/>\_contact\_geoms\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classOdeContactGeom}{OdeContactGeom}}[numc];}
\DoxyCodeLine{00175\ \ \ \ \ \}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{keywordflow}{for}(i=0;\ i\ <\ numc;\ i++)\ \{}
\DoxyCodeLine{00178\ \ \ \ \ \ \ dJointID\ c\ =\ dJointCreateContact(\_static\_auto\_collide\_world-\/>get\_id(),\ \_static\_auto\_collide\_joint\_group,\ contact\ +\ i);}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\_static\_auto\_collide\_space-\/>get\_collide\_id(o1)\ >=\ 0)\ \&\&\ (\_static\_auto\_collide\_space-\/>get\_collide\_id(o2)\ >=\ 0))\ \{}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ dJointAttach(c,\ b1,\ b2);}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_static\_auto\_collide\_space-\/>\_collision\_event.empty())\ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ entry-\/>\_contact\_geoms[i]\ =\ contact[i].geom;}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00185\ \ \ \ \ \}}
\DoxyCodeLine{00186\ \ \ \ \ \_static\_auto\_collide\_world-\/>set\_dampen\_on\_bodies(b1,\ b2,\ collide\_params.dampen);}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_static\_auto\_collide\_space-\/>\_collision\_event.empty())\ \{}
\DoxyCodeLine{00189\ \ \ \ \ \ \ throw\_event(\_static\_auto\_collide\_space-\/>\_collision\_event,\ \mbox{\hyperlink{classEventParameter}{EventParameter}}(entry));}
\DoxyCodeLine{00190\ \ \ \ \ \}}
\DoxyCodeLine{00191\ \ \ \}}
\DoxyCodeLine{00192\ \}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \mbox{\hyperlink{classOdeSimpleSpace}{OdeSimpleSpace}}\ OdeSpace::}
\DoxyCodeLine{00195\ convert\_to\_simple\_space()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00196\ \ \ nassertr(\_id\ !=\ \textcolor{keyword}{nullptr},\ \mbox{\hyperlink{classOdeSimpleSpace}{OdeSimpleSpace}}(\textcolor{keyword}{nullptr}));}
\DoxyCodeLine{00197\ \ \ nassertr(get\_class()\ ==\ OdeGeom::GC\_simple\_space,\ \mbox{\hyperlink{classOdeSimpleSpace}{OdeSimpleSpace}}(\textcolor{keyword}{nullptr}));}
\DoxyCodeLine{00198\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classOdeSimpleSpace}{OdeSimpleSpace}}(\_id);}
\DoxyCodeLine{00199\ \}}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \mbox{\hyperlink{classOdeHashSpace}{OdeHashSpace}}\ OdeSpace::}
\DoxyCodeLine{00202\ convert\_to\_hash\_space()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00203\ \ \ nassertr(\_id\ !=\ \textcolor{keyword}{nullptr},\ \mbox{\hyperlink{classOdeHashSpace}{OdeHashSpace}}(\textcolor{keyword}{nullptr}));}
\DoxyCodeLine{00204\ \ \ nassertr(get\_class()\ ==\ OdeGeom::GC\_hash\_space,\ \mbox{\hyperlink{classOdeHashSpace}{OdeHashSpace}}(\textcolor{keyword}{nullptr}));}
\DoxyCodeLine{00205\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classOdeHashSpace}{OdeHashSpace}}(\_id);}
\DoxyCodeLine{00206\ \}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \mbox{\hyperlink{classOdeQuadTreeSpace}{OdeQuadTreeSpace}}\ OdeSpace::}
\DoxyCodeLine{00209\ convert\_to\_quad\_tree\_space()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00210\ \ \ nassertr(\_id\ !=\ \textcolor{keyword}{nullptr},\ \mbox{\hyperlink{classOdeQuadTreeSpace}{OdeQuadTreeSpace}}(\textcolor{keyword}{nullptr}));}
\DoxyCodeLine{00211\ \ \ nassertr(get\_class()\ ==\ OdeGeom::GC\_quad\_tree\_space,\ \mbox{\hyperlink{classOdeQuadTreeSpace}{OdeQuadTreeSpace}}(\textcolor{keyword}{nullptr}));}
\DoxyCodeLine{00212\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classOdeQuadTreeSpace}{OdeQuadTreeSpace}}(\_id);}
\DoxyCodeLine{00213\ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00217\ set\_surface\_type(\ \textcolor{keywordtype}{int}\ surfaceType,\ dGeomID\ \textcolor{keywordtype}{id})\{}
\DoxyCodeLine{00218\ \ \ \_geom\_surface\_map[id]=\ surfaceType;}
\DoxyCodeLine{00219\ \}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \textcolor{keywordtype}{void}\ OdeSpace::}
\DoxyCodeLine{00222\ set\_surface\_type(\mbox{\hyperlink{classOdeGeom}{OdeGeom}}\&\ geom,\ \ \textcolor{keywordtype}{int}\ surfaceType)\{}
\DoxyCodeLine{00223\ \ \ dGeomID\ \textcolor{keywordtype}{id}\ =\ geom.get\_id();}
\DoxyCodeLine{00224\ \ \ set\_surface\_type(surfaceType,\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00225\ \}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \textcolor{keywordtype}{int}\ OdeSpace::}
\DoxyCodeLine{00228\ get\_surface\_type(dGeomID\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00229\ \ \ GeomSurfaceMap::iterator\ iter\ =\ \_geom\_surface\_map.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00230\ \ \ \textcolor{keywordflow}{if}\ (iter\ !=\ \_geom\_surface\_map.end())\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keywordflow}{return}\ iter-\/>second;}
\DoxyCodeLine{00232\ \ \ \}}
\DoxyCodeLine{00233\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00234\ \}}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \textcolor{keywordtype}{int}\ OdeSpace::}
\DoxyCodeLine{00237\ get\_surface\_type(\mbox{\hyperlink{classOdeGeom}{OdeGeom}}\&\ geom)\ \{}
\DoxyCodeLine{00238\ \ \ dGeomID\ \textcolor{keywordtype}{id}\ =\ geom.get\_id();}
\DoxyCodeLine{00239\ \ \ \textcolor{keywordflow}{return}\ get\_surface\_type(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00240\ \}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \textcolor{keywordtype}{int}\ OdeSpace::}
\DoxyCodeLine{00244\ set\_collide\_id(\ \textcolor{keywordtype}{int}\ collide\_id,\ dGeomID\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00245\ \ \ \_geom\_collide\_id\_map[id]=\ collide\_id;}
\DoxyCodeLine{00246\ \ \ \textcolor{keywordflow}{return}\ \_geom\_collide\_id\_map[id];}
\DoxyCodeLine{00247\ \}}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \textcolor{keywordtype}{int}\ OdeSpace::}
\DoxyCodeLine{00250\ set\_collide\_id(\ \mbox{\hyperlink{classOdeGeom}{OdeGeom}}\&\ geom,\ \textcolor{keywordtype}{int}\ collide\_id)\ \{}
\DoxyCodeLine{00251\ \ \ dGeomID\ \textcolor{keywordtype}{id}\ =\ geom.get\_id();}
\DoxyCodeLine{00252\ \ \ \textcolor{keywordflow}{return}\ set\_collide\_id(collide\_id,\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00253\ \}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \textcolor{keywordtype}{int}\ OdeSpace::}
\DoxyCodeLine{00256\ get\_collide\_id(\mbox{\hyperlink{classOdeGeom}{OdeGeom}}\&\ geom)\ \{}
\DoxyCodeLine{00257\ \ \ dGeomID\ \textcolor{keywordtype}{id}\ =\ geom.get\_id();}
\DoxyCodeLine{00258\ \ \ \textcolor{keywordflow}{return}\ get\_collide\_id(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00259\ \}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \textcolor{keywordtype}{int}\ OdeSpace::}
\DoxyCodeLine{00263\ get\_collide\_id(dGeomID\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00264\ \ \ GeomCollideIdMap::iterator\ iter\ =\ \_geom\_collide\_id\_map.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00265\ \ \ \textcolor{keywordflow}{if}\ (iter\ !=\ \_geom\_collide\_id\_map.end())\ \{}
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{keywordflow}{return}\ iter-\/>second;}
\DoxyCodeLine{00267\ \ \ \}}
\DoxyCodeLine{00268\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00269\ \}}

\end{DoxyCode}
