\doxysection{config\+\_\+pstatclient.\+cxx}
\hypertarget{config__pstatclient_8cxx_source}{}\label{config__pstatclient_8cxx_source}\index{panda/src/pstatclient/config\_pstatclient.cxx@{panda/src/pstatclient/config\_pstatclient.cxx}}
\mbox{\hyperlink{config__pstatclient_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__pstatclient_8h}{config\_pstatclient.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pStatTimer_8h}{pStatTimer.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dconfig_8h}{dconfig.h}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#if\ !defined(CPPPARSER)\ \&\&\ !defined(LINK\_ALL\_STATIC)\ \&\&\ !defined(BUILDING\_PANDA\_PSTATCLIENT)}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\ \ \#error\ Buildsystem\ error:\ BUILDING\_PANDA\_PSTATCLIENT\ not\ defined}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ ConfigureDef(config\_pstatclient);}
\DoxyCodeLine{00023\ NotifyCategoryDef(pstats,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ ConfigureFn(config\_pstatclient)\ \{}
\DoxyCodeLine{00026\ \ \ \mbox{\hyperlink{config__pstatclient_8cxx_a5fcc61cbf0e36db20458c627f136d86c}{init\_libpstatclient}}();}
\DoxyCodeLine{00027\ \}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \mbox{\hyperlink{classConfigVariableString}{ConfigVariableString}}\ pstats\_name}
\DoxyCodeLine{00030\ (\textcolor{stringliteral}{"{}pstats-\/name"{}},\ \textcolor{stringliteral}{"{}Panda\ Stats"{}});}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \mbox{\hyperlink{classConfigVariableDouble}{ConfigVariableDouble}}\ pstats\_max\_rate}
\DoxyCodeLine{00033\ (\textcolor{stringliteral}{"{}pstats-\/max-\/rate"{}},\ 1000.0,}
\DoxyCodeLine{00034\ \ PRC\_DESC(\textcolor{stringliteral}{"{}The\ maximum\ number\ of\ packets\ per\ second,\ per\ thread,\ to\ send\ "{}}}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}to\ the\ remote\ PStats\ server.\ \ A\ packet\ is\ defined\ as\ a\ single\ "{}}}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UDP\ packet,\ or\ each\ 1024\ bytes\ of\ a\ TCP\ message.\ \ Set\ this\ to\ a\ "{}}}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}negative\ number\ to\ disable\ the\ limit."{}}));}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ pstats\_threaded\_write}
\DoxyCodeLine{00040\ (\textcolor{stringliteral}{"{}pstats-\/threaded-\/write"{}},\ \textcolor{keyword}{true},}
\DoxyCodeLine{00041\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ true\ to\ write\ to\ the\ PStats\ channel\ in\ a\ sub-\/thread,\ if\ "{}}}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}threading\ is\ available.\ \ Can't\ think\ of\ any\ reason\ why\ you\ "{}}}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}wouldn't\ want\ this\ set\ true,\ unless\ you\ suspect\ something\ is\ "{}}}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}broken\ with\ the\ threaded\ network\ interfaces."{}}));}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \mbox{\hyperlink{classConfigVariableInt}{ConfigVariableInt}}\ pstats\_max\_queue\_size}
\DoxyCodeLine{00047\ (\textcolor{stringliteral}{"{}pstats-\/max-\/queue-\/size"{}},\ 32,}
\DoxyCodeLine{00048\ \ PRC\_DESC(\textcolor{stringliteral}{"{}If\ pstats-\/threaded-\/write\ is\ true,\ this\ specifies\ the\ maximum\ "{}}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}number\ of\ packets\ (generally,\ frames\ of\ data)\ that\ may\ be\ queued\ "{}}}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}up\ for\ the\ thread\ to\ process.\ \ If\ this\ is\ large,\ the\ writer\ "{}}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}thread\ may\ fall\ behind\ and\ the\ output\ of\ PStats\ will\ lag.\ \ Keep\ "{}}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}this\ small\ to\ drop\ missed\ packets\ on\ the\ floor\ instead,\ and\ "{}}}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}ensure\ that\ the\ frame\ data\ does\ not\ grow\ stale."{}}));}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \mbox{\hyperlink{classConfigVariableDouble}{ConfigVariableDouble}}\ pstats\_tcp\_ratio}
\DoxyCodeLine{00056\ (\textcolor{stringliteral}{"{}pstats-\/tcp-\/ratio"{}},\ 0.01,}
\DoxyCodeLine{00057\ \ PRC\_DESC(\textcolor{stringliteral}{"{}This\ specifies\ the\ ratio\ of\ frame\ update\ messages\ that\ are\ eligible\ "{}}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}for\ UDP\ that\ are\ sent\ via\ TCP\ instead.\ \ It\ does\ not\ count\ messages\ "{}}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}that\ are\ too\ large\ for\ UDP\ and\ must\ be\ sent\ via\ TCP\ anyway.\ \ 1.0\ "{}}}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}means\ all\ messages\ are\ sent\ TCP;\ 0.0\ means\ all\ are\ sent\ UDP."{}}));}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \mbox{\hyperlink{classConfigVariableString}{ConfigVariableString}}\ pstats\_host}
\DoxyCodeLine{00063\ (\textcolor{stringliteral}{"{}pstats-\/host"{}},\ \textcolor{stringliteral}{"{}localhost"{}});}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{comment}{//\ The\ default\ port\ for\ PStats\ used\ to\ be\ 5180,\ but\ that's\ used\ by\ AIM.}}
\DoxyCodeLine{00066\ \mbox{\hyperlink{classConfigVariableInt}{ConfigVariableInt}}\ pstats\_port}
\DoxyCodeLine{00067\ (\textcolor{stringliteral}{"{}pstats-\/port"{}},\ 5185);}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \mbox{\hyperlink{classConfigVariableDouble}{ConfigVariableDouble}}\ pstats\_target\_frame\_rate}
\DoxyCodeLine{00070\ (\textcolor{stringliteral}{"{}pstats-\/target-\/frame-\/rate"{}},\ 30.0,}
\DoxyCodeLine{00071\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Specify\ the\ target\ frame\ rate\ to\ highlight\ on\ the\ PStats\ graph.\ \ "{}}}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ frame\ rate\ is\ marked\ with\ a\ different-\/colored\ line;\ "{}}}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}otherwise,\ this\ setting\ has\ no\ effect."{}}));}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ pstats\_gpu\_timing}
\DoxyCodeLine{00076\ (\textcolor{stringliteral}{"{}pstats-\/gpu-\/timing"{}},\ \textcolor{keyword}{false},}
\DoxyCodeLine{00077\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ true\ to\ query\ the\ graphics\ library\ for\ the\ actual\ time\ "{}}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}that\ graphics\ operations\ take\ to\ execute\ on\ the\ video\ card.\ \ "{}}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Enabling\ this\ will\ harm\ performance,\ but\ this\ information\ can\ "{}}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}be\ more\ useful\ than\ the\ regular\ Draw\ information\ in\ tracking\ "{}}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}down\ bottlenecks,\ because\ the\ CPU-\/based\ Draw\ collectors\ only\ "{}}}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}measure\ how\ long\ it\ takes\ for\ the\ API\ call\ to\ complete,\ which\ "{}}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}is\ not\ usually\ an\ accurate\ reflectino\ of\ how\ long\ the\ actual\ "{}}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}operation\ takes\ on\ the\ video\ card."{}}));}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ pstats\_thread\_profiling}
\DoxyCodeLine{00087\ (\textcolor{stringliteral}{"{}pstats-\/thread-\/profiling"{}},\ \textcolor{keyword}{false},}
\DoxyCodeLine{00088\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ true\ to\ query\ the\ system\ for\ thread\ statistics,\ such\ as\ "{}}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}the\ number\ of\ context\ switches\ and\ time\ spent\ waiting."{}}));}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ pstats\_python\_profiler}
\DoxyCodeLine{00092\ (\textcolor{stringliteral}{"{}pstats-\/python-\/profiler"{}},\ \textcolor{keyword}{false},}
\DoxyCodeLine{00093\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ true\ to\ integrate\ with\ the\ Python\ profiler\ to\ show\ "{}}}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}detailed\ information\ about\ individual\ Python\ functions\ in\ "{}}}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}PStats,\ similar\ to\ the\ information\ offered\ by\ Python's\ built-\/in\ "{}}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}profiler.\ \ This\ can\ be\ really\ useful\ to\ find\ bottlenecks\ in\ a\ "{}}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Python\ program,\ but\ enabling\ this\ will\ slow\ down\ the\ application\ "{}}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}somewhat,\ and\ requires\ a\ recent\ version\ of\ the\ PStats\ server,\ so\ "{}}}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}it\ is\ not\ enabled\ by\ default."{}}));}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \textcolor{comment}{//\ The\ rest\ are\ different\ in\ that\ they\ directly\ control\ the\ server,\ not\ the}}
\DoxyCodeLine{00102\ \textcolor{comment}{//\ client.}}
\DoxyCodeLine{00103\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ pstats\_scroll\_mode}
\DoxyCodeLine{00104\ (\textcolor{stringliteral}{"{}pstats-\/scroll-\/mode"{}},\ \textcolor{keyword}{true});}
\DoxyCodeLine{00105\ \mbox{\hyperlink{classConfigVariableDouble}{ConfigVariableDouble}}\ pstats\_history}
\DoxyCodeLine{00106\ (\textcolor{stringliteral}{"{}pstats-\/history"{}},\ 60.0);}
\DoxyCodeLine{00107\ \mbox{\hyperlink{classConfigVariableDouble}{ConfigVariableDouble}}\ pstats\_average\_time}
\DoxyCodeLine{00108\ (\textcolor{stringliteral}{"{}pstats-\/average-\/time"{}},\ 3.0);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ pstats\_mem\_other}
\DoxyCodeLine{00111\ (\textcolor{stringliteral}{"{}pstats-\/mem-\/other"{}},\ \textcolor{keyword}{true},}
\DoxyCodeLine{00112\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ true\ to\ collect\ memory\ categories\ smaller\ than\ 0.1\%\ of\ "{}}}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}the\ total\ into\ a\ single\ \(\backslash\)"{}Other\(\backslash\)"{}\ category,\ or\ false\ to\ show\ "{}}}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}each\ nonzero\ memory\ category."{}}));}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00122\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00123\ \mbox{\hyperlink{config__pstatclient_8cxx_a5fcc61cbf0e36db20458c627f136d86c}{init\_libpstatclient}}()\ \{}
\DoxyCodeLine{00124\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ initialized\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00125\ \ \ \textcolor{keywordflow}{if}\ (initialized)\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00127\ \ \ \}}
\DoxyCodeLine{00128\ \ \ initialized\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00129\ \}}

\end{DoxyCode}
