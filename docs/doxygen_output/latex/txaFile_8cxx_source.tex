\doxysection{txa\+File.\+cxx}
\hypertarget{txaFile_8cxx_source}{}\label{txaFile_8cxx_source}\index{pandatool/src/palettizer/txaFile.cxx@{pandatool/src/palettizer/txaFile.cxx}}
\mbox{\hyperlink{txaFile_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{txaFile_8h}{txaFile.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pal__string__utils_8h}{pal\_string\_utils.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{palettizer_8h}{palettizer.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{paletteGroup_8h}{paletteGroup.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{textureImage_8h}{textureImage.h}}"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pnotify_8h}{pnotify.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pnmFileTypeRegistry_8h}{pnmFileTypeRegistry.h}}"{}}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00028\ TxaFile::}
\DoxyCodeLine{00029\ TxaFile()\ \{}
\DoxyCodeLine{00030\ \}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00036\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classTxaFile_a596fb5563cfeedada687f403d0c82196}{TxaFile::}}}
\DoxyCodeLine{00037\ \mbox{\hyperlink{classTxaFile_a596fb5563cfeedada687f403d0c82196}{read}}(std::istream\ \&in,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&filename)\ \{}
\DoxyCodeLine{00038\ \ \ \textcolor{keywordtype}{string}\ line;}
\DoxyCodeLine{00039\ \ \ \textcolor{keywordtype}{int}\ line\_number\ =\ 1;}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \textcolor{keywordtype}{int}\ ch\ =\ get\_line\_or\_semicolon(in,\ line);}
\DoxyCodeLine{00042\ \ \ \textcolor{keywordflow}{while}\ (ch\ !=\ EOF\ ||\ !line.empty())\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{bool}\ okflag\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{comment}{//\ Strip\ off\ the\ comment.}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ hash\ =\ line.find(\textcolor{charliteral}{'\#'});}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordflow}{if}\ (hash\ !=\ string::npos)\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ line\ =\ line.substr(0,\ hash);}
\DoxyCodeLine{00049\ \ \ \ \ \}}
\DoxyCodeLine{00050\ \ \ \ \ line\ =\ \mbox{\hyperlink{string__utils_8cxx_a13c0be63a3c901af4f76d3c7a417859c}{trim\_left}}(line);}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{if}\ (line.empty())\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \textcolor{comment}{//\ Empty\ lines\ are\ ignored.}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (line[0]\ ==\ \textcolor{charliteral}{':'})\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \textcolor{comment}{//\ This\ is\ a\ keyword\ line.}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ vector\_string\ words;}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \mbox{\hyperlink{string__utils_8cxx_a67cbdf41c41ef284b3d1579cefca761f}{extract\_words}}(line,\ words);}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:group"{}})\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_group\_line(words);}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:palette"{}})\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_palette\_line(words);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:margin"{}})\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_margin\_line(words);}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:background"{}})\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_background\_line(words);}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:coverage"{}})\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_coverage\_line(words);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:powertwo"{}})\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_powertwo\_line(words);}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:imagetype"{}})\ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_imagetype\_line(words);}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:shadowtype"{}})\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_shadowtype\_line(words);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:round"{}})\ \{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_round\_line(words);}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:remap"{}})\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_remap\_line(words);}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:cutout"{}})\ \{}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_cutout\_line(words);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (words[0]\ ==\ \textcolor{stringliteral}{"{}:textureswap"{}})\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ okflag\ =\ parse\_textureswap\_line(words);}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ keyword\ "{}}\ <<\ words[0]\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ okflag\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \_lines.push\_back(\mbox{\hyperlink{classTxaLine}{TxaLine}}());}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \mbox{\hyperlink{classTxaLine}{TxaLine}}\ \&txa\_line\ =\ \_lines.back();}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \ \ okflag\ =\ txa\_line.\mbox{\hyperlink{classTxaLine_af9516ecc1a4fe4d29bd89299c464b851}{parse}}(line);}
\DoxyCodeLine{00104\ \ \ \ \ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{if}\ (!okflag)\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Error\ on\ line\ "{}}\ <<\ line\_number\ <<\ \textcolor{stringliteral}{"{}\ of\ "{}}\ <<\ filename\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00109\ \ \ \ \ \}}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordflow}{if}\ (ch\ ==\ \textcolor{charliteral}{'\(\backslash\)n'})\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ line\_number++;}
\DoxyCodeLine{00112\ \ \ \ \ \}}
\DoxyCodeLine{00113\ \ \ \ \ ch\ =\ get\_line\_or\_semicolon(in,\ line);}
\DoxyCodeLine{00114\ \ \ \}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \textcolor{keywordflow}{if}\ (!in.eof())\ \{}
\DoxyCodeLine{00117\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}I/O\ error\ reading\ "{}}\ <<\ filename\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00119\ \ \ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00122\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00130\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classTxaFile_a87a46d0d23fe149e5f2805662bdd0a92}{TxaFile::}}}
\DoxyCodeLine{00131\ \mbox{\hyperlink{classTxaFile_a87a46d0d23fe149e5f2805662bdd0a92}{match\_egg}}(\mbox{\hyperlink{classEggFile}{EggFile}}\ *egg\_file)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00132\ \ \ Lines::const\_iterator\ li;}
\DoxyCodeLine{00133\ \ \ \textcolor{keywordflow}{for}\ (li\ =\ \_lines.begin();\ li\ !=\ \_lines.end();\ ++li)\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{if}\ ((*li).match\_egg(egg\_file))\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00136\ \ \ \ \ \}}
\DoxyCodeLine{00137\ \ \ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00140\ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00148\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classTxaFile_a86b0fe5432ce85ee2ce9f3809115dced}{TxaFile::}}}
\DoxyCodeLine{00149\ \mbox{\hyperlink{classTxaFile_a86b0fe5432ce85ee2ce9f3809115dced}{match\_texture}}(\mbox{\hyperlink{classTextureImage}{TextureImage}}\ *texture)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00150\ \ \ Lines::const\_iterator\ li;}
\DoxyCodeLine{00151\ \ \ \textcolor{keywordflow}{for}\ (li\ =\ \_lines.begin();\ li\ !=\ \_lines.end();\ ++li)\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keywordflow}{if}\ ((*li).match\_texture(texture))\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00154\ \ \ \ \ \}}
\DoxyCodeLine{00155\ \ \ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00158\ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00164\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTxaFile_a967f7b4f8568d4a8c89b29c8d103f126}{TxaFile::}}}
\DoxyCodeLine{00165\ \mbox{\hyperlink{classTxaFile_a967f7b4f8568d4a8c89b29c8d103f126}{write}}(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00166\ \ \ Lines::const\_iterator\ li;}
\DoxyCodeLine{00167\ \ \ \textcolor{keywordflow}{for}\ (li\ =\ \_lines.begin();\ li\ !=\ \_lines.end();\ ++li)\ \{}
\DoxyCodeLine{00168\ \ \ \ \ out\ <<\ (*li)\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00169\ \ \ \}}
\DoxyCodeLine{00170\ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00177\ \textcolor{keywordtype}{int}\ TxaFile::}
\DoxyCodeLine{00178\ get\_line\_or\_semicolon(std::istream\ \&in,\ \textcolor{keywordtype}{string}\ \&line)\ \{}
\DoxyCodeLine{00179\ \ \ line\ =\ string();}
\DoxyCodeLine{00180\ \ \ \textcolor{keywordtype}{int}\ ch\ =\ in.get();}
\DoxyCodeLine{00181\ \ \ \textcolor{keywordtype}{char}\ semicolon\ =\ \textcolor{charliteral}{';'};}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \textcolor{keywordflow}{while}\ (ch\ !=\ EOF\ \&\&\ ch\ !=\ \textcolor{charliteral}{'\(\backslash\)n'}\ \&\&\ ch\ !=\ semicolon)\ \{}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordflow}{if}\ (ch\ ==\ \textcolor{charliteral}{'\#'})\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \textcolor{comment}{//\ We\ don't\ consider\ a\ semicolon\ within\ a\ comment\ to\ be\ a\ line\ break.}}
\DoxyCodeLine{00186\ \ \ \ \ \ \ semicolon\ =\ EOF;}
\DoxyCodeLine{00187\ \ \ \ \ \}}
\DoxyCodeLine{00188\ \ \ \ \ line\ +=\ ch;}
\DoxyCodeLine{00189\ \ \ \ \ ch\ =\ in.get();}
\DoxyCodeLine{00190\ \ \ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \textcolor{keywordflow}{return}\ ch;}
\DoxyCodeLine{00193\ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00199\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00200\ parse\_group\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00201\ \ \ vector\_string::const\_iterator\ wi;}
\DoxyCodeLine{00202\ \ \ wi\ =\ words.begin();}
\DoxyCodeLine{00203\ \ \ assert\ (wi\ !=\ words.end());}
\DoxyCodeLine{00204\ \ \ ++wi;}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&group\_name\ =\ (*wi);}
\DoxyCodeLine{00207\ \ \ \mbox{\hyperlink{classPaletteGroup}{PaletteGroup}}\ *group\ =\ pal-\/>\mbox{\hyperlink{classPalettizer_a8adb9fd4bc3d7065a98827da85b2f992}{get\_palette\_group}}(group\_name);}
\DoxyCodeLine{00208\ \ \ ++wi;}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \textcolor{keyword}{enum}\ State\ \{}
\DoxyCodeLine{00211\ \ \ \ \ S\_none,}
\DoxyCodeLine{00212\ \ \ \ \ S\_on,}
\DoxyCodeLine{00213\ \ \ \ \ S\_includes,}
\DoxyCodeLine{00214\ \ \ \ \ S\_dir,}
\DoxyCodeLine{00215\ \ \ \ \ S\_margin,}
\DoxyCodeLine{00216\ \ \ \};}
\DoxyCodeLine{00217\ \ \ State\ state\ =\ S\_none;}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \textcolor{keywordtype}{bool}\ first\_on\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \textcolor{keywordflow}{while}\ (wi\ !=\ words.end())\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&word\ =\ (*wi);}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keywordflow}{if}\ (word\ ==\ \textcolor{stringliteral}{"{}with"{}})\ \{}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \textcolor{comment}{//\ Deprecated\ keyword:\ "{}with"{}\ means\ the\ same\ thing\ as\ "{}on"{}.}}
\DoxyCodeLine{00225\ \ \ \ \ \ \ state\ =\ S\_on;}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (word\ ==\ \textcolor{stringliteral}{"{}on"{}})\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ state\ =\ S\_on;}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (word\ ==\ \textcolor{stringliteral}{"{}includes"{}})\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ state\ =\ S\_includes;}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (word\ ==\ \textcolor{stringliteral}{"{}dir"{}})\ \{}
\DoxyCodeLine{00234\ \ \ \ \ \ \ state\ =\ S\_dir;}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (word\ ==\ \textcolor{stringliteral}{"{}margin"{}})\ \{}
\DoxyCodeLine{00237\ \ \ \ \ \ \ state\ =\ S\_margin;}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (state)\ \{}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ S\_none:}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ keyword:\ "{}}\ <<\ word\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ S\_on:}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classPaletteGroup}{PaletteGroup}}\ *on\_group\ =\ pal-\/>\mbox{\hyperlink{classPalettizer_a8adb9fd4bc3d7065a98827da85b2f992}{get\_palette\_group}}(word);}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (first\_on)\ \{}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!group-\/>has\_dirname()\ \&\&\ on\_group-\/>\mbox{\hyperlink{classPaletteGroup_a100db1d83a121f87dd4fb96bcfa4bbcd}{has\_dirname}}())\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ group-\/>\mbox{\hyperlink{classPaletteGroup_a32736741f151211df121a6f759c340d6}{set\_dirname}}(on\_group-\/>\mbox{\hyperlink{classPaletteGroup_ad8ab7c68017f1f70d08319f76146ef9d}{get\_dirname}}());}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ first\_on\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ group-\/>group\_with(on\_group);}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ S\_includes:}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ pal-\/>\mbox{\hyperlink{classPalettizer_a8adb9fd4bc3d7065a98827da85b2f992}{get\_palette\_group}}(word)-\/>\mbox{\hyperlink{classPaletteGroup_a504fcff6a262970e542248c56d98fe78}{group\_with}}(group);}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ S\_dir:}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ group-\/>set\_dirname(word);}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ state\ =\ S\_none;}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ S\_margin:}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ margin\_override;}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{string__utils_8cxx_afb42bc2cbaf54ce7ba1030e0ef7d77b4}{string\_to\_int}}(word,\ margin\_override))\ \{}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ group-\/>set\_margin\_override(margin\_override);}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ state\ =\ S\_none;}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00276\ \ \ \ \ \}}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ \ \ \ \ ++wi;}
\DoxyCodeLine{00279\ \ \ \}}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00282\ \}}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00288\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00289\ parse\_palette\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00290\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ !=\ 3)\ \{}
\DoxyCodeLine{00291\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Exactly\ two\ parameters\ required\ for\ :palette,\ the\ x\ and\ y\ "{}}}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}size\ of\ the\ palette\ images\ to\ generate.\(\backslash\)n"{}};}
\DoxyCodeLine{00293\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00294\ \ \ \}}
\DoxyCodeLine{00295\ }
\DoxyCodeLine{00296\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{string__utils_8cxx_afb42bc2cbaf54ce7ba1030e0ef7d77b4}{string\_to\_int}}(words[1],\ pal-\/>\_pal\_x\_size)\ ||}
\DoxyCodeLine{00297\ \ \ \ \ \ \ !\mbox{\hyperlink{string__utils_8cxx_afb42bc2cbaf54ce7ba1030e0ef7d77b4}{string\_to\_int}}(words[2],\ pal-\/>\_pal\_y\_size))\ \{}
\DoxyCodeLine{00298\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ palette\ size:\ "{}}\ <<\ words[1]\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ words[2]\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00300\ \ \ \}}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ \textcolor{keywordflow}{if}\ (pal-\/>\_pal\_x\_size\ <=\ 0\ ||\ pal-\/>\_pal\_y\_size\ <=\ 0)\ \{}
\DoxyCodeLine{00303\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ palette\ size:\ "{}}\ <<\ pal-\/>\_pal\_x\_size}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ pal-\/>\_pal\_y\_size\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00305\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00306\ \ \ \}}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00309\ \}}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00315\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00316\ parse\_margin\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00317\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ !=\ 2)\ \{}
\DoxyCodeLine{00318\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Exactly\ one\ parameter\ required\ for\ :margin,\ the\ "{}}}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}size\ of\ the\ default\ margin\ to\ apply.\(\backslash\)n"{}};}
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00321\ \ \ \}}
\DoxyCodeLine{00322\ }
\DoxyCodeLine{00323\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{string__utils_8cxx_afb42bc2cbaf54ce7ba1030e0ef7d77b4}{string\_to\_int}}(words[1],\ pal-\/>\_margin))\ \{}
\DoxyCodeLine{00324\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ margin:\ "{}}\ <<\ words[1]\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00326\ \ \ \}}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \textcolor{keywordflow}{if}\ (pal-\/>\_margin\ <\ 0)\ \{}
\DoxyCodeLine{00329\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ margin:\ "{}}\ <<\ pal-\/>\_margin\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00331\ \ \ \}}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00334\ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00340\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00341\ parse\_background\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00342\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ !=\ 5)\ \{}
\DoxyCodeLine{00343\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Exactly\ four\ parameter\ required\ for\ :background:\ the\ "{}}}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}four\ [r\ g\ b\ a]\ components\ of\ the\ background\ color.\(\backslash\)n"{}};}
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00346\ \ \ \}}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{string__utils_8cxx_aea98a3a722151a1f58fc6aaf50f14556}{string\_to\_double}}(words[1],\ pal-\/>\_background[0])\ ||}
\DoxyCodeLine{00349\ \ \ \ \ \ \ !\mbox{\hyperlink{string__utils_8cxx_aea98a3a722151a1f58fc6aaf50f14556}{string\_to\_double}}(words[2],\ pal-\/>\_background[1])\ ||}
\DoxyCodeLine{00350\ \ \ \ \ \ \ !\mbox{\hyperlink{string__utils_8cxx_aea98a3a722151a1f58fc6aaf50f14556}{string\_to\_double}}(words[3],\ pal-\/>\_background[2])\ ||}
\DoxyCodeLine{00351\ \ \ \ \ \ \ !\mbox{\hyperlink{string__utils_8cxx_aea98a3a722151a1f58fc6aaf50f14556}{string\_to\_double}}(words[4],\ pal-\/>\_background[3]))\ \{}
\DoxyCodeLine{00352\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ color:\ "{}}}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ <<\ words[1]\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ words[2]\ <<\ \textcolor{stringliteral}{"{}\ "{}}}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ <<\ words[3]\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ words[4]\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00356\ \ \ \}}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00358\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00359\ \}}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00365\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00366\ parse\_coverage\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00367\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ !=\ 2)\ \{}
\DoxyCodeLine{00368\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Exactly\ one\ parameter\ required\ for\ :coverage,\ the\ "{}}}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}value\ for\ the\ default\ coverage\ threshold.\(\backslash\)n"{}};}
\DoxyCodeLine{00370\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00371\ \ \ \}}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{string__utils_8cxx_aea98a3a722151a1f58fc6aaf50f14556}{string\_to\_double}}(words[1],\ pal-\/>\_coverage\_threshold))\ \{}
\DoxyCodeLine{00375\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ coverage\ threshold:\ "{}}\ <<\ words[1]\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00377\ \ \ \}}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \ \ \textcolor{keywordflow}{if}\ (pal-\/>\_coverage\_threshold\ <=\ 0.0)\ \{}
\DoxyCodeLine{00380\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ coverage\ threshold:\ "{}}\ <<\ pal-\/>\_coverage\_threshold\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00382\ \ \ \}}
\DoxyCodeLine{00383\ }
\DoxyCodeLine{00384\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00385\ \}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00392\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00393\ parse\_powertwo\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00394\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ !=\ 2)\ \{}
\DoxyCodeLine{00395\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Exactly\ one\ parameter\ required\ for\ :powertwo,\ either\ a\ 0\ "{}}}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}or\ a\ 1.\(\backslash\)n"{}};}
\DoxyCodeLine{00397\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00398\ \ \ \}}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ \ \ \textcolor{keywordtype}{int}\ flag;}
\DoxyCodeLine{00401\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{string__utils_8cxx_afb42bc2cbaf54ce7ba1030e0ef7d77b4}{string\_to\_int}}(words[1],\ flag))\ \{}
\DoxyCodeLine{00402\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ powertwo\ flag:\ "{}}\ <<\ words[1]\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00404\ \ \ \}}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \textcolor{keywordflow}{if}\ (flag\ !=\ 0\ \&\&\ flag\ !=\ 1)\ \{}
\DoxyCodeLine{00407\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ powertwo\ flag:\ "{}}\ <<\ flag\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00409\ \ \ \}}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \ \ pal-\/>\_force\_power\_2\ =\ (flag\ !=\ 0);}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00414\ \}}
\DoxyCodeLine{00415\ }
\DoxyCodeLine{00421\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00422\ parse\_imagetype\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00423\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ !=\ 2)\ \{}
\DoxyCodeLine{00424\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Exactly\ one\ parameter\ required\ for\ :imagetype.\(\backslash\)n"{}};}
\DoxyCodeLine{00425\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00426\ \ \ \}}
\DoxyCodeLine{00427\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&imagetype\ =\ words[1];}
\DoxyCodeLine{00428\ \ \ \textcolor{keywordflow}{if}\ (!parse\_image\_type\_request(imagetype,\ pal-\/>\_color\_type,\ pal-\/>\_alpha\_type))\ \{}
\DoxyCodeLine{00429\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)nKnown\ image\ types\ are:\(\backslash\)n"{}};}
\DoxyCodeLine{00430\ \ \ \ \ \mbox{\hyperlink{classPNMFileTypeRegistry_a83617b215ff0b0482e86e463b43f22cf}{PNMFileTypeRegistry::get\_global\_ptr}}()-\/>\mbox{\hyperlink{classPNMFileTypeRegistry_aba99f27878b68ffa5dd1ca741bf155a9}{write}}(nout,\ 2);}
\DoxyCodeLine{00431\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00432\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00433\ \ \ \}}
\DoxyCodeLine{00434\ }
\DoxyCodeLine{00435\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00436\ \}}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00443\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00444\ parse\_shadowtype\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00445\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ !=\ 2)\ \{}
\DoxyCodeLine{00446\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Exactly\ one\ parameter\ required\ for\ :shadowtype.\(\backslash\)n"{}};}
\DoxyCodeLine{00447\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00448\ \ \ \}}
\DoxyCodeLine{00449\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&shadowtype\ =\ words[1];}
\DoxyCodeLine{00450\ \ \ \textcolor{keywordflow}{if}\ (!parse\_image\_type\_request(shadowtype,\ pal-\/>\_shadow\_color\_type,}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pal-\/>\_shadow\_alpha\_type))\ \{}
\DoxyCodeLine{00452\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)nKnown\ image\ types\ are:\(\backslash\)n"{}};}
\DoxyCodeLine{00453\ \ \ \ \ \mbox{\hyperlink{classPNMFileTypeRegistry_a83617b215ff0b0482e86e463b43f22cf}{PNMFileTypeRegistry::get\_global\_ptr}}()-\/>\mbox{\hyperlink{classPNMFileTypeRegistry_aba99f27878b68ffa5dd1ca741bf155a9}{write}}(nout,\ 2);}
\DoxyCodeLine{00454\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00455\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00456\ \ \ \}}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00459\ \}}
\DoxyCodeLine{00460\ }
\DoxyCodeLine{00465\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00466\ parse\_round\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00467\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ ==\ 2)\ \{}
\DoxyCodeLine{00468\ \ \ \ \ \textcolor{keywordflow}{if}\ (words[1]\ ==\ \textcolor{stringliteral}{"{}no"{}})\ \{}
\DoxyCodeLine{00469\ \ \ \ \ \ \ pal-\/>\_round\_uvs\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00471\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00472\ \ \ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ round\ keyword:\ "{}}\ <<\ words[1]\ <<\ \textcolor{stringliteral}{"{}.\(\backslash\)n"{}}}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Expected\ 'no',\ or\ a\ round\ fraction\ and\ fuzz\ factor.\(\backslash\)n"{}};}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00475\ \ \ \ \ \}}
\DoxyCodeLine{00476\ \ \ \}}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00478\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ !=\ 3)\ \{}
\DoxyCodeLine{00479\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Exactly\ two\ parameters\ required\ for\ :round,\ the\ fraction\ "{}}}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}to\ round\ to,\ and\ the\ fuzz\ factor.\(\backslash\)n"{}};}
\DoxyCodeLine{00481\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00482\ \ \ \}}
\DoxyCodeLine{00483\ }
\DoxyCodeLine{00484\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{string__utils_8cxx_aea98a3a722151a1f58fc6aaf50f14556}{string\_to\_double}}(words[1],\ pal-\/>\_round\_unit)\ ||}
\DoxyCodeLine{00485\ \ \ \ \ \ \ !\mbox{\hyperlink{string__utils_8cxx_aea98a3a722151a1f58fc6aaf50f14556}{string\_to\_double}}(words[2],\ pal-\/>\_round\_fuzz))\ \{}
\DoxyCodeLine{00486\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ rounding:\ "{}}\ <<\ words[1]\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ words[2]\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00487\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00488\ \ \ \}}
\DoxyCodeLine{00489\ }
\DoxyCodeLine{00490\ \ \ \textcolor{keywordflow}{if}\ (pal-\/>\_round\_unit\ <=\ 0.0\ ||\ pal-\/>\_round\_fuzz\ <\ 0.0)\ \{}
\DoxyCodeLine{00491\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ rounding:\ "{}}\ <<\ pal-\/>\_round\_unit}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ pal-\/>\_round\_fuzz\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00494\ \ \ \}}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \ \ pal-\/>\_round\_uvs\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00497\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00498\ \}}
\DoxyCodeLine{00499\ }
\DoxyCodeLine{00505\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00506\ parse\_remap\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00507\ \ \ \textcolor{keywordtype}{int}\ i\ =\ 1;}
\DoxyCodeLine{00508\ \ \ \textcolor{keywordflow}{while}\ (i\ <\ (\textcolor{keywordtype}{int})words.size())\ \{}
\DoxyCodeLine{00509\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&keyword\ =\ words[i];}
\DoxyCodeLine{00510\ \ \ \ \ \textcolor{keywordflow}{if}\ (keyword\ ==\ \textcolor{stringliteral}{"{}char"{}})\ \{}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \textcolor{comment}{//\ Defining\ how\ to\ remap\ UV's\ for\ characters.}}
\DoxyCodeLine{00512\ \ \ \ \ \ \ i++;}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ ==\ (\textcolor{keywordtype}{int})words.size())\ \{}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Keyword\ expected\ following\ 'char'\(\backslash\)n"{}};}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00517\ \ \ \ \ \ \ pal-\/>\_remap\_char\_uv\ =\ \mbox{\hyperlink{classPalettizer_a9da0be6ea7d07a5f554b4c43c0075c9c}{Palettizer::string\_remap}}(words[i]);}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pal-\/>\_remap\_char\_uv\ ==\ Palettizer::RU\_invalid)\ \{}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ remap\ keyword:\ "{}}\ <<\ words[i]\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \textcolor{comment}{//\ Defining\ how\ to\ remap\ UV's\ in\ general.}}
\DoxyCodeLine{00525\ \ \ \ \ \ \ pal-\/>\_remap\_uv\ =\ \mbox{\hyperlink{classPalettizer_a9da0be6ea7d07a5f554b4c43c0075c9c}{Palettizer::string\_remap}}(words[i]);}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pal-\/>\_remap\_uv\ ==\ Palettizer::RU\_invalid)\ \{}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ remap\ keyword:\ "{}}\ <<\ words[i]\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00531\ \ \ \ \ \ \ pal-\/>\_remap\_char\_uv\ =\ pal-\/>\_remap\_uv;}
\DoxyCodeLine{00532\ \ \ \ \ \}}
\DoxyCodeLine{00533\ }
\DoxyCodeLine{00534\ \ \ \ \ i++;}
\DoxyCodeLine{00535\ \ \ \}}
\DoxyCodeLine{00536\ }
\DoxyCodeLine{00537\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00538\ \}}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00540\ }
\DoxyCodeLine{00547\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00548\ parse\_cutout\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00549\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ <\ 2\ ||\ words.size()\ >\ 3)\ \{}
\DoxyCodeLine{00550\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}:cutout\ alpha-\/mode\ [ratio]\(\backslash\)n"{}};}
\DoxyCodeLine{00551\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00552\ \ \ \}}
\DoxyCodeLine{00553\ }
\DoxyCodeLine{00554\ \ \ EggRenderMode::AlphaMode\ am\ =\ EggRenderMode::string\_alpha\_mode(words[1]);}
\DoxyCodeLine{00555\ \ \ \textcolor{keywordflow}{if}\ (am\ ==\ EggRenderMode::AM\_unspecified)\ \{}
\DoxyCodeLine{00556\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ cutout\ keyword:\ "{}}\ <<\ words[1]\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00557\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00558\ \ \ \}}
\DoxyCodeLine{00559\ \ \ pal-\/>\_cutout\_mode\ =\ am;}
\DoxyCodeLine{00560\ }
\DoxyCodeLine{00561\ \ \ \textcolor{keywordflow}{if}\ (words.size()\ >=\ 3)\ \{}
\DoxyCodeLine{00562\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{string__utils_8cxx_aea98a3a722151a1f58fc6aaf50f14556}{string\_to\_double}}(words[2],\ pal-\/>\_cutout\_ratio))\ \{}
\DoxyCodeLine{00563\ \ \ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Invalid\ cutout\ ratio:\ "{}}\ <<\ words[2]\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00564\ \ \ \ \ \}}
\DoxyCodeLine{00565\ \ \ \}}
\DoxyCodeLine{00566\ }
\DoxyCodeLine{00567\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00568\ \}}
\DoxyCodeLine{00569\ }
\DoxyCodeLine{00574\ \textcolor{keywordtype}{bool}\ TxaFile::}
\DoxyCodeLine{00575\ parse\_textureswap\_line(\textcolor{keyword}{const}\ vector\_string\ \&words)\ \{}
\DoxyCodeLine{00576\ \ \ vector\_string::const\_iterator\ wi;}
\DoxyCodeLine{00577\ \ \ wi\ =\ words.begin();}
\DoxyCodeLine{00578\ \ \ assert\ (wi\ !=\ words.end());}
\DoxyCodeLine{00579\ \ \ ++wi;}
\DoxyCodeLine{00580\ }
\DoxyCodeLine{00581\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&group\_name\ =\ (*wi);}
\DoxyCodeLine{00582\ \ \ \mbox{\hyperlink{classPaletteGroup}{PaletteGroup}}\ *group\ =\ pal-\/>\mbox{\hyperlink{classPalettizer_a8adb9fd4bc3d7065a98827da85b2f992}{get\_palette\_group}}(group\_name);}
\DoxyCodeLine{00583\ \ \ ++wi;}
\DoxyCodeLine{00584\ }
\DoxyCodeLine{00585\ \ \ \textcolor{keywordtype}{string}\ sourceTextureName\ =\ (*wi);}
\DoxyCodeLine{00586\ \ \ ++wi;}
\DoxyCodeLine{00587\ }
\DoxyCodeLine{00588\ \ \ \textcolor{comment}{//\ vector\_string\ swapTextures;\ copy(words.begin(),\ words.end(),}}
\DoxyCodeLine{00589\ \ \ \textcolor{comment}{//\ swapTextures);\ group-\/>add\_texture\_swap\_info(sourceTextureName,}}
\DoxyCodeLine{00590\ \ \ \textcolor{comment}{//\ swapTextures);}}
\DoxyCodeLine{00591\ \ \ \textcolor{keywordtype}{size\_t}\ dot\ =\ sourceTextureName.rfind(\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00592\ \ \ \textcolor{keywordflow}{if}\ (dot\ !=\ string::npos)\ \{}
\DoxyCodeLine{00593\ \ \ \ \ sourceTextureName\ =\ sourceTextureName.substr(0,\ dot);}
\DoxyCodeLine{00594\ \ \ \}}
\DoxyCodeLine{00595\ \ \ group-\/>add\_texture\_swap\_info(sourceTextureName,\ words);}
\DoxyCodeLine{00596\ }
\DoxyCodeLine{00597\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00598\ \}}

\end{DoxyCode}
