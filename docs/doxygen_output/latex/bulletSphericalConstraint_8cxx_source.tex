\doxysection{bullet\+Spherical\+Constraint.\+cxx}
\hypertarget{bulletSphericalConstraint_8cxx_source}{}\label{bulletSphericalConstraint_8cxx_source}\index{panda/src/bullet/bulletSphericalConstraint.cxx@{panda/src/bullet/bulletSphericalConstraint.cxx}}
\mbox{\hyperlink{bulletSphericalConstraint_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletSphericalConstraint_8h}{bulletSphericalConstraint.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletRigidBodyNode_8h}{bulletRigidBodyNode.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletWorld_8h}{bulletWorld.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ BulletSphericalConstraint::\_type\_handle;}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00024\ BulletSphericalConstraint::}
\DoxyCodeLine{00025\ BulletSphericalConstraint(\textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletRigidBodyNode}{BulletRigidBodyNode}}\ *node\_a,}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ LPoint3\ \&pivot\_a)\ \{}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \mbox{\hyperlink{classbtRigidBody}{btRigidBody}}\ *ptr\_a\ =\ btRigidBody::upcast(node\_a-\/>get\_object());}
\DoxyCodeLine{00029\ \ \ \mbox{\hyperlink{structbtVector3}{btVector3}}\ pos\_a\ =\ LVecBase3\_to\_btVector3(pivot\_a);}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \_constraint\ =\ \textcolor{keyword}{new}\ btPoint2PointConstraint(*ptr\_a,\ pos\_a);}
\DoxyCodeLine{00032\ \}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00037\ BulletSphericalConstraint::}
\DoxyCodeLine{00038\ BulletSphericalConstraint(\textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletRigidBodyNode}{BulletRigidBodyNode}}\ *node\_a,}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletRigidBodyNode}{BulletRigidBodyNode}}\ *node\_b,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ LPoint3\ \&pivot\_a,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ LPoint3\ \&pivot\_b)\ \{}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{classbtRigidBody}{btRigidBody}}\ *ptr\_a\ =\ btRigidBody::upcast(node\_a-\/>get\_object());}
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{structbtVector3}{btVector3}}\ pos\_a\ =\ LVecBase3\_to\_btVector3(pivot\_a);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \mbox{\hyperlink{classbtRigidBody}{btRigidBody}}\ *ptr\_b\ =\ btRigidBody::upcast(node\_b-\/>get\_object());}
\DoxyCodeLine{00047\ \ \ \mbox{\hyperlink{structbtVector3}{btVector3}}\ pos\_b\ =\ LVecBase3\_to\_btVector3(pivot\_b);}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \_constraint\ =\ \textcolor{keyword}{new}\ btPoint2PointConstraint(*ptr\_a,\ *ptr\_b,\ pos\_a,\ pos\_b);}
\DoxyCodeLine{00050\ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00055\ btTypedConstraint\ *BulletSphericalConstraint::}
\DoxyCodeLine{00056\ ptr()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{keywordflow}{return}\ \_constraint;}
\DoxyCodeLine{00059\ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00064\ \textcolor{keywordtype}{void}\ BulletSphericalConstraint::}
\DoxyCodeLine{00065\ set\_pivot\_a(\textcolor{keyword}{const}\ LPoint3\ \&pivot\_a)\ \{}
\DoxyCodeLine{00066\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ nassertv(!pivot\_a.is\_nan());}
\DoxyCodeLine{00069\ \ \ \_constraint-\/>setPivotA(LVecBase3\_to\_btVector3(pivot\_a));}
\DoxyCodeLine{00070\ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00075\ \textcolor{keywordtype}{void}\ BulletSphericalConstraint::}
\DoxyCodeLine{00076\ set\_pivot\_b(\textcolor{keyword}{const}\ LPoint3\ \&pivot\_b)\ \{}
\DoxyCodeLine{00077\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ nassertv(!pivot\_b.is\_nan());}
\DoxyCodeLine{00080\ \ \ \_constraint-\/>setPivotB(LVecBase3\_to\_btVector3(pivot\_b));}
\DoxyCodeLine{00081\ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00086\ LPoint3\ BulletSphericalConstraint::}
\DoxyCodeLine{00087\ get\_pivot\_in\_a()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00088\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \textcolor{keywordflow}{return}\ btVector3\_to\_LPoint3(\_constraint-\/>getPivotInA());}
\DoxyCodeLine{00091\ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00096\ LPoint3\ BulletSphericalConstraint::}
\DoxyCodeLine{00097\ get\_pivot\_in\_b()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00098\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \textcolor{keywordflow}{return}\ btVector3\_to\_LPoint3(\_constraint-\/>getPivotInB());}
\DoxyCodeLine{00101\ \}}

\end{DoxyCode}
