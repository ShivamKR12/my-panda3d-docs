\doxysection{dtool/src/prckeys/make\+Prc\+Key.cxx File Reference}
\hypertarget{makePrcKey_8cxx}{}\label{makePrcKey_8cxx}\index{dtool/src/prckeys/makePrcKey.cxx@{dtool/src/prckeys/makePrcKey.cxx}}
{\ttfamily \#include "{}dtoolbase.\+h"{}}\newline
{\ttfamily \#include "{}prc\+Key\+Registry.\+h"{}}\newline
{\ttfamily \#include "{}filename.\+h"{}}\newline
{\ttfamily \#include "{}pvector.\+h"{}}\newline
{\ttfamily \#include "{}panda\+\_\+getopt.\+h"{}}\newline
{\ttfamily \#include "{}preprocess\+\_\+argv.\+h"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$openssl/rsa.\+h$>$}\newline
{\ttfamily \#include $<$openssl/err.\+h$>$}\newline
{\ttfamily \#include $<$openssl/pem.\+h$>$}\newline
{\ttfamily \#include $<$openssl/rand.\+h$>$}\newline
{\ttfamily \#include $<$openssl/bio.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classKeyNumber}{Key\+Number}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{makePrcKey_8cxx_a7e7a035ad9a701716b075efb66ddb75c}\label{makePrcKey_8cxx_a7e7a035ad9a701716b075efb66ddb75c} 
typedef \mbox{\hyperlink{classpvector}{pvector}}$<$ \mbox{\hyperlink{classKeyNumber}{Key\+Number}} $>$ {\bfseries Key\+Numbers}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{makePrcKey_8cxx_ab520f5f7d9480f910e222a0a9afbf80d}{output\+\_\+ssl\+\_\+errors}} ()
\item 
void \mbox{\hyperlink{makePrcKey_8cxx_ae8a44b055e8d982505b66fa36363cd5d}{output\+\_\+c\+\_\+string}} (std\+::ostream \&out, const string \&string\+\_\+name, size\+\_\+t index, BIO \texorpdfstring{$\ast$}{*}mbio)
\item 
EVP\+\_\+\+PKEY \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{makePrcKey_8cxx_a00ca881c6220d2c3185d2f0f231640db}{generate\+\_\+key}} ()
\item 
void \mbox{\hyperlink{makePrcKey_8cxx_a4518fcf27d16cfa2b0f1e54591e06d62}{write\+\_\+public\+\_\+keys}} (\mbox{\hyperlink{classFilename}{Filename}} outfile)
\item 
void \mbox{\hyperlink{makePrcKey_8cxx_a2000e1adaa8a1fe9320e2440d4659a41}{write\+\_\+private\+\_\+key}} (EVP\+\_\+\+PKEY \texorpdfstring{$\ast$}{*}pkey, \mbox{\hyperlink{classFilename}{Filename}} outfile, int n, time\+\_\+t now, const char \texorpdfstring{$\ast$}{*}pp)
\item 
\Hypertarget{makePrcKey_8cxx_a2ef30c42cbc289d899a8be5d2d8f77d0}\label{makePrcKey_8cxx_a2ef30c42cbc289d899a8be5d2d8f77d0} 
void {\bfseries usage} ()
\item 
\Hypertarget{makePrcKey_8cxx_a3c04138a5bfe5d72780bb7e82a18e627}\label{makePrcKey_8cxx_a3c04138a5bfe5d72780bb7e82a18e627} 
int {\bfseries main} (int argc, char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}argv)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PANDA 3D SOFTWARE Copyright (c) Carnegie Mellon University. All rights reserved.

All use of this software is subject to the terms of the revised BSD license. You should have received a copy of this license along with this source code in a file named "{}\+LICENSE."{}

\begin{DoxyAuthor}{Author}
drose 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2004-\/10-\/19 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{makePrcKey_8cxx_a00ca881c6220d2c3185d2f0f231640db}\label{makePrcKey_8cxx_a00ca881c6220d2c3185d2f0f231640db} 
\index{makePrcKey.cxx@{makePrcKey.cxx}!generate\_key@{generate\_key}}
\index{generate\_key@{generate\_key}!makePrcKey.cxx@{makePrcKey.cxx}}
\doxysubsubsection{\texorpdfstring{generate\_key()}{generate\_key()}}
{\footnotesize\ttfamily EVP\+\_\+\+PKEY \texorpdfstring{$\ast$}{*} generate\+\_\+key (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Generates a new public and private key pair. \Hypertarget{makePrcKey_8cxx_ae8a44b055e8d982505b66fa36363cd5d}\label{makePrcKey_8cxx_ae8a44b055e8d982505b66fa36363cd5d} 
\index{makePrcKey.cxx@{makePrcKey.cxx}!output\_c\_string@{output\_c\_string}}
\index{output\_c\_string@{output\_c\_string}!makePrcKey.cxx@{makePrcKey.cxx}}
\doxysubsubsection{\texorpdfstring{output\_c\_string()}{output\_c\_string()}}
{\footnotesize\ttfamily void output\+\_\+c\+\_\+string (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{out,  }\item[{const string \&}]{string\+\_\+name,  }\item[{size\+\_\+t}]{index,  }\item[{BIO \texorpdfstring{$\ast$}{*}}]{mbio }\end{DoxyParamCaption})}

Extracts the data written to the indicated memory bio and writes it to the indicated stream, formatting it to be compiled into a C or C++ program as a string. \Hypertarget{makePrcKey_8cxx_ab520f5f7d9480f910e222a0a9afbf80d}\label{makePrcKey_8cxx_ab520f5f7d9480f910e222a0a9afbf80d} 
\index{makePrcKey.cxx@{makePrcKey.cxx}!output\_ssl\_errors@{output\_ssl\_errors}}
\index{output\_ssl\_errors@{output\_ssl\_errors}!makePrcKey.cxx@{makePrcKey.cxx}}
\doxysubsubsection{\texorpdfstring{output\_ssl\_errors()}{output\_ssl\_errors()}}
{\footnotesize\ttfamily void output\+\_\+ssl\+\_\+errors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

A convenience function that is itself a wrapper around the Open\+SSL convenience function to output the recent Open\+SSL errors. This function sends the error string to cerr. \Hypertarget{makePrcKey_8cxx_a2000e1adaa8a1fe9320e2440d4659a41}\label{makePrcKey_8cxx_a2000e1adaa8a1fe9320e2440d4659a41} 
\index{makePrcKey.cxx@{makePrcKey.cxx}!write\_private\_key@{write\_private\_key}}
\index{write\_private\_key@{write\_private\_key}!makePrcKey.cxx@{makePrcKey.cxx}}
\doxysubsubsection{\texorpdfstring{write\_private\_key()}{write\_private\_key()}}
{\footnotesize\ttfamily void write\+\_\+private\+\_\+key (\begin{DoxyParamCaption}\item[{EVP\+\_\+\+PKEY \texorpdfstring{$\ast$}{*}}]{pkey,  }\item[{\mbox{\hyperlink{classFilename}{Filename}}}]{outfile,  }\item[{int}]{n,  }\item[{time\+\_\+t}]{now,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{pp }\end{DoxyParamCaption})}

Generates a C++ program that can be used to sign a prc file with the indicated private key into the given output filename. \Hypertarget{makePrcKey_8cxx_a4518fcf27d16cfa2b0f1e54591e06d62}\label{makePrcKey_8cxx_a4518fcf27d16cfa2b0f1e54591e06d62} 
\index{makePrcKey.cxx@{makePrcKey.cxx}!write\_public\_keys@{write\_public\_keys}}
\index{write\_public\_keys@{write\_public\_keys}!makePrcKey.cxx@{makePrcKey.cxx}}
\doxysubsubsection{\texorpdfstring{write\_public\_keys()}{write\_public\_keys()}}
{\footnotesize\ttfamily void write\+\_\+public\+\_\+keys (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classFilename}{Filename}}}]{outfile }\end{DoxyParamCaption})}

Writes the list of public keys stored in the Prc\+Key\+Registry to the indicated output filename as a compilable list of Key\+Def entries, suitable for passing to Prc\+Key\+Registry\+::record\+\_\+keys(). 