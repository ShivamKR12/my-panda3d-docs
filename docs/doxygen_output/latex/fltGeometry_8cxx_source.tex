\doxysection{flt\+Geometry.\+cxx}
\hypertarget{fltGeometry_8cxx_source}{}\label{fltGeometry_8cxx_source}\index{pandatool/src/flt/fltGeometry.cxx@{pandatool/src/flt/fltGeometry.cxx}}
\mbox{\hyperlink{fltGeometry_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{fltGeometry_8h}{fltGeometry.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{fltRecordReader_8h}{fltRecordReader.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{fltRecordWriter_8h}{fltRecordWriter.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{fltHeader_8h}{fltHeader.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{fltMaterial_8h}{fltMaterial.h}}"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ FltGeometry::\_type\_handle;}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00025\ FltGeometry::}
\DoxyCodeLine{00026\ FltGeometry(\mbox{\hyperlink{classFltHeader}{FltHeader}}\ *header)\ :\ \mbox{\hyperlink{classFltBeadID}{FltBeadID}}(header)\ \{}
\DoxyCodeLine{00027\ \ \ \_ir\_color\ =\ 0;}
\DoxyCodeLine{00028\ \ \ \_relative\_priority\ =\ 0;}
\DoxyCodeLine{00029\ \ \ \_draw\_type\ =\ DT\_solid\_cull\_backface;}
\DoxyCodeLine{00030\ \ \ \_texwhite\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00031\ \ \ \_color\_name\_index\ =\ 0;}
\DoxyCodeLine{00032\ \ \ \_alt\_color\_name\_index\ =\ 0;}
\DoxyCodeLine{00033\ \ \ \_billboard\_type\ =\ BT\_none;}
\DoxyCodeLine{00034\ \ \ \_detail\_texture\_index\ =\ -\/1;}
\DoxyCodeLine{00035\ \ \ \_texture\_index\ =\ -\/1;}
\DoxyCodeLine{00036\ \ \ \_material\_index\ =\ -\/1;}
\DoxyCodeLine{00037\ \ \ \_dfad\_material\_code\ =\ 0;}
\DoxyCodeLine{00038\ \ \ \_dfad\_feature\_id\ =\ 0;}
\DoxyCodeLine{00039\ \ \ \_ir\_material\_code\ =\ 0;}
\DoxyCodeLine{00040\ \ \ \_transparency\ =\ 0;}
\DoxyCodeLine{00041\ \ \ \_lod\_generation\_control\ =\ 0;}
\DoxyCodeLine{00042\ \ \ \_line\_style\_index\ =\ 0;}
\DoxyCodeLine{00043\ \ \ \_flags\ =\ F\_no\_color;}
\DoxyCodeLine{00044\ \ \ \_light\_mode\ =\ LM\_face\_no\_normal;}
\DoxyCodeLine{00045\ \ \ \_texture\_mapping\_index\ =\ 0;}
\DoxyCodeLine{00046\ \ \ \_color\_index\ =\ 0;}
\DoxyCodeLine{00047\ \ \ \_alt\_color\_index\ =\ 0;}
\DoxyCodeLine{00048\ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00058\ LColor\ \mbox{\hyperlink{classFltGeometry_a836c73acfc6d7a6393ac9ceed4ee1ad7}{FltGeometry::}}}
\DoxyCodeLine{00059\ \mbox{\hyperlink{classFltGeometry_a836c73acfc6d7a6393ac9ceed4ee1ad7}{get\_color}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00060\ \ \ LColor\ \mbox{\hyperlink{structcolor}{color}};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{keywordflow}{if}\ (!has\_color()\ ||\ (\_texwhite\ \&\&\ has\_texture()))\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{comment}{//\ Force\ this\ one\ white.}}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{structcolor}{color}}.set(1.0,\ 1.0,\ 1.0,\ 1.0);}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (has\_material())\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{comment}{//\ If\ we\ have\ a\ material,\ that\ replaces\ the\ color.}}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{classFltMaterial}{FltMaterial}}\ *material\ =\ get\_material();}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{structcolor}{color}}.set(material-\/>\_diffuse[0],}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ material-\/>\_diffuse[1],}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ material-\/>\_diffuse[2],}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ material-\/>\_alpha);}
\DoxyCodeLine{00073\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00074\ \ \ \ \ LRGBColor\ rgb\ =}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \_header-\/>\mbox{\hyperlink{classFltHeader_a8cf60dafe332ef4f88cc290456786a2a}{get\_rgb}}(\_color\_index,\ (\_flags\ \&\ F\_packed\_color)\ !=\ 0,}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_packed\_color);}
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{structcolor}{color}}.set(rgb[0],\ rgb[1],\ rgb[2],\ 1.0);}
\DoxyCodeLine{00078\ \ \ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \textcolor{comment}{//\ Modify\ the\ whole\ thing\ by\ our\ transparency.}}
\DoxyCodeLine{00081\ \ \ PN\_stdfloat\ alpha\ =\ 1.0\ -\/\ (\_transparency\ /\ 65535.0);}
\DoxyCodeLine{00082\ \ \ \mbox{\hyperlink{structcolor}{color}}[3]\ *=\ alpha;}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structcolor}{color}};}
\DoxyCodeLine{00085\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00090\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classFltGeometry_a96dec6911265e329dd2c41f1420e4e07}{FltGeometry::}}}
\DoxyCodeLine{00091\ \mbox{\hyperlink{classFltGeometry_a96dec6911265e329dd2c41f1420e4e07}{set\_color}}(\textcolor{keyword}{const}\ LColor\ \&\mbox{\hyperlink{structcolor}{color}})\ \{}
\DoxyCodeLine{00092\ \ \ \mbox{\hyperlink{classFltGeometry_ae39f75d04db9c6df9892abde9a3aab20}{set\_rgb}}(LRGBColor(\mbox{\hyperlink{structcolor}{color}}[0],\ \mbox{\hyperlink{structcolor}{color}}[1],\ \mbox{\hyperlink{structcolor}{color}}[2]));}
\DoxyCodeLine{00093\ \ \ \_transparency\ =\ (int)floor((1.0\ -\/\ \mbox{\hyperlink{structcolor}{color}}[3])\ *\ 65535.0);}
\DoxyCodeLine{00094\ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00100\ LRGBColor\ \mbox{\hyperlink{classFltGeometry_ac10457bf8ac87b20be96d19fe42d1278}{FltGeometry::}}}
\DoxyCodeLine{00101\ \mbox{\hyperlink{classFltGeometry_ac10457bf8ac87b20be96d19fe42d1278}{get\_rgb}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00102\ \ \ \textcolor{keywordflow}{if}\ (!has\_color()\ ||\ (\_texwhite\ \&\&\ has\_texture()))\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{comment}{//\ Force\ this\ one\ white.}}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordflow}{return}\ LRGBColor(1.0,\ 1.0,\ 1.0);}
\DoxyCodeLine{00105\ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{keywordflow}{if}\ (has\_material())\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ If\ we\ have\ a\ material,\ that\ replaces\ the\ color.}}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{classFltMaterial}{FltMaterial}}\ *material\ =\ get\_material();}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordflow}{return}\ material-\/>\_diffuse;}
\DoxyCodeLine{00111\ \ \ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \textcolor{keywordflow}{return}\ \_header-\/>\mbox{\hyperlink{classFltHeader_a8cf60dafe332ef4f88cc290456786a2a}{get\_rgb}}(\_color\_index,\ (\_flags\ \&\ F\_packed\_color)\ !=\ 0,}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_packed\_color);}
\DoxyCodeLine{00115\ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00121\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classFltGeometry_ae39f75d04db9c6df9892abde9a3aab20}{FltGeometry::}}}
\DoxyCodeLine{00122\ \mbox{\hyperlink{classFltGeometry_ae39f75d04db9c6df9892abde9a3aab20}{set\_rgb}}(\textcolor{keyword}{const}\ LRGBColor\ \&rgb)\ \{}
\DoxyCodeLine{00123\ \ \ \_packed\_color.set\_rgb(rgb);}
\DoxyCodeLine{00124\ \ \ \_flags\ =\ ((\_flags\ \&\ \string~F\_no\_color)\ |\ F\_packed\_color);}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \textcolor{comment}{//\ If\ we\ have\ a\ color,\ we\ can't\ have\ a\ material.}}
\DoxyCodeLine{00127\ \ \ \_material\_index\ =\ -\/1;}
\DoxyCodeLine{00128\ \ \ \_texwhite\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00129\ \}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00134\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classFltGeometry_a7046f2d3d94077280e1da9f125d03884}{FltGeometry::}}}
\DoxyCodeLine{00135\ \mbox{\hyperlink{classFltGeometry_a7046f2d3d94077280e1da9f125d03884}{has\_alt\_color}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00136\ \ \ \textcolor{keywordflow}{return}\ (\_flags\ \&\ F\_no\_alt\_color)\ ==\ 0;}
\DoxyCodeLine{00137\ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00143\ LColor\ \mbox{\hyperlink{classFltGeometry_a84c83e63eef7921f8be21608c6dc3897}{FltGeometry::}}}
\DoxyCodeLine{00144\ \mbox{\hyperlink{classFltGeometry_a84c83e63eef7921f8be21608c6dc3897}{get\_alt\_color}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00145\ \ \ nassertr(\mbox{\hyperlink{classFltGeometry_a7046f2d3d94077280e1da9f125d03884}{has\_alt\_color}}(),\ LColor(0.0,\ 0.0,\ 0.0,\ 0.0));}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \textcolor{keywordflow}{return}\ \_header-\/>\mbox{\hyperlink{classFltHeader_a7fcd54f4c876c34ae20a4ff88727510f}{get\_color}}(\_alt\_color\_index,\ (\_flags\ \&\ F\_packed\_color)\ !=\ 0,}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_alt\_packed\_color,\ \_transparency);}
\DoxyCodeLine{00149\ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00155\ LRGBColor\ \mbox{\hyperlink{classFltGeometry_a7ae9e3ab47373e8aa148593b9fe733a3}{FltGeometry::}}}
\DoxyCodeLine{00156\ \mbox{\hyperlink{classFltGeometry_a7ae9e3ab47373e8aa148593b9fe733a3}{get\_alt\_rgb}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00157\ \ \ nassertr(\mbox{\hyperlink{classFltGeometry_a7046f2d3d94077280e1da9f125d03884}{has\_alt\_color}}(),\ LRGBColor(0.0,\ 0.0,\ 0.0));}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \textcolor{keywordflow}{return}\ \_header-\/>\mbox{\hyperlink{classFltHeader_a8cf60dafe332ef4f88cc290456786a2a}{get\_rgb}}(\_alt\_color\_index,\ (\_flags\ \&\ F\_packed\_color)\ !=\ 0,}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_alt\_packed\_color);}
\DoxyCodeLine{00161\ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00168\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classFltGeometry_accb9a1bbb8a26fd80040aa9176aa4f72}{FltGeometry::}}}
\DoxyCodeLine{00169\ \mbox{\hyperlink{classFltGeometry_accb9a1bbb8a26fd80040aa9176aa4f72}{extract\_record}}(\mbox{\hyperlink{classFltRecordReader}{FltRecordReader}}\ \&reader)\ \{}
\DoxyCodeLine{00170\ \ \ \mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&iterator\ =\ reader.\mbox{\hyperlink{classFltRecordReader_aa9b8c65ee16aaebdcb07e230d7abe9af}{get\_iterator}}();}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \_ir\_color\ =\ iterator.get\_be\_int32();}
\DoxyCodeLine{00173\ \ \ \_relative\_priority\ =\ iterator.get\_be\_int16();}
\DoxyCodeLine{00174\ \ \ \_draw\_type\ =\ (DrawType)iterator.get\_int8();}
\DoxyCodeLine{00175\ \ \ \_texwhite\ =\ (iterator.get\_int8()\ !=\ 0);}
\DoxyCodeLine{00176\ \ \ \_color\_name\_index\ =\ iterator.get\_be\_int16();}
\DoxyCodeLine{00177\ \ \ \_alt\_color\_name\_index\ =\ iterator.get\_be\_int16();}
\DoxyCodeLine{00178\ \ \ iterator.skip\_bytes(1);}
\DoxyCodeLine{00179\ \ \ \_billboard\_type\ =\ (BillboardType)iterator.get\_int8();}
\DoxyCodeLine{00180\ \ \ \_detail\_texture\_index\ =\ iterator.get\_be\_int16();}
\DoxyCodeLine{00181\ \ \ \_texture\_index\ =\ iterator.get\_be\_int16();}
\DoxyCodeLine{00182\ \ \ \_material\_index\ =\ iterator.get\_be\_int16();}
\DoxyCodeLine{00183\ \ \ \_dfad\_material\_code\ =\ iterator.get\_be\_int16();}
\DoxyCodeLine{00184\ \ \ \_dfad\_feature\_id\ =\ iterator.get\_be\_int16();}
\DoxyCodeLine{00185\ \ \ \_ir\_material\_code\ =\ iterator.get\_be\_int32();}
\DoxyCodeLine{00186\ \ \ \_transparency\ =\ iterator.get\_be\_uint16();}
\DoxyCodeLine{00187\ \ \ \_lod\_generation\_control\ =\ iterator.get\_uint8();}
\DoxyCodeLine{00188\ \ \ \_line\_style\_index\ =\ iterator.get\_uint8();}
\DoxyCodeLine{00189\ \ \ \textcolor{keywordflow}{if}\ (\_header-\/>\mbox{\hyperlink{classFltHeader_a4d3d098d6802e74e3d79104c972cbe1e}{get\_flt\_version}}()\ >=\ 1420)\ \{}
\DoxyCodeLine{00190\ \ \ \ \ \_flags\ =\ iterator.get\_be\_uint32();}
\DoxyCodeLine{00191\ \ \ \ \ \_light\_mode\ =\ (LightMode)iterator.get\_uint8();}
\DoxyCodeLine{00192\ \ \ \ \ iterator.skip\_bytes(1\ +\ 4);}
\DoxyCodeLine{00193\ \ \ \ \ iterator.skip\_bytes(2);\ \textcolor{comment}{//\ Undocumented\ padding.}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_packed\_color.extract\_record(reader))\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00197\ \ \ \ \ \}}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_alt\_packed\_color.extract\_record(reader))\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00200\ \ \ \ \ \}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_header-\/>\mbox{\hyperlink{classFltHeader_a4d3d098d6802e74e3d79104c972cbe1e}{get\_flt\_version}}()\ >=\ 1520)\ \{}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \_texture\_mapping\_index\ =\ iterator.get\_be\_int16();}
\DoxyCodeLine{00204\ \ \ \ \ \ \ iterator.skip\_bytes(2);}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \_color\_index\ =\ iterator.get\_be\_int32();}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \_alt\_color\_index\ =\ iterator.get\_be\_int32();}
\DoxyCodeLine{00207\ \ \ \ \ \ \ iterator.skip\_bytes(2\ +\ 2);}
\DoxyCodeLine{00208\ \ \ \ \ \}}
\DoxyCodeLine{00209\ \ \ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00212\ \}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00219\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classFltGeometry_a99f59bdaa8c321555d3589995d094dd8}{FltGeometry::}}}
\DoxyCodeLine{00220\ \mbox{\hyperlink{classFltGeometry_a99f59bdaa8c321555d3589995d094dd8}{build\_record}}(\mbox{\hyperlink{classFltRecordWriter}{FltRecordWriter}}\ \&writer)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00221\ \ \ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&datagram\ =\ writer.\mbox{\hyperlink{classFltRecordWriter_ac133f95f301e87e4142072f1edd123e9}{update\_datagram}}();}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ datagram.add\_be\_int32(\_ir\_color);}
\DoxyCodeLine{00224\ \ \ datagram.add\_be\_int16(\_relative\_priority);}
\DoxyCodeLine{00225\ \ \ datagram.add\_int8(\_draw\_type);}
\DoxyCodeLine{00226\ \ \ datagram.add\_int8(\_texwhite);}
\DoxyCodeLine{00227\ \ \ datagram.add\_be\_uint16(\_color\_name\_index);}
\DoxyCodeLine{00228\ \ \ datagram.add\_be\_uint16(\_alt\_color\_name\_index);}
\DoxyCodeLine{00229\ \ \ datagram.pad\_bytes(1);}
\DoxyCodeLine{00230\ \ \ datagram.add\_int8(\_billboard\_type);}
\DoxyCodeLine{00231\ \ \ datagram.add\_be\_int16(\_detail\_texture\_index);}
\DoxyCodeLine{00232\ \ \ datagram.add\_be\_int16(\_texture\_index);}
\DoxyCodeLine{00233\ \ \ datagram.add\_be\_int16(\_material\_index);}
\DoxyCodeLine{00234\ \ \ datagram.add\_be\_int16(\_dfad\_material\_code);}
\DoxyCodeLine{00235\ \ \ datagram.add\_be\_int16(\_dfad\_feature\_id);}
\DoxyCodeLine{00236\ \ \ datagram.add\_be\_int32(\_ir\_material\_code);}
\DoxyCodeLine{00237\ \ \ datagram.add\_be\_uint16(\_transparency);}
\DoxyCodeLine{00238\ \ \ datagram.add\_uint8(\_lod\_generation\_control);}
\DoxyCodeLine{00239\ \ \ datagram.add\_uint8(\_line\_style\_index);}
\DoxyCodeLine{00240\ \ \ datagram.add\_be\_uint32(\_flags);}
\DoxyCodeLine{00241\ \ \ datagram.add\_uint8(\_light\_mode);}
\DoxyCodeLine{00242\ \ \ datagram.pad\_bytes(1\ +\ 4);}
\DoxyCodeLine{00243\ \ \ datagram.pad\_bytes(2);\ \textcolor{comment}{//\ Undocumented\ padding.}}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \textcolor{keywordflow}{if}\ (!\_packed\_color.build\_record(writer))\ \{}
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00247\ \ \ \}}
\DoxyCodeLine{00248\ \ \ \textcolor{keywordflow}{if}\ (!\_alt\_packed\_color.build\_record(writer))\ \{}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00250\ \ \ \}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \ \ \textcolor{keywordflow}{if}\ (\_header-\/>\mbox{\hyperlink{classFltHeader_a4d3d098d6802e74e3d79104c972cbe1e}{get\_flt\_version}}()\ >=\ 1520)\ \{}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{comment}{//\ New\ with\ 15.2}}
\DoxyCodeLine{00254\ \ \ \ \ datagram.add\_be\_int16(\_texture\_mapping\_index);}
\DoxyCodeLine{00255\ \ \ \ \ datagram.pad\_bytes(2);}
\DoxyCodeLine{00256\ \ \ \ \ datagram.add\_be\_int32(\_color\_index);}
\DoxyCodeLine{00257\ \ \ \ \ datagram.add\_be\_int32(\_alt\_color\_index);}
\DoxyCodeLine{00258\ \ \ \ \ datagram.pad\_bytes(2\ +\ 2);}
\DoxyCodeLine{00259\ \ \ \}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00262\ \}}

\end{DoxyCode}
