\doxysection{data\+Node.\+cxx}
\hypertarget{dataNode_8cxx_source}{}\label{dataNode_8cxx_source}\index{panda/src/dgraph/dataNode.cxx@{panda/src/dgraph/dataNode.cxx}}
\mbox{\hyperlink{dataNode_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dataNode_8h}{dataNode.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dataNodeTransmit_8h}{dataNodeTransmit.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__dgraph_8h}{config\_dgraph.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dcast_8h}{dcast.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ DataNode::\_type\_handle;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00028\ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *\mbox{\hyperlink{classDataNode_a3feee1cd2d671381e555a3ec767831b2}{DataNode::}}}
\DoxyCodeLine{00029\ \mbox{\hyperlink{classDataNode_a3feee1cd2d671381e555a3ec767831b2}{make\_copy}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00030\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classDataNode}{DataNode}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{00031\ \}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00038\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDataNode_ad40cc8b6f609c1a2584cea990525aee7}{DataNode::}}}
\DoxyCodeLine{00039\ \mbox{\hyperlink{classDataNode_ad40cc8b6f609c1a2584cea990525aee7}{transmit\_data}}(\mbox{\hyperlink{classDataGraphTraverser}{DataGraphTraverser}}\ *trav,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classDataNodeTransmit}{DataNodeTransmit}}\ inputs[],}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classDataNodeTransmit}{DataNodeTransmit}}\ \&output)\ \{}
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{classDataNodeTransmit}{DataNodeTransmit}}\ new\_input;}
\DoxyCodeLine{00043\ \ \ new\_input.reserve(get\_num\_inputs());}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ DataConnections::const\_iterator\ ci;}
\DoxyCodeLine{00046\ \ \ \textcolor{keywordflow}{for}\ (ci\ =\ \_data\_connections.begin();\ ci\ !=\ \_data\_connections.end();\ ++ci)\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{const}\ DataConnection\ \&connect\ =\ (*ci);}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEventParameter}{EventParameter}}\ \&data\ =}
\DoxyCodeLine{00049\ \ \ \ \ \ \ inputs[connect.\_parent\_index].get\_data(connect.\_output\_index);}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{if}\ (!data.is\_empty())\ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ new\_input.set\_data(connect.\_input\_index,\ data);}
\DoxyCodeLine{00052\ \ \ \ \ \}}
\DoxyCodeLine{00053\ \ \ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\ \ \#ifndef\ NDEBUG}}
\DoxyCodeLine{00056\ \ \ \textcolor{keywordflow}{if}\ (dgraph\_cat.is\_spam())\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{bool}\ any\_data\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00058\ \ \ \ \ Wires::const\_iterator\ wi;}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{for}\ (wi\ =\ \_input\_wires.begin();\ wi\ !=\ \_input\_wires.end();\ ++wi)\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name\ =\ (*wi).first;}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \textcolor{keyword}{const}\ WireDef\ \&def\ =\ (*wi).second;}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (new\_input.has\_data(def.\_index))\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!any\_data)\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ dgraph\_cat.spam()}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ *\textcolor{keyword}{this}\ <<\ \textcolor{stringliteral}{"{}\ receives:\(\backslash\)n"{}};}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ any\_data\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ dgraph\_cat.spam(\textcolor{keyword}{false})}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ name\ <<\ \textcolor{stringliteral}{"{}\ =\ "{}}\ <<\ new\_input.get\_data(def.\_index)}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00072\ \ \ \ \ \}}
\DoxyCodeLine{00073\ \ \ \}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\ \ \#endif\ \ }\textcolor{comment}{//\ NDEBUG}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \mbox{\hyperlink{classDataNode_a482171821ec61501bae6814aa2293c40}{do\_transmit\_data}}(trav,\ new\_input,\ output);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\ \ \#ifndef\ NDEBUG}}
\DoxyCodeLine{00079\ \ \ \textcolor{keywordflow}{if}\ (dgraph\_cat.is\_spam())\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{bool}\ any\_data\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00081\ \ \ \ \ Wires::const\_iterator\ wi;}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordflow}{for}\ (wi\ =\ \_output\_wires.begin();\ wi\ !=\ \_output\_wires.end();\ ++wi)\ \{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name\ =\ (*wi).first;}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \textcolor{keyword}{const}\ WireDef\ \&def\ =\ (*wi).second;}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (output.has\_data(def.\_index))\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!any\_data)\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ dgraph\_cat.spam()}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ *\textcolor{keyword}{this}\ <<\ \textcolor{stringliteral}{"{}\ transmits:\(\backslash\)n"{}};}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ any\_data\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ dgraph\_cat.spam(\textcolor{keyword}{false})}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ name\ <<\ \textcolor{stringliteral}{"{}\ =\ "{}}\ <<\ output.get\_data(def.\_index)}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00095\ \ \ \ \ \}}
\DoxyCodeLine{00096\ \ \ \}}
\DoxyCodeLine{00097\ \textcolor{preprocessor}{\ \ \#endif\ \ }\textcolor{comment}{//\ NDEBUG}}
\DoxyCodeLine{00098\ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00104\ \textcolor{keywordtype}{void}\ DataNode::}
\DoxyCodeLine{00105\ write\_inputs(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00106\ \ \ Wires::const\_iterator\ wi;}
\DoxyCodeLine{00107\ \ \ \textcolor{keywordflow}{for}\ (wi\ =\ \_input\_wires.begin();\ wi\ !=\ \_input\_wires.end();\ ++wi)\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name\ =\ (*wi).first;}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keyword}{const}\ WireDef\ \&def\ =\ (*wi).second;}
\DoxyCodeLine{00110\ \ \ \ \ out\ <<\ name\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ def.\_data\_type\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00111\ \ \ \}}
\DoxyCodeLine{00112\ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00118\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDataNode_af03f26eae729503de8888e8f4f9a3a0c}{DataNode::}}}
\DoxyCodeLine{00119\ \mbox{\hyperlink{classDataNode_af03f26eae729503de8888e8f4f9a3a0c}{write\_outputs}}(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00120\ \ \ Wires::const\_iterator\ wi;}
\DoxyCodeLine{00121\ \ \ \textcolor{keywordflow}{for}\ (wi\ =\ \_output\_wires.begin();\ wi\ !=\ \_output\_wires.end();\ ++wi)\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name\ =\ (*wi).first;}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{const}\ WireDef\ \&def\ =\ (*wi).second;}
\DoxyCodeLine{00124\ \ \ \ \ out\ <<\ name\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ def.\_data\_type\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00125\ \ \ \}}
\DoxyCodeLine{00126\ \}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00132\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDataNode_a26cc6cdd57dcb77881ad6c5cfb679951}{DataNode::}}}
\DoxyCodeLine{00133\ \mbox{\hyperlink{classDataNode_a26cc6cdd57dcb77881ad6c5cfb679951}{write\_connections}}(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00134\ \ \ DataConnections::const\_iterator\ ci;}
\DoxyCodeLine{00135\ \ \ \textcolor{keywordflow}{for}\ (ci\ =\ \_data\_connections.begin();\ ci\ !=\ \_data\_connections.end();\ ++ci)\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keyword}{const}\ DataConnection\ \&connect\ =\ (*ci);}
\DoxyCodeLine{00137\ \ \ \ \ nassertv(connect.\_parent\_index\ >=\ 0\ \&\&\ connect.\_parent\_index\ <\ get\_num\_parents());}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{comment}{//\ Now\ we\ have\ to\ search\ exhaustively\ for\ the\ input\ with\ the\ matching}}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{comment}{//\ index\ number.}}
\DoxyCodeLine{00141\ \ \ \ \ Wires::const\_iterator\ wi;}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordtype}{bool}\ found\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordflow}{for}\ (wi\ =\ \_input\_wires.begin();\ wi\ !=\ \_input\_wires.end()\ \&\&\ !found;\ ++wi)\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name\ =\ (*wi).first;}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \textcolor{keyword}{const}\ WireDef\ \&def\ =\ (*wi).second;}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (def.\_index\ ==\ connect.\_input\_index)\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ out\ <<\ name\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ def.\_data\_type\ <<\ \textcolor{stringliteral}{"{}\ from\ "{}}}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ *get\_parent(connect.\_parent\_index)\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ found\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00151\ \ \ \ \ \}}
\DoxyCodeLine{00152\ \ \ \ \ nassertv(found);}
\DoxyCodeLine{00153\ \ \ \}}
\DoxyCodeLine{00154\ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00168\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDataNode_a120047bf71e5dd23ceb21ffe0e103510}{DataNode::}}}
\DoxyCodeLine{00169\ \mbox{\hyperlink{classDataNode_a120047bf71e5dd23ceb21ffe0e103510}{define\_input}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name,\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ data\_type)\ \{}
\DoxyCodeLine{00170\ \ \ \textcolor{comment}{//\ We\ shouldn't\ already\ be\ connected.}}
\DoxyCodeLine{00171\ \ \ nassertr(\_data\_connections.empty(),\ 0);}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00173\ \ \ Wires::iterator\ wi;}
\DoxyCodeLine{00174\ \ \ wi\ =\ \_input\_wires.find(name);}
\DoxyCodeLine{00175\ \ \ \textcolor{keywordflow}{if}\ (wi\ !=\ \_input\_wires.end())\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{comment}{//\ This\ wire\ already\ existed;\ modify\ it\ and\ return\ the\ original\ index.}}
\DoxyCodeLine{00177\ \ \ \ \ WireDef\ \&def\ =\ (*wi).second;}
\DoxyCodeLine{00178\ \ \ \ \ def.\_data\_type\ =\ data\_type;}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordflow}{return}\ def.\_index;}
\DoxyCodeLine{00180\ \ \ \}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \textcolor{comment}{//\ This\ wire\ did\ not\ already\ exist;\ add\ it.}}
\DoxyCodeLine{00183\ \ \ WireDef\ \&def\ =\ \_input\_wires[name];}
\DoxyCodeLine{00184\ \ \ def.\_data\_type\ =\ data\_type;}
\DoxyCodeLine{00185\ \ \ def.\_index\ =\ \_input\_wires.size()\ -\/\ 1;}
\DoxyCodeLine{00186\ \ \ \textcolor{keywordflow}{return}\ def.\_index;}
\DoxyCodeLine{00187\ \}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00201\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDataNode_a460e3b6f0148f1885104a4766e7f1f61}{DataNode::}}}
\DoxyCodeLine{00202\ \mbox{\hyperlink{classDataNode_a460e3b6f0148f1885104a4766e7f1f61}{define\_output}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name,\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ data\_type)\ \{}
\DoxyCodeLine{00203\ \ \ \textcolor{comment}{//\ We\ shouldn't\ already\ be\ connected.}}
\DoxyCodeLine{00204\ \ \ nassertr(\_data\_connections.empty(),\ 0);}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ Wires::iterator\ wi;}
\DoxyCodeLine{00207\ \ \ wi\ =\ \_output\_wires.find(name);}
\DoxyCodeLine{00208\ \ \ \textcolor{keywordflow}{if}\ (wi\ !=\ \_output\_wires.end())\ \{}
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{comment}{//\ This\ wire\ already\ existed;\ modify\ it\ and\ return\ the\ original\ index.}}
\DoxyCodeLine{00210\ \ \ \ \ WireDef\ \&def\ =\ (*wi).second;}
\DoxyCodeLine{00211\ \ \ \ \ def.\_data\_type\ =\ data\_type;}
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keywordflow}{return}\ def.\_index;}
\DoxyCodeLine{00213\ \ \ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \textcolor{comment}{//\ This\ wire\ did\ not\ already\ exist;\ add\ it.}}
\DoxyCodeLine{00216\ \ \ WireDef\ \&def\ =\ \_output\_wires[name];}
\DoxyCodeLine{00217\ \ \ def.\_data\_type\ =\ data\_type;}
\DoxyCodeLine{00218\ \ \ def.\_index\ =\ \_output\_wires.size()\ -\/\ 1;}
\DoxyCodeLine{00219\ \ \ \textcolor{keywordflow}{return}\ def.\_index;}
\DoxyCodeLine{00220\ \}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00227\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDataNode_a17882afe2e3d5d45a6434b20bf807ac3}{DataNode::}}}
\DoxyCodeLine{00228\ \mbox{\hyperlink{classDataNode_a17882afe2e3d5d45a6434b20bf807ac3}{parents\_changed}}()\ \{}
\DoxyCodeLine{00229\ \ \ \mbox{\hyperlink{classPandaNode_a6730fd19532985902c74adae145b8572}{PandaNode::parents\_changed}}();}
\DoxyCodeLine{00230\ \ \ reconnect();}
\DoxyCodeLine{00231\ \}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00241\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDataNode_a482171821ec61501bae6814aa2293c40}{DataNode::}}}
\DoxyCodeLine{00242\ \mbox{\hyperlink{classDataNode_a482171821ec61501bae6814aa2293c40}{do\_transmit\_data}}(\mbox{\hyperlink{classDataGraphTraverser}{DataGraphTraverser}}\ *,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classDataNodeTransmit}{DataNodeTransmit}}\ \&,}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classDataNodeTransmit}{DataNodeTransmit}}\ \&)\ \{}
\DoxyCodeLine{00244\ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00250\ \textcolor{keywordtype}{void}\ DataNode::}
\DoxyCodeLine{00251\ reconnect()\ \{}
\DoxyCodeLine{00252\ \ \ \textcolor{keywordtype}{int}\ num\_parents\ =\ get\_num\_parents();}
\DoxyCodeLine{00253\ \ \ \_data\_connections.clear();}
\DoxyCodeLine{00254\ \ \ \textcolor{comment}{//\ Look\ for\ each\ input\ among\ one\ of\ the\ parents.}}
\DoxyCodeLine{00255\ \ \ \textcolor{keywordtype}{int}\ num\_datanode\_parents\ =\ 0;}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \ \ Wires::const\_iterator\ wi;}
\DoxyCodeLine{00258\ \ \ \textcolor{keywordflow}{for}\ (wi\ =\ \_input\_wires.begin();\ wi\ !=\ \_input\_wires.end();\ ++wi)\ \{}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name\ =\ (*wi).first;}
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keyword}{const}\ WireDef\ \&input\_def\ =\ (*wi).second;}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_found\ =\ 0;}
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_parents;\ i++)\ \{}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *parent\_node\ =\ get\_parent(i);}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (parent\_node-\/>is\_of\_type(DataNode::get\_class\_type()))\ \{}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classDataNode}{DataNode}}\ *data\_node\ =\ DCAST(\mbox{\hyperlink{classDataNode}{DataNode}},\ parent\_node);}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ num\_datanode\_parents++;}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ Wires::const\_iterator\ pi;}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ pi\ =\ data\_node-\/>\_output\_wires.find(name);}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pi\ !=\ data\_node-\/>\_output\_wires.end())\ \{}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ WireDef\ \&output\_def\ =\ (*pi).second;}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ num\_found++;}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (output\_def.\_data\_type\ !=\ input\_def.\_data\_type)\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ dgraph\_cat.warning()}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Ignoring\ mismatched\ type\ for\ connection\ "{}}\ <<\ name}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ between\ "{}}\ <<\ *data\_node\ <<\ \textcolor{stringliteral}{"{}\ and\ "{}}\ <<\ *\textcolor{keyword}{this}\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ DataConnection\ dc;}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ dc.\_parent\_index\ =\ i;}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ dc.\_output\_index\ =\ output\_def.\_index;}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ dc.\_input\_index\ =\ input\_def.\_index;}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \_data\_connections.push\_back(dc);}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00286\ \ \ \ \ \}}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_found\ >\ 1)\ \{}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dgraph\_cat.is\_debug())\ \{}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ dgraph\_cat.debug()}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Multiple\ connections\ found\ for\ "{}}\ <<\ name\ <<\ \textcolor{stringliteral}{"{}\ into\ "{}}\ <<\ *\textcolor{keyword}{this}}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00294\ \ \ \ \ \}}
\DoxyCodeLine{00295\ \ \ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \textcolor{keywordflow}{if}\ (\_data\_connections.empty()\ \&\&\ get\_num\_inputs()\ !=\ 0\ \&\&}
\DoxyCodeLine{00298\ \ \ \ \ \ \ num\_datanode\_parents\ !=\ 0)\ \{}
\DoxyCodeLine{00299\ \ \ \ \ dgraph\_cat.warning()}
\DoxyCodeLine{00300\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}No\ data\ connected\ to\ "{}}\ <<\ *\textcolor{keyword}{this}\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00301\ \ \ \}}
\DoxyCodeLine{00302\ \}}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00308\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDataNode_ad8c31bd9b5d9cba39c547c6e20c6b9e9}{DataNode::}}}
\DoxyCodeLine{00309\ \mbox{\hyperlink{classDataNode_ad8c31bd9b5d9cba39c547c6e20c6b9e9}{write\_datagram}}(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg)\ \{}
\DoxyCodeLine{00310\ \ \ \mbox{\hyperlink{classPandaNode_ae9b3055297ade9bbf4a3b4dfc77e4506}{PandaNode::write\_datagram}}(manager,\ dg);}
\DoxyCodeLine{00311\ \}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00317\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDataNode_a011274ec281dff6cd3e5abd925fd988c}{DataNode::}}}
\DoxyCodeLine{00318\ \mbox{\hyperlink{classDataNode_a011274ec281dff6cd3e5abd925fd988c}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00319\ \ \ \mbox{\hyperlink{classPandaNode_a924d7f721627231f4504db71809ad2c2}{PandaNode::fillin}}(scan,\ manager);}
\DoxyCodeLine{00320\ \}}

\end{DoxyCode}
