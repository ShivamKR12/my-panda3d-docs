\doxysection{PNMWriter Class Reference}
\hypertarget{classPNMWriter}{}\label{classPNMWriter}\index{PNMWriter@{PNMWriter}}


{\ttfamily \#include $<$pnm\+Writer.\+h$>$}

Inheritance diagram for PNMWriter\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classPNMWriter}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classPNMWriter_a9f5ee21d6a8a86e14bb97bd3769ed99b}\label{classPNMWriter_a9f5ee21d6a8a86e14bb97bd3769ed99b} 
INLINE \mbox{\hyperlink{classPNMFileType}{PNMFile\+Type}} \texorpdfstring{$\ast$}{*} {\bfseries get\+\_\+type} () const
\item 
\Hypertarget{classPNMWriter_af590d145459213f69553461ccf06dd85}\label{classPNMWriter_af590d145459213f69553461ccf06dd85} 
INLINE void {\bfseries set\+\_\+color\+\_\+type} (Color\+Type type)
\item 
\Hypertarget{classPNMWriter_ad2bf94000f3027d0f86ee61bdd704aa7}\label{classPNMWriter_ad2bf94000f3027d0f86ee61bdd704aa7} 
INLINE void {\bfseries set\+\_\+num\+\_\+channels} (int num\+\_\+channels)
\item 
\Hypertarget{classPNMWriter_af40d245ba8addd72fe615b47174f728e}\label{classPNMWriter_af40d245ba8addd72fe615b47174f728e} 
INLINE void {\bfseries set\+\_\+maxval} (xelval maxval)
\item 
\Hypertarget{classPNMWriter_a9c0e5b22968f607bd758e83969a86b34}\label{classPNMWriter_a9c0e5b22968f607bd758e83969a86b34} 
INLINE void {\bfseries set\+\_\+x\+\_\+size} (int x\+\_\+size)
\item 
\Hypertarget{classPNMWriter_afd9565701a8bc58cb26af0c806a40892}\label{classPNMWriter_afd9565701a8bc58cb26af0c806a40892} 
INLINE void {\bfseries set\+\_\+y\+\_\+size} (int y\+\_\+size)
\item 
\Hypertarget{classPNMWriter_a0d3a08c36370d5e6c1b7f2bda6be15ad}\label{classPNMWriter_a0d3a08c36370d5e6c1b7f2bda6be15ad} 
INLINE void {\bfseries copy\+\_\+header\+\_\+from} (const \mbox{\hyperlink{classPNMImageHeader}{PNMImage\+Header}} \&header)
\item 
virtual bool \mbox{\hyperlink{classPNMWriter_ad3bfccea9f44d009760ed749bf437d79}{supports\+\_\+floating\+\_\+point}} ()
\item 
virtual bool \mbox{\hyperlink{classPNMWriter_ad724a1b55352d04d5a655bfe43fc253a}{supports\+\_\+integer}} ()
\item 
virtual bool \mbox{\hyperlink{classPNMWriter_a6ea6d27b3bad22d109ecd3bc45f444c9}{write\+\_\+pfm}} (const \mbox{\hyperlink{classPfmFile}{Pfm\+File}} \&pfm)
\item 
virtual int \mbox{\hyperlink{classPNMWriter_a3c55c68ce59dfceb35e1c19862d0b5d5}{write\+\_\+data}} (\mbox{\hyperlink{structpixel}{xel}} \texorpdfstring{$\ast$}{*}array, xelval \texorpdfstring{$\ast$}{*}alpha)
\item 
virtual bool \mbox{\hyperlink{classPNMWriter_a523ebece75b7d4311418f3ae712e28e8}{supports\+\_\+write\+\_\+row}} () const
\item 
virtual bool \mbox{\hyperlink{classPNMWriter_ad1f594df4ff64592ede59e6c559d5049}{supports\+\_\+grayscale}} () const
\item 
virtual bool \mbox{\hyperlink{classPNMWriter_a4772948d7000f0de1a74fa34124663ae}{write\+\_\+header}} ()
\item 
virtual bool \mbox{\hyperlink{classPNMWriter_aad9809add1b0098bb76d7bd296b86080}{write\+\_\+row}} (\mbox{\hyperlink{structpixel}{xel}} \texorpdfstring{$\ast$}{*}array, xelval \texorpdfstring{$\ast$}{*}alpha)
\item 
virtual bool \mbox{\hyperlink{classPNMWriter_a9aa11a8e18b8ab10692c3ee8c5bce5b3}{supports\+\_\+stream\+\_\+write}} () const
\item 
\Hypertarget{classPNMWriter_a602cf3f68e61922dd14bb02e9afd1bd8}\label{classPNMWriter_a602cf3f68e61922dd14bb02e9afd1bd8} 
INLINE bool {\bfseries is\+\_\+valid} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classPNMWriter_aa7ccd7ee3975ffc2ff2f6c1d8e61d57f}\label{classPNMWriter_aa7ccd7ee3975ffc2ff2f6c1d8e61d57f} 
INLINE {\bfseries PNMWriter} (\mbox{\hyperlink{classPNMFileType}{PNMFile\+Type}} \texorpdfstring{$\ast$}{*}type, std\+::ostream \texorpdfstring{$\ast$}{*}file, bool owns\+\_\+file)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classPNMImageHeader}{PNMImage\+Header}}}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classPNMImageHeader_aa26529ef9e31a2037211861869e9621c}{compute\+\_\+histogram}} (\mbox{\hyperlink{classpmap}{Hist\+Map}} \&hist, \mbox{\hyperlink{structpixel}{xel}} \texorpdfstring{$\ast$}{*}array, xelval \texorpdfstring{$\ast$}{*}alpha, int max\+\_\+colors=0)
\item 
bool \mbox{\hyperlink{classPNMImageHeader_ab533cf42415a83e27e90038a455840d4}{compute\+\_\+palette}} (\mbox{\hyperlink{classpvector}{Palette}} \&palette, \mbox{\hyperlink{structpixel}{xel}} \texorpdfstring{$\ast$}{*}array, xelval \texorpdfstring{$\ast$}{*}alpha, int max\+\_\+colors=0)
\item 
INLINE void {\bfseries record\+\_\+color} (\mbox{\hyperlink{classpmap}{Hist\+Map}} \&hist, const Pixel\+Spec \&\mbox{\hyperlink{structcolor}{color}})
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classPNMWriter_a4725ae2d100ac9e024b290b69e02ff3a}\label{classPNMWriter_a4725ae2d100ac9e024b290b69e02ff3a} 
\mbox{\hyperlink{classPNMFileType}{PNMFile\+Type}} \texorpdfstring{$\ast$}{*} {\bfseries \+\_\+type}
\item 
\Hypertarget{classPNMWriter_ae0778c9b87fe1460503ae4753c09f376}\label{classPNMWriter_ae0778c9b87fe1460503ae4753c09f376} 
bool {\bfseries \+\_\+owns\+\_\+file}
\item 
\Hypertarget{classPNMWriter_a9134168ab1b3a7999ec5e7c9dc3e4705}\label{classPNMWriter_a9134168ab1b3a7999ec5e7c9dc3e4705} 
std\+::ostream \texorpdfstring{$\ast$}{*} {\bfseries \+\_\+file}
\item 
\Hypertarget{classPNMWriter_a02044b49400d73f38229a850a828c2f3}\label{classPNMWriter_a02044b49400d73f38229a850a828c2f3} 
bool {\bfseries \+\_\+is\+\_\+valid}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classPNMImageHeader}{PNMImage\+Header}}}
\begin{DoxyCompactItemize}
\item 
int {\bfseries \+\_\+x\+\_\+size}
\item 
int {\bfseries \+\_\+y\+\_\+size}
\item 
int {\bfseries \+\_\+num\+\_\+channels}
\item 
xelval {\bfseries \+\_\+maxval}
\item 
Color\+Space {\bfseries \+\_\+color\+\_\+space}
\item 
std\+::string {\bfseries \+\_\+comment}
\item 
\mbox{\hyperlink{classPNMFileType}{PNMFile\+Type}} \texorpdfstring{$\ast$}{*} {\bfseries \+\_\+type}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Attributes inherited from \mbox{\hyperlink{classMemoryBase}{Memory\+Base}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries ALLOC\+\_\+\+MEMORY\+\_\+\+BASE}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This is an abstract base class that defines the interface for writing image files of various types. Any particular image file type that can be written must define a class that inherits from \doxylink{classPNMWriter}{PNMWriter} to write it. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classPNMWriter_ad3bfccea9f44d009760ed749bf437d79}\label{classPNMWriter_ad3bfccea9f44d009760ed749bf437d79} 
\index{PNMWriter@{PNMWriter}!supports\_floating\_point@{supports\_floating\_point}}
\index{supports\_floating\_point@{supports\_floating\_point}!PNMWriter@{PNMWriter}}
\doxysubsubsection{\texorpdfstring{supports\_floating\_point()}{supports\_floating\_point()}}
{\footnotesize\ttfamily bool PNMWriter\+::supports\+\_\+floating\+\_\+point (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Returns true if this \doxylink{classPNMFileType}{PNMFile\+Type} can accept a floating-\/point image type, false if it can only accept a normal, integer type. If this returns true, \doxylink{classPNMWriter_a6ea6d27b3bad22d109ecd3bc45f444c9}{write\+\_\+pfm()} is implemented. 

Reimplemented in \mbox{\hyperlink{classPNMFileTypePfm_1_1Writer_a75481d269d7b605f294cc6fd1a046840}{PNMFile\+Type\+Pfm\+::\+Writer}}.

\Hypertarget{classPNMWriter_ad1f594df4ff64592ede59e6c559d5049}\label{classPNMWriter_ad1f594df4ff64592ede59e6c559d5049} 
\index{PNMWriter@{PNMWriter}!supports\_grayscale@{supports\_grayscale}}
\index{supports\_grayscale@{supports\_grayscale}!PNMWriter@{PNMWriter}}
\doxysubsubsection{\texorpdfstring{supports\_grayscale()}{supports\_grayscale()}}
{\footnotesize\ttfamily bool PNMWriter\+::supports\+\_\+grayscale (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns true if this particular \doxylink{classPNMWriter}{PNMWriter} understands grayscale images. If this is false, then the rgb values of the xel array will be pre-\/filled with the same value across all three channels, to allow the writer to simply write out RGB data for a grayscale image. \Hypertarget{classPNMWriter_ad724a1b55352d04d5a655bfe43fc253a}\label{classPNMWriter_ad724a1b55352d04d5a655bfe43fc253a} 
\index{PNMWriter@{PNMWriter}!supports\_integer@{supports\_integer}}
\index{supports\_integer@{supports\_integer}!PNMWriter@{PNMWriter}}
\doxysubsubsection{\texorpdfstring{supports\_integer()}{supports\_integer()}}
{\footnotesize\ttfamily bool PNMWriter\+::supports\+\_\+integer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Returns true if this \doxylink{classPNMFileType}{PNMFile\+Type} can accept an integer image type, false if it can only accept a floating-\/point type. If this returns true, \doxylink{classPNMWriter_a3c55c68ce59dfceb35e1c19862d0b5d5}{write\+\_\+data()} or \doxylink{classPNMWriter_aad9809add1b0098bb76d7bd296b86080}{write\+\_\+row()} is implemented. 

Reimplemented in \mbox{\hyperlink{classPNMFileTypePfm_1_1Writer_a5eb87b55da41f3d38541ae2ba1165c08}{PNMFile\+Type\+Pfm\+::\+Writer}}.

\Hypertarget{classPNMWriter_a9aa11a8e18b8ab10692c3ee8c5bce5b3}\label{classPNMWriter_a9aa11a8e18b8ab10692c3ee8c5bce5b3} 
\index{PNMWriter@{PNMWriter}!supports\_stream\_write@{supports\_stream\_write}}
\index{supports\_stream\_write@{supports\_stream\_write}!PNMWriter@{PNMWriter}}
\doxysubsubsection{\texorpdfstring{supports\_stream\_write()}{supports\_stream\_write()}}
{\footnotesize\ttfamily bool PNMWriter\+::supports\+\_\+stream\+\_\+write (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns true if this particular \doxylink{classPNMWriter}{PNMWriter} can write to a general stream (including pipes, etc.), or false if the writer must occasionally fseek() on its output stream, and thus only disk streams are supported. \Hypertarget{classPNMWriter_a523ebece75b7d4311418f3ae712e28e8}\label{classPNMWriter_a523ebece75b7d4311418f3ae712e28e8} 
\index{PNMWriter@{PNMWriter}!supports\_write\_row@{supports\_write\_row}}
\index{supports\_write\_row@{supports\_write\_row}!PNMWriter@{PNMWriter}}
\doxysubsubsection{\texorpdfstring{supports\_write\_row()}{supports\_write\_row()}}
{\footnotesize\ttfamily bool PNMWriter\+::supports\+\_\+write\+\_\+row (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}

Returns true if this particular \doxylink{classPNMWriter}{PNMWriter} supports a streaming interface to writing the data\+: that is, it is capable of writing the image one row at a time, via repeated calls to \doxylink{classPNMWriter_aad9809add1b0098bb76d7bd296b86080}{write\+\_\+row()}. Returns false if the only way to write from this file is all at once, via \doxylink{classPNMWriter_a3c55c68ce59dfceb35e1c19862d0b5d5}{write\+\_\+data()}. \Hypertarget{classPNMWriter_a3c55c68ce59dfceb35e1c19862d0b5d5}\label{classPNMWriter_a3c55c68ce59dfceb35e1c19862d0b5d5} 
\index{PNMWriter@{PNMWriter}!write\_data@{write\_data}}
\index{write\_data@{write\_data}!PNMWriter@{PNMWriter}}
\doxysubsubsection{\texorpdfstring{write\_data()}{write\_data()}}
{\footnotesize\ttfamily int PNMWriter\+::write\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structpixel}{xel}} \texorpdfstring{$\ast$}{*}}]{array,  }\item[{xelval \texorpdfstring{$\ast$}{*}}]{alpha }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Writes out an entire image all at once, including the header, based on the image data stored in the given \+\_\+x\+\_\+size \texorpdfstring{$\ast$}{*} \+\_\+y\+\_\+size array and alpha pointers. (If the image type has no alpha channel, alpha is ignored.) Returns the number of rows correctly written.

It is the user\textquotesingle{}s responsibility to fill in the header data via calls to set\+\_\+x\+\_\+size(), set\+\_\+num\+\_\+channels(), etc., or copy\+\_\+header\+\_\+from(), before calling \doxylink{classPNMWriter_a3c55c68ce59dfceb35e1c19862d0b5d5}{write\+\_\+data()}.

It is important to delete the \doxylink{classPNMWriter}{PNMWriter} class after successfully writing the data. Failing to do this may result in some data not getting flushed!

Derived classes need not override this if they instead provide supports\+\_\+streaming() and \doxylink{classPNMWriter_aad9809add1b0098bb76d7bd296b86080}{write\+\_\+row()}, below. \Hypertarget{classPNMWriter_a4772948d7000f0de1a74fa34124663ae}\label{classPNMWriter_a4772948d7000f0de1a74fa34124663ae} 
\index{PNMWriter@{PNMWriter}!write\_header@{write\_header}}
\index{write\_header@{write\_header}!PNMWriter@{PNMWriter}}
\doxysubsubsection{\texorpdfstring{write\_header()}{write\_header()}}
{\footnotesize\ttfamily bool PNMWriter\+::write\+\_\+header (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

If \doxylink{classPNMWriter_a523ebece75b7d4311418f3ae712e28e8}{supports\+\_\+write\+\_\+row()}, above, returns true, this function may be called to write out the image header in preparation to writing out the image data one row at a time. Returns true if the header is successfully written, false if there is an error.

It is the user\textquotesingle{}s responsibility to fill in the header data via calls to set\+\_\+x\+\_\+size(), set\+\_\+num\+\_\+channels(), etc., or copy\+\_\+header\+\_\+from(), before calling \doxylink{classPNMWriter_a4772948d7000f0de1a74fa34124663ae}{write\+\_\+header()}. \Hypertarget{classPNMWriter_a6ea6d27b3bad22d109ecd3bc45f444c9}\label{classPNMWriter_a6ea6d27b3bad22d109ecd3bc45f444c9} 
\index{PNMWriter@{PNMWriter}!write\_pfm@{write\_pfm}}
\index{write\_pfm@{write\_pfm}!PNMWriter@{PNMWriter}}
\doxysubsubsection{\texorpdfstring{write\_pfm()}{write\_pfm()}}
{\footnotesize\ttfamily bool PNMWriter\+::write\+\_\+pfm (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classPfmFile}{Pfm\+File}} \&}]{pfm }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Writes floating-\/point data from the indicated \doxylink{classPfmFile}{Pfm\+File}. Returns true on success, false on failure. 

Reimplemented in \mbox{\hyperlink{classPNMFileTypePfm_1_1Writer_a8298df4954b2317d0e6f2c45e6de4b0b}{PNMFile\+Type\+Pfm\+::\+Writer}}.

\Hypertarget{classPNMWriter_aad9809add1b0098bb76d7bd296b86080}\label{classPNMWriter_aad9809add1b0098bb76d7bd296b86080} 
\index{PNMWriter@{PNMWriter}!write\_row@{write\_row}}
\index{write\_row@{write\_row}!PNMWriter@{PNMWriter}}
\doxysubsubsection{\texorpdfstring{write\_row()}{write\_row()}}
{\footnotesize\ttfamily bool PNMWriter\+::write\+\_\+row (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structpixel}{xel}} \texorpdfstring{$\ast$}{*}}]{array,  }\item[{xelval \texorpdfstring{$\ast$}{*}}]{alpha }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

If \doxylink{classPNMWriter_a523ebece75b7d4311418f3ae712e28e8}{supports\+\_\+write\+\_\+row()}, above, returns true, this function may be called repeatedly to write the image, one horizontal row at a time, beginning from the top. Returns true if the row is successfully written, false if there is an error.

You must first call \doxylink{classPNMWriter_a4772948d7000f0de1a74fa34124663ae}{write\+\_\+header()} before writing the individual rows. It is also important to delete the \doxylink{classPNMWriter}{PNMWriter} class after successfully writing the last row. Failing to do this may result in some data not getting flushed! 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
panda/src/pnmimage/\mbox{\hyperlink{pnmWriter_8h}{pnm\+Writer.\+h}}\item 
panda/src/pnmimage/\mbox{\hyperlink{pnmWriter_8cxx}{pnm\+Writer.\+cxx}}\end{DoxyCompactItemize}
