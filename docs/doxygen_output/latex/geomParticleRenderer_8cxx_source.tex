\doxysection{geom\+Particle\+Renderer.\+cxx}
\hypertarget{geomParticleRenderer_8cxx_source}{}\label{geomParticleRenderer_8cxx_source}\index{panda/src/particlesystem/geomParticleRenderer.cxx@{panda/src/particlesystem/geomParticleRenderer.cxx}}
\mbox{\hyperlink{geomParticleRenderer_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomParticleRenderer_8h}{geomParticleRenderer.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{baseParticle_8h}{baseParticle.h}}"{}}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{transformState_8h}{transformState.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{colorScaleAttrib_8h}{colorScaleAttrib.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{colorAttrib_8h}{colorAttrib.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pStatTimer_8h}{pStatTimer.h}}"{}}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ GeomParticleRenderer::\_render\_collector(\textcolor{stringliteral}{"{}App:Particles:Geom:Render"{}});}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00028\ GeomParticleRenderer::}
\DoxyCodeLine{00029\ GeomParticleRenderer(ParticleRendererAlphaMode\ am,\ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *geom\_node)\ :}
\DoxyCodeLine{00030\ \ \ \mbox{\hyperlink{classBaseParticleRenderer}{BaseParticleRenderer}}(am),}
\DoxyCodeLine{00031\ \ \ \_geom\_node(geom\_node),}
\DoxyCodeLine{00032\ \ \ \_color\_interpolation\_manager(new\ \mbox{\hyperlink{classColorInterpolationManager}{ColorInterpolationManager}}(LColor(1.0f,1.0f,1.0f,1.0f))),}
\DoxyCodeLine{00033\ \ \ \_pool\_size(0),}
\DoxyCodeLine{00034\ \ \ \_initial\_x\_scale(1.0f),}
\DoxyCodeLine{00035\ \ \ \_final\_x\_scale(1.0f),}
\DoxyCodeLine{00036\ \ \ \_initial\_y\_scale(1.0f),}
\DoxyCodeLine{00037\ \ \ \_final\_y\_scale(1.0f),}
\DoxyCodeLine{00038\ \ \ \_initial\_z\_scale(1.0f),}
\DoxyCodeLine{00039\ \ \ \_final\_z\_scale(1.0f),}
\DoxyCodeLine{00040\ \ \ \_animate\_x\_ratio(false),}
\DoxyCodeLine{00041\ \ \ \_animate\_y\_ratio(false),}
\DoxyCodeLine{00042\ \ \ \_animate\_z\_ratio(false)}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordflow}{if}\ (\_geom\_node.is\_null())}
\DoxyCodeLine{00045\ \ \ \ \ \_geom\_node\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classPandaNode}{PandaNode}}(\textcolor{stringliteral}{"{}empty"{}});}
\DoxyCodeLine{00046\ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00052\ GeomParticleRenderer::}
\DoxyCodeLine{00053\ GeomParticleRenderer(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomParticleRenderer}{GeomParticleRenderer}}\&\ copy)\ :}
\DoxyCodeLine{00054\ \ \ \mbox{\hyperlink{classBaseParticleRenderer}{BaseParticleRenderer}}(copy),}
\DoxyCodeLine{00055\ \ \ \_pool\_size(0),}
\DoxyCodeLine{00056\ \ \ \_initial\_x\_scale(copy.\_initial\_x\_scale),}
\DoxyCodeLine{00057\ \ \ \_final\_x\_scale(copy.\_final\_x\_scale),}
\DoxyCodeLine{00058\ \ \ \_initial\_y\_scale(copy.\_initial\_y\_scale),}
\DoxyCodeLine{00059\ \ \ \_final\_y\_scale(copy.\_final\_y\_scale),}
\DoxyCodeLine{00060\ \ \ \_initial\_z\_scale(copy.\_initial\_z\_scale),}
\DoxyCodeLine{00061\ \ \ \_final\_z\_scale(copy.\_final\_z\_scale),}
\DoxyCodeLine{00062\ \ \ \_animate\_x\_ratio(copy.\_animate\_x\_ratio),}
\DoxyCodeLine{00063\ \ \ \_animate\_y\_ratio(copy.\_animate\_y\_ratio),}
\DoxyCodeLine{00064\ \ \ \_animate\_z\_ratio(copy.\_animate\_z\_ratio)}
\DoxyCodeLine{00065\ \{}
\DoxyCodeLine{00066\ \ \ \_geom\_node\ =\ copy.\_geom\_node;}
\DoxyCodeLine{00067\ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00073\ GeomParticleRenderer::}
\DoxyCodeLine{00074\ \string~GeomParticleRenderer()\ \{}
\DoxyCodeLine{00075\ \ \ kill\_nodes();}
\DoxyCodeLine{00076\ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00082\ \mbox{\hyperlink{classBaseParticleRenderer}{BaseParticleRenderer}}\ *\mbox{\hyperlink{classGeomParticleRenderer_a48443cdbb38df66900100c7170efd32f}{GeomParticleRenderer::}}}
\DoxyCodeLine{00083\ \mbox{\hyperlink{classGeomParticleRenderer_a48443cdbb38df66900100c7170efd32f}{make\_copy}}()\ \{}
\DoxyCodeLine{00084\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGeomParticleRenderer}{GeomParticleRenderer}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{00085\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00090\ \textcolor{keywordtype}{void}\ GeomParticleRenderer::}
\DoxyCodeLine{00091\ init\_geoms()\ \{}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00099\ \textcolor{keywordtype}{void}\ GeomParticleRenderer::}
\DoxyCodeLine{00100\ resize\_pool(\textcolor{keywordtype}{int}\ new\_size)\ \{}
\DoxyCodeLine{00101\ \ \ kill\_nodes();}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \textcolor{comment}{//\ now\ repopulate\ the\ vector\ with\ a\ bunch\ of\ NULLS,\ representing\ potential}}
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{//\ instances\ of\ the\ \_geom\_node.}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \textcolor{keywordtype}{int}\ i;}
\DoxyCodeLine{00107\ \ \ \textcolor{keywordflow}{for}\ (i\ =\ 0;\ i\ <\ new\_size;\ i++)\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \_node\_vector.push\_back(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{00109\ \ \ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \_pool\_size\ =\ new\_size;}
\DoxyCodeLine{00112\ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00118\ \textcolor{keywordtype}{void}\ GeomParticleRenderer::}
\DoxyCodeLine{00119\ kill\_nodes()\ \{}
\DoxyCodeLine{00120\ \ \ \mbox{\hyperlink{classpvector}{pvector}}<\ PT(\mbox{\hyperlink{classPandaNode}{PandaNode}})\ >::iterator\ vec\_iter\ =\ \_node\_vector.begin();}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *render\_node\ =\ get\_render\_node();}
\DoxyCodeLine{00123\ \ \ \textcolor{keywordflow}{for}\ (;\ vec\_iter\ !=\ \_node\_vector.end();\ vec\_iter++)\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *node\ =\ *vec\_iter;}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordflow}{if}\ (node\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ render\_node-\/>\mbox{\hyperlink{classPandaNode_a716da168c3b4828a04dc65b7ebdb89e2}{remove\_child}}(node);}
\DoxyCodeLine{00127\ \ \ \ \ \}}
\DoxyCodeLine{00128\ \ \ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \_node\_vector.erase(\_node\_vector.begin(),\ \_node\_vector.end());}
\DoxyCodeLine{00131\ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00137\ \textcolor{keywordtype}{void}\ GeomParticleRenderer::}
\DoxyCodeLine{00138\ birth\_particle(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{if}\ (\_node\_vector[index]\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00140\ \ \ \ \ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *node\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classPandaNode}{PandaNode}}(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00141\ \ \ \ \ get\_render\_node()-\/>add\_child(node);}
\DoxyCodeLine{00142\ \ \ \ \ node-\/>add\_child(\_geom\_node);}
\DoxyCodeLine{00143\ \ \ \ \ \_node\_vector[index]\ =\ node;}
\DoxyCodeLine{00144\ \ \ \}}
\DoxyCodeLine{00145\ \}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00151\ \textcolor{keywordtype}{void}\ GeomParticleRenderer::}
\DoxyCodeLine{00152\ kill\_particle(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00153\ \ \ \textcolor{keywordflow}{if}\ (\_node\_vector[index]\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00154\ \ \ \ \ get\_render\_node()-\/>\mbox{\hyperlink{classPandaNode_a716da168c3b4828a04dc65b7ebdb89e2}{remove\_child}}(\_node\_vector[index]);}
\DoxyCodeLine{00155\ \ \ \ \ \_node\_vector[index]\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00156\ \ \ \}}
\DoxyCodeLine{00157\ \}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00163\ \textcolor{keywordtype}{void}\ GeomParticleRenderer::}
\DoxyCodeLine{00164\ render(\mbox{\hyperlink{classpvector}{pvector}}<\ PT(\mbox{\hyperlink{classPhysicsObject}{PhysicsObject}})\ >\&\ po\_vector,\ \textcolor{keywordtype}{int}\ ttl\_particles)\ \{}
\DoxyCodeLine{00165\ \ \ \mbox{\hyperlink{classPStatTimer}{PStatTimer}}\ t1(\_render\_collector);}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \mbox{\hyperlink{classBaseParticle}{BaseParticle}}\ *cur\_particle;}
\DoxyCodeLine{00168\ \ \ \textcolor{keywordtype}{int}\ i,\ remaining\_particles\ =\ ttl\_particles;}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \mbox{\hyperlink{classpvector}{pvector}}<\ PT(\mbox{\hyperlink{classPandaNode}{PandaNode}})\ >::iterator\ cur\_node\_iter\ =\ \_node\_vector.begin();}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \textcolor{comment}{//\ run\ through\ the\ particle\ vector}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \textcolor{keywordflow}{for}\ (i\ =\ 0;\ i\ <\ (int)po\_vector.size();\ i++)\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *cur\_node;}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \ \ cur\_particle\ =\ (\mbox{\hyperlink{classBaseParticle}{BaseParticle}}\ *)\ po\_vector[i].p();}
\DoxyCodeLine{00178\ \ \ \ \ cur\_node\ =\ *cur\_node\_iter;}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordflow}{if}\ (cur\_particle-\/>get\_alive())\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \textcolor{comment}{//\ living\ particle}}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cur\_node\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ birth\_particle(i);}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ cur\_node\ =\ *cur\_node\_iter;}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00186\ \ \ \ \ \ \ nassertv(cur\_node\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \ \ cur\_node-\/>\mbox{\hyperlink{classPandaNode_a1546d648fa57896436917ce3fa087d2e}{set\_state}}(\_render\_state);}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \ \ PN\_stdfloat\ t\ =\ cur\_particle-\/>get\_parameterized\_age();}
\DoxyCodeLine{00191\ \ \ \ \ \ \ LColor\ c\ =\ \_color\_interpolation\_manager-\/>generateColor(t);}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\_alpha\_mode\ !=\ PR\_ALPHA\_NONE))\ \{}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ PN\_stdfloat\ alpha\_scalar;}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\_alpha\_mode\ ==\ PR\_ALPHA\_USER)\ \{}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ alpha\_scalar\ =\ get\_user\_alpha();}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ alpha\_scalar\ =\ t;}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_alpha\_mode\ ==\ PR\_ALPHA\_OUT)}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ alpha\_scalar\ =\ 1.0f\ -\/\ alpha\_scalar;}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\_alpha\_mode\ ==\ PR\_ALPHA\_IN\_OUT)}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ alpha\_scalar\ =\ 2.0f\ *\ std::min(alpha\_scalar,\ 1.0f\ -\/\ alpha\_scalar);}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ alpha\_scalar\ *=\ get\_user\_alpha();}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ c[3]\ *=\ alpha\_scalar;}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ cur\_node-\/>\mbox{\hyperlink{classPandaNode_ad28ec939c11631643be230d7f8ddcdf3}{set\_attrib}}(ColorScaleAttrib::make}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (LColor(1.0f,\ 1.0f,\ 1.0f,\ c[3])));}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \ \ \ \ cur\_node-\/>\mbox{\hyperlink{classPandaNode_ad28ec939c11631643be230d7f8ddcdf3}{set\_attrib}}(ColorAttrib::make\_flat(c),\ 0);}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \textcolor{comment}{//\ animate\ scale}}
\DoxyCodeLine{00215\ \ \ \ \ \ \ PN\_stdfloat\ current\_x\_scale\ =\ \_initial\_x\_scale;}
\DoxyCodeLine{00216\ \ \ \ \ \ \ PN\_stdfloat\ current\_y\_scale\ =\ \_initial\_y\_scale;}
\DoxyCodeLine{00217\ \ \ \ \ \ \ PN\_stdfloat\ current\_z\_scale\ =\ \_initial\_z\_scale;}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_animate\_x\_ratio\ ||\ \_animate\_y\_ratio\ ||\ \_animate\_z\_ratio)\ \{}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_animate\_x\_ratio)\ \{}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ current\_x\_scale\ =\ (\_initial\_x\_scale\ +}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (t\ *\ (\_final\_x\_scale\ -\/\ \_initial\_x\_scale)));}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_animate\_y\_ratio)\ \{}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ current\_y\_scale\ =\ (\_initial\_y\_scale\ +}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (t\ *\ (\_final\_y\_scale\ -\/\ \_initial\_y\_scale)));}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_animate\_z\_ratio)\ \{}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ current\_z\_scale\ =\ (\_initial\_z\_scale\ +}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (t\ *\ (\_final\_z\_scale\ -\/\ \_initial\_z\_scale)));}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ cur\_node-\/>\mbox{\hyperlink{classPandaNode_a47b2c6957f65738cd8fcbc66c0603638}{set\_transform}}(TransformState::make\_pos\_quat\_scale}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (cur\_particle-\/>get\_position(),}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cur\_particle-\/>get\_orientation(),}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LVecBase3(current\_x\_scale,\ current\_y\_scale,\ current\_z\_scale)));}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \ \ \textcolor{comment}{//\ maybe\ get\ out\ early\ if\ possible.}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \ \ \ \ \ \ remaining\_particles-\/-\/;}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (remaining\_particles\ ==\ 0)}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00245\ \ \ \ \ \}}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ cur\_node\_iter++;}
\DoxyCodeLine{00248\ \ \ \}}
\DoxyCodeLine{00249\ \}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00254\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGeomParticleRenderer_ac4a0d5d244b3100347214ba4a3de4306}{GeomParticleRenderer::}}}
\DoxyCodeLine{00255\ \mbox{\hyperlink{classGeomParticleRenderer_ac4a0d5d244b3100347214ba4a3de4306}{output}}(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\ \ \#ifndef\ NDEBUG\ }\textcolor{comment}{//[}}
\DoxyCodeLine{00257\ \ \ out<<\textcolor{stringliteral}{"{}GeomParticleRenderer"{}};}
\DoxyCodeLine{00258\ \textcolor{preprocessor}{\ \ \#endif\ }\textcolor{comment}{//]\ NDEBUG}}
\DoxyCodeLine{00259\ \}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00264\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGeomParticleRenderer_a968a137f4f777cf64172cbbc7f5e870f}{GeomParticleRenderer::}}}
\DoxyCodeLine{00265\ \mbox{\hyperlink{classGeomParticleRenderer_a968a137f4f777cf64172cbbc7f5e870f}{write\_linear\_forces}}(std::ostream\ \&out,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00266\ \textcolor{preprocessor}{\ \ \#ifndef\ NDEBUG\ }\textcolor{comment}{//[}}
\DoxyCodeLine{00267\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}});}
\DoxyCodeLine{00268\ \ \ out<<\textcolor{stringliteral}{"{}"{}}<<\textcolor{stringliteral}{"{}\_node\_vector\ ("{}}<<\_node\_vector.size()<<\textcolor{stringliteral}{"{}\ forces)\(\backslash\)n"{}};}
\DoxyCodeLine{00269\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classpvector}{pvector}}<\ PT(\mbox{\hyperlink{classPandaNode}{PandaNode}})\ >::const\_iterator\ i=\_node\_vector.begin();}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ i\ !=\ \_node\_vector.end();}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ ++i)\ \{}
\DoxyCodeLine{00272\ \ \ \ \ (*i)-\/>write(out,\ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);}
\DoxyCodeLine{00273\ \ \ \}}
\DoxyCodeLine{00274\ \textcolor{preprocessor}{\ \ \#endif\ }\textcolor{comment}{//]\ NDEBUG}}
\DoxyCodeLine{00275\ \}}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00280\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGeomParticleRenderer_a3451c5cce514dc036a2be8ef52ab169b}{GeomParticleRenderer::}}}
\DoxyCodeLine{00281\ \mbox{\hyperlink{classGeomParticleRenderer_a3451c5cce514dc036a2be8ef52ab169b}{write}}(std::ostream\ \&out,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00282\ \textcolor{preprocessor}{\ \ \#ifndef\ NDEBUG\ }\textcolor{comment}{//[}}
\DoxyCodeLine{00283\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}});\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}GeomParticleRenderer:\(\backslash\)n"{}};}
\DoxyCodeLine{00284\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_geom\_node\ "{}}<<\_geom\_node<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00285\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_pool\_size\ "{}}<<\_pool\_size<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_initial\_x\_scale\ "{}}<<\_initial\_x\_scale<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00288\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_final\_x\_scale\ "{}}<<\_final\_x\_scale<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00289\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_initial\_y\_scale\ "{}}<<\_initial\_y\_scale<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00290\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_final\_y\_scale\ "{}}<<\_final\_y\_scale<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00291\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_initial\_z\_scale\ "{}}<<\_initial\_z\_scale<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00292\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_final\_z\_scale\ "{}}<<\_final\_z\_scale<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00293\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_animate\_x\_ratio\ "{}}<<\_animate\_x\_ratio<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00294\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_animate\_y\_ratio\ "{}}<<\_animate\_y\_ratio<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00295\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_animate\_z\_ratio\ "{}}<<\_animate\_z\_ratio<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \mbox{\hyperlink{classGeomParticleRenderer_a968a137f4f777cf64172cbbc7f5e870f}{write\_linear\_forces}}(out,\ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);}
\DoxyCodeLine{00298\ \ \ BaseParticleRenderer::write(out,\ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);}
\DoxyCodeLine{00299\ \textcolor{preprocessor}{\ \ \#endif\ }\textcolor{comment}{//]\ NDEBUG}}
\DoxyCodeLine{00300\ \}}

\end{DoxyCode}
