\doxysection{android\+Graphics\+Window.\+cxx}
\hypertarget{androidGraphicsWindow_8cxx_source}{}\label{androidGraphicsWindow_8cxx_source}\index{panda/src/androiddisplay/androidGraphicsWindow.cxx@{panda/src/androiddisplay/androidGraphicsWindow.cxx}}
\mbox{\hyperlink{androidGraphicsWindow_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{androidGraphicsWindow_8h}{androidGraphicsWindow.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{androidGraphicsStateGuardian_8h}{androidGraphicsStateGuardian.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__androiddisplay_8h}{config\_androiddisplay.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{androidGraphicsPipe_8h}{androidGraphicsPipe.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{graphicsPipe_8h}{graphicsPipe.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{keyboardButton_8h}{keyboardButton.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{mouseButton_8h}{mouseButton.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{clockObject_8h}{clockObject.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pStatTimer_8h}{pStatTimer.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{textEncoder_8h}{textEncoder.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{throw__event_8h}{throw\_event.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{nativeWindowHandle_8h}{nativeWindowHandle.h}}"{}}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}android\_native\_app\_glue.h"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ <android/window.h>}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ <android/log.h>}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{extern}\ IMPORT\_CLASS\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structandroid__app}{android\_app}}*\ panda\_android\_app;}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ AndroidGraphicsWindow::\_type\_handle;}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00039\ AndroidGraphicsWindow::}
\DoxyCodeLine{00040\ AndroidGraphicsWindow(\mbox{\hyperlink{classGraphicsEngine}{GraphicsEngine}}\ *engine,\ \mbox{\hyperlink{classGraphicsPipe}{GraphicsPipe}}\ *pipe,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&name,}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ \&fb\_prop,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \&win\_prop,}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flags,}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsStateGuardian}{GraphicsStateGuardian}}\ *gsg,}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsOutput}{GraphicsOutput}}\ *host)\ :}
\DoxyCodeLine{00047\ \ \ \mbox{\hyperlink{classGraphicsWindow}{GraphicsWindow}}(engine,\ pipe,\ name,\ fb\_prop,\ win\_prop,\ flags,\ gsg,\ host),}
\DoxyCodeLine{00048\ \ \ \_primary\_pointer\_down(false),}
\DoxyCodeLine{00049\ \ \ \_mouse\_button\_state(0)}
\DoxyCodeLine{00050\ \{}
\DoxyCodeLine{00051\ \ \ \mbox{\hyperlink{classAndroidGraphicsPipe}{AndroidGraphicsPipe}}\ *android\_pipe;}
\DoxyCodeLine{00052\ \ \ DCAST\_INTO\_V(android\_pipe,\ \_pipe);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \_egl\_display\ =\ android\_pipe-\/>\_egl\_display;}
\DoxyCodeLine{00055\ \ \ \_egl\_surface\ =\ 0;}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \_app\ =\ panda\_android\_app;}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ PT(\mbox{\hyperlink{classGraphicsWindowInputDevice}{GraphicsWindowInputDevice}})\ device\ =\ GraphicsWindowInputDevice::pointer\_and\_keyboard(\textcolor{keyword}{this},\ \textcolor{stringliteral}{"{}keyboard\_mouse"{}});}
\DoxyCodeLine{00060\ \ \ add\_input\_device(device);}
\DoxyCodeLine{00061\ \ \ \_input\ =\ device;}
\DoxyCodeLine{00062\ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00067\ AndroidGraphicsWindow::}
\DoxyCodeLine{00068\ \string~AndroidGraphicsWindow()\ \{}
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{classAndroidGraphicsWindow_a5afd51cbf28917d7891d8e4e41252c60}{destroy\_surface}}();}
\DoxyCodeLine{00070\ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00078\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classAndroidGraphicsWindow_a88e7dd3c8968f797d67c815cb788a10c}{AndroidGraphicsWindow::}}}
\DoxyCodeLine{00079\ \mbox{\hyperlink{classAndroidGraphicsWindow_a88e7dd3c8968f797d67c815cb788a10c}{begin\_frame}}(FrameMode\ mode,\ \mbox{\hyperlink{classThread}{Thread}}\ *current\_thread)\ \{}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{classPStatTimer}{PStatTimer}}\ timer(\_make\_current\_pcollector,\ current\_thread);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ begin\_frame\_spam(mode);}
\DoxyCodeLine{00083\ \ \ \textcolor{keywordflow}{if}\ (\_gsg\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00085\ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ XXX\ not\ open\ yet.}}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordflow}{if}\ (\_egl\_surface\ ==\ EGL\_NO\_SURFACE)\ \{}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00090\ \ \ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \mbox{\hyperlink{classAndroidGraphicsStateGuardian}{AndroidGraphicsStateGuardian}}\ *androidgsg;}
\DoxyCodeLine{00093\ \ \ DCAST\_INTO\_R(androidgsg,\ \_gsg,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00094\ \ \ \{}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{if}\ (eglGetCurrentDisplay()\ ==\ \_egl\_display\ \&\&}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ eglGetCurrentSurface(EGL\_READ)\ ==\ \_egl\_surface\ \&\&}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ eglGetCurrentSurface(EGL\_DRAW)\ ==\ \_egl\_surface\ \&\&}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ eglGetCurrentContext()\ ==\ androidgsg-\/>\_context)\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \textcolor{comment}{//\ No\ need\ to\ make\ the\ context\ current\ again.\ \ Short-\/circuit\ this}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \textcolor{comment}{//\ possibly-\/expensive\ call.}}
\DoxyCodeLine{00101\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \textcolor{comment}{//\ Need\ to\ set\ the\ context.}}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!eglMakeCurrent(\_egl\_display,\ \_egl\_surface,\ \_egl\_surface,\ androidgsg-\/>\_context))\ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ androiddisplay\_cat.error()\ <<\ \textcolor{stringliteral}{"{}Failed\ to\ call\ eglMakeCurrent:\ "{}}}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{config__androiddisplay_8cxx_ad7bc4d698e36f500ff695d9a9f526986}{get\_egl\_error\_string}}(eglGetError())\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00107\ \ \ \ \ \}}
\DoxyCodeLine{00108\ \ \ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \textcolor{comment}{//\ Now\ that\ we\ have\ made\ the\ context\ current\ to\ a\ window,\ we\ can\ reset\ the}}
\DoxyCodeLine{00111\ \ \ \textcolor{comment}{//\ GSG\ state\ if\ this\ is\ the\ first\ time\ it\ has\ been\ used.\ \ (We\ can't\ just}}
\DoxyCodeLine{00112\ \ \ \textcolor{comment}{//\ call\ reset()\ when\ we\ construct\ the\ GSG,\ because\ reset()\ requires\ having\ a}}
\DoxyCodeLine{00113\ \ \ \textcolor{comment}{//\ current\ context.)}}
\DoxyCodeLine{00114\ \ \ androidgsg-\/>reset\_if\_new();}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ FM\_render)\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{//\ begin\_render\_texture();}}
\DoxyCodeLine{00118\ \ \ \ \ clear\_cube\_map\_selection();}
\DoxyCodeLine{00119\ \ \ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \_gsg-\/>set\_current\_properties(\&get\_fb\_properties());}
\DoxyCodeLine{00122\ \ \ \textcolor{keywordflow}{return}\ \_gsg-\/>begin\_frame(current\_thread);}
\DoxyCodeLine{00123\ \}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00130\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classAndroidGraphicsWindow_aef612abffbfe78c9d758c880c2c89a04}{AndroidGraphicsWindow::}}}
\DoxyCodeLine{00131\ \mbox{\hyperlink{classAndroidGraphicsWindow_aef612abffbfe78c9d758c880c2c89a04}{end\_frame}}(FrameMode\ mode,\ \mbox{\hyperlink{classThread}{Thread}}\ *current\_thread)\ \{}
\DoxyCodeLine{00132\ \ \ end\_frame\_spam(mode);}
\DoxyCodeLine{00133\ \ \ nassertv(\_gsg\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ FM\_render)\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{comment}{//\ end\_render\_texture();}}
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{classGraphicsOutput_ab529b939d7812f480d2c56752456acf5}{copy\_to\_textures}}();}
\DoxyCodeLine{00138\ \ \ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \_gsg-\/>end\_frame(current\_thread);}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \textcolor{keywordflow}{if}\ (mode\ ==\ FM\_render)\ \{}
\DoxyCodeLine{00143\ \ \ \ \ trigger\_flip();}
\DoxyCodeLine{00144\ \ \ \ \ clear\_cube\_map\_selection();}
\DoxyCodeLine{00145\ \ \ \}}
\DoxyCodeLine{00146\ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00155\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classAndroidGraphicsWindow_a73b38cf6918648531b754346698a2238}{AndroidGraphicsWindow::}}}
\DoxyCodeLine{00156\ \mbox{\hyperlink{classAndroidGraphicsWindow_a73b38cf6918648531b754346698a2238}{end\_flip}}()\ \{}
\DoxyCodeLine{00157\ \ \ \textcolor{keywordflow}{if}\ (\_gsg\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ \_flip\_ready)\ \{}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{comment}{//\ It\ doesn't\ appear\ to\ be\ necessary\ to\ ensure\ the\ graphics\ context\ is}}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{comment}{//\ current\ before\ flipping\ the\ windows,\ and\ insisting\ on\ doing\ so\ can\ be\ a}}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{comment}{//\ significant\ performance\ hit.}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{comment}{//\ make\_current();}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_egl\_surface\ !=\ EGL\_NO\_SURFACE)\ \{}
\DoxyCodeLine{00166\ \ \ \ \ \ \ eglSwapBuffers(\_egl\_display,\ \_egl\_surface);}
\DoxyCodeLine{00167\ \ \ \ \ \}}
\DoxyCodeLine{00168\ \ \ \}}
\DoxyCodeLine{00169\ \ \ \mbox{\hyperlink{classGraphicsOutput_a593a9030f0b90ee588b1006df9aee604}{GraphicsWindow::end\_flip}}();}
\DoxyCodeLine{00170\ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00179\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classAndroidGraphicsWindow_ab3e8e87a956dfeac2788dddd4b9ca35e}{AndroidGraphicsWindow::}}}
\DoxyCodeLine{00180\ \mbox{\hyperlink{classAndroidGraphicsWindow_ab3e8e87a956dfeac2788dddd4b9ca35e}{process\_events}}()\ \{}
\DoxyCodeLine{00181\ \ \ \mbox{\hyperlink{classGraphicsWindow_ac73229408c1c588f30e690a8f4947917}{GraphicsWindow::process\_events}}();}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \textcolor{comment}{//\ Read\ all\ pending\ events.}}
\DoxyCodeLine{00184\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structandroid__poll__source}{android\_poll\_source}}\ *source;}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \textcolor{keyword}{auto}\ result\ =\ ALooper\_pollOnce(0,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr},\ (\textcolor{keywordtype}{void}\ **)\&source);}
\DoxyCodeLine{00187\ \ \ nassertv(result\ !=\ ALOOPER\_POLL\_ERROR);}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \textcolor{comment}{//\ Process\ this\ event.}}
\DoxyCodeLine{00190\ \ \ \textcolor{keywordflow}{if}\ (source\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00191\ \ \ \ \ source-\/>process(\_app,\ source);}
\DoxyCodeLine{00192\ \ \ \}}
\DoxyCodeLine{00193\ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00207\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classAndroidGraphicsWindow_ac2c1722ef660ca6248a6c250c89ec047}{AndroidGraphicsWindow::}}}
\DoxyCodeLine{00208\ \mbox{\hyperlink{classAndroidGraphicsWindow_ac2c1722ef660ca6248a6c250c89ec047}{set\_properties\_now}}(\mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \&properties)\ \{}
\DoxyCodeLine{00209\ \ \ \textcolor{keywordflow}{if}\ (\_pipe\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{comment}{//\ If\ the\ pipe\ is\ null,\ we're\ probably\ closing\ down.}}
\DoxyCodeLine{00211\ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_adeb1896f5f72fd2959b76dbfb8ca1fe9}{GraphicsWindow::set\_properties\_now}}(properties);}
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00213\ \ \ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \mbox{\hyperlink{classGraphicsWindow_adeb1896f5f72fd2959b76dbfb8ca1fe9}{GraphicsWindow::set\_properties\_now}}(properties);}
\DoxyCodeLine{00216\ \ \ \textcolor{keywordflow}{if}\ (!properties.is\_any\_specified())\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{comment}{//\ The\ base\ class\ has\ already\ handled\ this\ case.}}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00219\ \ \ \}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \textcolor{comment}{//\ There's\ not\ really\ much\ we\ can\ change\ on\ Android.}}
\DoxyCodeLine{00222\ \ \ \textcolor{keywordflow}{if}\ (properties.has\_fullscreen())\ \{}
\DoxyCodeLine{00223\ \ \ \ \ uint32\_t\ add\_flags\ =\ 0;}
\DoxyCodeLine{00224\ \ \ \ \ uint32\_t\ del\_flags\ =\ 0;}
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_properties.get\_fullscreen())\ \{}
\DoxyCodeLine{00226\ \ \ \ \ \ \ add\_flags\ |=\ AWINDOW\_FLAG\_FULLSCREEN;}
\DoxyCodeLine{00227\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ del\_flags\ |=\ AWINDOW\_FLAG\_FULLSCREEN;}
\DoxyCodeLine{00229\ \ \ \ \ \}}
\DoxyCodeLine{00230\ \ \ \ \ ANativeActivity\_setWindowFlags(\_app-\/>activity,\ add\_flags,\ del\_flags);}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \ \ \_properties.set\_fullscreen(properties.get\_fullscreen());}
\DoxyCodeLine{00233\ \ \ \ \ properties.clear\_fullscreen();}
\DoxyCodeLine{00234\ \ \ \}}
\DoxyCodeLine{00235\ \}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00240\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classAndroidGraphicsWindow_a7436f11d2e4e2676f9f0584971d6b12a}{AndroidGraphicsWindow::}}}
\DoxyCodeLine{00241\ \mbox{\hyperlink{classAndroidGraphicsWindow_a7436f11d2e4e2676f9f0584971d6b12a}{close\_window}}()\ \{}
\DoxyCodeLine{00242\ \ \ \mbox{\hyperlink{classAndroidGraphicsWindow_a5afd51cbf28917d7891d8e4e41252c60}{destroy\_surface}}();}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \textcolor{keywordflow}{if}\ (\_gsg\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00245\ \ \ \ \ \_gsg.clear();}
\DoxyCodeLine{00246\ \ \ \}}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \ \ \mbox{\hyperlink{classGraphicsWindow_ac9416f2e970aea3f5233c90e79b2a1ff}{GraphicsWindow::close\_window}}();}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \ \ nassertv(\_app\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00251\ \ \ \textcolor{keywordflow}{if}\ (\_app-\/>userData\ ==\ \textcolor{keyword}{this})\ \{}
\DoxyCodeLine{00252\ \ \ \ \ \_app-\/>userData\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00253\ \ \ \ \ \_app-\/>onAppCmd\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00254\ \ \ \ \ \_app-\/>onInputEvent\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00255\ \ \ \}}
\DoxyCodeLine{00256\ \}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00262\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classAndroidGraphicsWindow_ab3fc015c4c52bea7d955bbbd2426c743}{AndroidGraphicsWindow::}}}
\DoxyCodeLine{00263\ \mbox{\hyperlink{classAndroidGraphicsWindow_ab3fc015c4c52bea7d955bbbd2426c743}{open\_window}}()\ \{}
\DoxyCodeLine{00264\ \ \ \textcolor{comment}{//\ GSG\ CreationInitialization}}
\DoxyCodeLine{00265\ \ \ \mbox{\hyperlink{classAndroidGraphicsStateGuardian}{AndroidGraphicsStateGuardian}}\ *androidgsg;}
\DoxyCodeLine{00266\ \ \ \textcolor{keywordflow}{if}\ (\_gsg\ ==\ 0)\ \{}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{comment}{//\ There\ is\ no\ old\ gsg.\ \ Create\ a\ new\ one.}}
\DoxyCodeLine{00268\ \ \ \ \ androidgsg\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classAndroidGraphicsStateGuardian}{AndroidGraphicsStateGuardian}}(\_engine,\ \_pipe,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00269\ \ \ \ \ androidgsg-\/>\mbox{\hyperlink{classAndroidGraphicsStateGuardian_af36ed89f88f80084fcb40397d72a7cbb}{choose\_pixel\_format}}(\_fb\_properties,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00270\ \ \ \ \ \_gsg\ =\ androidgsg;}
\DoxyCodeLine{00271\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00272\ \ \ \ \ \textcolor{comment}{//\ If\ the\ old\ gsg\ has\ the\ wrong\ pixel\ format,\ create\ a\ new\ one\ that\ shares}}
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{comment}{//\ with\ the\ old\ gsg.}}
\DoxyCodeLine{00274\ \ \ \ \ DCAST\_INTO\_R(androidgsg,\ \_gsg,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{keywordflow}{if}\ (!androidgsg-\/>get\_fb\_properties().subsumes(\_fb\_properties))\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ androidgsg\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classAndroidGraphicsStateGuardian}{AndroidGraphicsStateGuardian}}(\_engine,\ \_pipe,\ androidgsg);}
\DoxyCodeLine{00277\ \ \ \ \ \ \ androidgsg-\/>\mbox{\hyperlink{classAndroidGraphicsStateGuardian_af36ed89f88f80084fcb40397d72a7cbb}{choose\_pixel\_format}}(\_fb\_properties,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false});}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \_gsg\ =\ androidgsg;}
\DoxyCodeLine{00279\ \ \ \ \ \}}
\DoxyCodeLine{00280\ \ \ \}}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \ \ \textcolor{comment}{//\ Register\ the\ callbacks}}
\DoxyCodeLine{00283\ \ \ assert(\_app\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00284\ \ \ \_app-\/>userData\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00285\ \ \ \_app-\/>onAppCmd\ =\ handle\_command;}
\DoxyCodeLine{00286\ \ \ \_app-\/>onInputEvent\ =\ handle\_input\_event;}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \textcolor{comment}{//\ Wait\ until\ Android\ has\ opened\ the\ window.}}
\DoxyCodeLine{00289\ \ \ \textcolor{keywordflow}{while}\ (\_app-\/>window\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00290\ \ \ \ \ \mbox{\hyperlink{classAndroidGraphicsWindow_ab3e8e87a956dfeac2788dddd4b9ca35e}{process\_events}}();}
\DoxyCodeLine{00291\ \ \ \}}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \ \ \textcolor{comment}{//\ create\_surface\ should\ have\ been\ called\ by\ now.}}
\DoxyCodeLine{00294\ \ \ \textcolor{keywordflow}{if}\ (\_egl\_surface\ ==\ EGL\_NO\_SURFACE)\ \{}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00296\ \ \ \}}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \textcolor{comment}{//\ Set\ some\ other\ properties.}}
\DoxyCodeLine{00299\ \ \ \_properties.set\_origin(0,\ 0);}
\DoxyCodeLine{00300\ \ \ \_properties.set\_cursor\_hidden(\textcolor{keyword}{true});}
\DoxyCodeLine{00301\ \ \ \_properties.set\_undecorated(\textcolor{keyword}{true});}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \textcolor{keywordflow}{if}\ (!androidgsg-\/>get\_fb\_properties().verify\_hardware\_software}
\DoxyCodeLine{00304\ \ \ \ \ \ \ (\_fb\_properties,\ androidgsg-\/>get\_gl\_renderer()))\ \{}
\DoxyCodeLine{00305\ \ \ \ \ \mbox{\hyperlink{classAndroidGraphicsWindow_a7436f11d2e4e2676f9f0584971d6b12a}{close\_window}}();}
\DoxyCodeLine{00306\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00307\ \ \ \}}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \ \ \_fb\_properties\ =\ androidgsg-\/>get\_fb\_properties();}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00312\ \}}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00317\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classAndroidGraphicsWindow_a5afd51cbf28917d7891d8e4e41252c60}{AndroidGraphicsWindow::}}}
\DoxyCodeLine{00318\ \mbox{\hyperlink{classAndroidGraphicsWindow_a5afd51cbf28917d7891d8e4e41252c60}{destroy\_surface}}()\ \{}
\DoxyCodeLine{00319\ \ \ \textcolor{keywordflow}{if}\ (\_egl\_surface\ !=\ EGL\_NO\_SURFACE)\ \{}
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{keywordflow}{if}\ (!eglDestroySurface(\_egl\_display,\ \_egl\_surface))\ \{}
\DoxyCodeLine{00321\ \ \ \ \ \ \ androiddisplay\_cat.error()\ <<\ \textcolor{stringliteral}{"{}Failed\ to\ destroy\ surface:\ "{}}}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{config__androiddisplay_8cxx_ad7bc4d698e36f500ff695d9a9f526986}{get\_egl\_error\_string}}(eglGetError())\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00323\ \ \ \ \ \}}
\DoxyCodeLine{00324\ \ \ \ \ \_egl\_surface\ =\ EGL\_NO\_SURFACE;}
\DoxyCodeLine{00325\ \ \ \}}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \ \ \textcolor{comment}{//\ Destroy\ the\ current\ context.}}
\DoxyCodeLine{00328\ \ \ \textcolor{keywordflow}{if}\ (\_gsg\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00329\ \ \ \ \ \mbox{\hyperlink{classAndroidGraphicsStateGuardian}{AndroidGraphicsStateGuardian}}\ *androidgsg;}
\DoxyCodeLine{00330\ \ \ \ \ DCAST\_INTO\_V(androidgsg,\ \_gsg);}
\DoxyCodeLine{00331\ \ \ \ \ androidgsg-\/>\mbox{\hyperlink{classAndroidGraphicsStateGuardian_af3318fea2c7b49526f9448c86092c495}{destroy\_context}}();}
\DoxyCodeLine{00332\ \ \ \}}
\DoxyCodeLine{00333\ \}}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00338\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classAndroidGraphicsWindow_ac007918c8d6d9615aa07daf1abeb7e65}{AndroidGraphicsWindow::}}}
\DoxyCodeLine{00339\ \mbox{\hyperlink{classAndroidGraphicsWindow_ac007918c8d6d9615aa07daf1abeb7e65}{create\_surface}}()\ \{}
\DoxyCodeLine{00340\ \ \ \mbox{\hyperlink{classAndroidGraphicsStateGuardian}{AndroidGraphicsStateGuardian}}\ *androidgsg;}
\DoxyCodeLine{00341\ \ \ DCAST\_INTO\_R(androidgsg,\ \_gsg,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ \ \ \textcolor{comment}{//\ Reconfigure\ the\ window\ buffers\ to\ match\ that\ of\ our\ framebuffer\ config.}}
\DoxyCodeLine{00344\ \ \ ANativeWindow\_setBuffersGeometry(\_app-\/>window,\ 0,\ 0,\ androidgsg-\/>\_format);}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \ \ \textcolor{comment}{//\ Set\ any\ window\ flags}}
\DoxyCodeLine{00347\ \ \ uint32\_t\ add\_flags\ =\ 0;}
\DoxyCodeLine{00348\ \ \ uint32\_t\ del\_flags\ =\ 0;}
\DoxyCodeLine{00349\ \ \ \textcolor{keywordflow}{if}\ (\_properties.get\_fullscreen())\ \{}
\DoxyCodeLine{00350\ \ \ \ \ add\_flags\ |=\ AWINDOW\_FLAG\_FULLSCREEN;}
\DoxyCodeLine{00351\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00352\ \ \ \ \ del\_flags\ |=\ AWINDOW\_FLAG\_FULLSCREEN;}
\DoxyCodeLine{00353\ \ \ \}}
\DoxyCodeLine{00354\ \ \ ANativeActivity\_setWindowFlags(\_app-\/>activity,\ add\_flags,\ del\_flags);}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \ \ \textcolor{comment}{//\ Create\ the\ EGL\ surface.}}
\DoxyCodeLine{00357\ \ \ \_egl\_surface\ =\ eglCreateWindowSurface(\_egl\_display,\ androidgsg-\/>\_fbconfig,\ \_app-\/>window,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00358\ \ \ \textcolor{keywordflow}{if}\ (eglGetError()\ !=\ EGL\_SUCCESS)\ \{}
\DoxyCodeLine{00359\ \ \ \ \ androiddisplay\_cat.error()}
\DoxyCodeLine{00360\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Failed\ to\ create\ window\ surface.\(\backslash\)n"{}};}
\DoxyCodeLine{00361\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00362\ \ \ \}}
\DoxyCodeLine{00363\ }
\DoxyCodeLine{00364\ \ \ \textcolor{comment}{//\ Create\ a\ context.}}
\DoxyCodeLine{00365\ \ \ \textcolor{keywordflow}{if}\ (androidgsg-\/>\_context\ ==\ EGL\_NO\_CONTEXT)\ \{}
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{keywordflow}{if}\ (!androidgsg-\/>\mbox{\hyperlink{classAndroidGraphicsStateGuardian_a4d68f3324bbece622ae58c1d0954fe3e}{create\_context}}())\ \{}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00368\ \ \ \ \ \}}
\DoxyCodeLine{00369\ \ \ \}}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \ \ \textcolor{comment}{//\ Switch\ to\ our\ newly\ created\ context.}}
\DoxyCodeLine{00372\ \ \ \textcolor{keywordflow}{if}\ (!eglMakeCurrent(\_egl\_display,\ \_egl\_surface,\ \_egl\_surface,\ androidgsg-\/>\_context))\ \{}
\DoxyCodeLine{00373\ \ \ \ \ androiddisplay\_cat.error()\ <<\ \textcolor{stringliteral}{"{}Failed\ to\ call\ eglMakeCurrent:\ "{}}}
\DoxyCodeLine{00374\ \ \ \ \ \ \ <<\ \mbox{\hyperlink{config__androiddisplay_8cxx_ad7bc4d698e36f500ff695d9a9f526986}{get\_egl\_error\_string}}(eglGetError())\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00375\ \ \ \}}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \ \ \textcolor{comment}{//\ Query\ the\ size\ of\ the\ surface.\ \ EGLint\ width,\ height;}}
\DoxyCodeLine{00378\ \ \ \textcolor{comment}{//\ eglQuerySurface(\_egl\_display,\ \_egl\_surface,\ EGL\_WIDTH,\ \&width);}}
\DoxyCodeLine{00379\ \ \ \textcolor{comment}{//\ eglQuerySurface(\_egl\_display,\ \_egl\_surface,\ EGL\_HEIGHT,\ \&height);}}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \ \ androidgsg-\/>reset\_if\_new();}
\DoxyCodeLine{00382\ \ \ \textcolor{keywordflow}{if}\ (!androidgsg-\/>is\_valid())\ \{}
\DoxyCodeLine{00383\ \ \ \ \ \mbox{\hyperlink{classAndroidGraphicsWindow_a7436f11d2e4e2676f9f0584971d6b12a}{close\_window}}();}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00385\ \ \ \}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00388\ \}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00393\ \textcolor{keywordtype}{void}\ AndroidGraphicsWindow::}
\DoxyCodeLine{00394\ handle\_command(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structandroid__app}{android\_app}}\ *app,\ int32\_t\ command)\ \{}
\DoxyCodeLine{00395\ \ \ \mbox{\hyperlink{classAndroidGraphicsWindow}{AndroidGraphicsWindow}}\ *window\ =\ (\mbox{\hyperlink{classAndroidGraphicsWindow}{AndroidGraphicsWindow}}\ *)app-\/>userData;}
\DoxyCodeLine{00396\ \ \ \textcolor{keywordflow}{if}\ (window\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00397\ \ \ \ \ window-\/>ns\_handle\_command(command);}
\DoxyCodeLine{00398\ \ \ \}}
\DoxyCodeLine{00399\ \}}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00404\ \textcolor{keywordtype}{void}\ AndroidGraphicsWindow::}
\DoxyCodeLine{00405\ ns\_handle\_command(int32\_t\ command)\ \{}
\DoxyCodeLine{00406\ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ properties;}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00408\ \ \ \textcolor{keywordflow}{switch}\ (command)\ \{}
\DoxyCodeLine{00409\ \ \ \ \ \textcolor{keywordflow}{case}\ APP\_CMD\_SAVE\_STATE:}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ system\ has\ asked\ us\ to\ save\ our\ current\ state.\ \ Do\ so.}}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \textcolor{comment}{//\ engine-\/>app-\/>savedState\ =\ malloc(sizeof(struct\ saved\_state));}}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \textcolor{comment}{//\ *((struct\ saved\_state*)engine-\/>app-\/>savedState)\ =\ engine-\/>state;}}
\DoxyCodeLine{00413\ \ \ \ \ \ \ \textcolor{comment}{//\ engine-\/>app-\/>savedStateSize\ =\ sizeof(struct\ saved\_state);}}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00415\ \ \ \ \ \textcolor{keywordflow}{case}\ APP\_CMD\_INIT\_WINDOW:}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ window\ is\ being\ shown,\ get\ it\ ready.}}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_app-\/>window\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classAndroidGraphicsWindow_ac007918c8d6d9615aa07daf1abeb7e65}{create\_surface}}();}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ properties.set\_size(ANativeWindow\_getWidth(\_app-\/>window),}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ANativeWindow\_getHeight(\_app-\/>window));}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ properties.set\_minimized(\textcolor{keyword}{false});}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(properties);}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00425\ \ \ \ \ \textcolor{keywordflow}{case}\ APP\_CMD\_CONFIG\_CHANGED:}
\DoxyCodeLine{00426\ \ \ \ \ \ \ properties.set\_size(ANativeWindow\_getWidth(\_app-\/>window),}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ANativeWindow\_getHeight(\_app-\/>window));}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(properties);}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keywordflow}{case}\ APP\_CMD\_TERM\_WINDOW:}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \mbox{\hyperlink{classAndroidGraphicsWindow_a5afd51cbf28917d7891d8e4e41252c60}{destroy\_surface}}();}
\DoxyCodeLine{00432\ \ \ \ \ \ \ properties.set\_minimized(\textcolor{keyword}{true});}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(properties);}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00435\ \ \ \ \ \textcolor{keywordflow}{case}\ APP\_CMD\_WINDOW\_RESIZED:}
\DoxyCodeLine{00436\ \ \ \ \ \ \ properties.set\_size(ANativeWindow\_getWidth(\_app-\/>window),}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ANativeWindow\_getHeight(\_app-\/>window));}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(properties);}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{keywordflow}{case}\ APP\_CMD\_WINDOW\_REDRAW\_NEEDED:}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00442\ \ \ \ \ \textcolor{keywordflow}{case}\ APP\_CMD\_CONTENT\_RECT\_CHANGED:}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \textcolor{comment}{/*properties.set\_origin(\_app-\/>contentRect.left,\ \_app-\/>contentRect.top);}}
\DoxyCodeLine{00444\ \textcolor{comment}{\ \ \ \ \ \ properties.set\_size(\_app-\/>contentRect.right\ -\/\ \_app-\/>contentRect.left,}}
\DoxyCodeLine{00445\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_app-\/>contentRect.bottom\ -\/\ \_app-\/>contentRect.top);}}
\DoxyCodeLine{00446\ \textcolor{comment}{\ \ \ \ \ \ system\_changed\_properties(properties);*/}}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00448\ \ \ \ \ \textcolor{keywordflow}{case}\ APP\_CMD\_GAINED\_FOCUS:}
\DoxyCodeLine{00449\ \ \ \ \ \ \ properties.set\_foreground(\textcolor{keyword}{true});}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(properties);}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{keywordflow}{case}\ APP\_CMD\_LOST\_FOCUS:}
\DoxyCodeLine{00453\ \ \ \ \ \ \ properties.set\_foreground(\textcolor{keyword}{false});}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(properties);}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00456\ \ \ \ \ \textcolor{keywordflow}{case}\ APP\_CMD\_DESTROY:}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \mbox{\hyperlink{classAndroidGraphicsWindow_a7436f11d2e4e2676f9f0584971d6b12a}{close\_window}}();}
\DoxyCodeLine{00458\ \ \ \ \ \ \ properties.set\_open(\textcolor{keyword}{false});}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(properties);}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00461\ \ \ \}}
\DoxyCodeLine{00462\ \}}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00467\ int32\_t\ AndroidGraphicsWindow::}
\DoxyCodeLine{00468\ handle\_input\_event(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structandroid__app}{android\_app}}*\ app,\ AInputEvent\ *event)\ \{}
\DoxyCodeLine{00469\ \ \ \mbox{\hyperlink{classAndroidGraphicsWindow}{AndroidGraphicsWindow}}*\ window\ =\ (\mbox{\hyperlink{classAndroidGraphicsWindow}{AndroidGraphicsWindow}}*)\ app-\/>userData;}
\DoxyCodeLine{00470\ }
\DoxyCodeLine{00471\ \ \ int32\_t\ event\_type\ =\ AInputEvent\_getType(event);}
\DoxyCodeLine{00472\ \ \ \textcolor{keywordflow}{switch}\ (event\_type)\ \{}
\DoxyCodeLine{00473\ \ \ \textcolor{keywordflow}{case}\ AINPUT\_EVENT\_TYPE\_KEY:}
\DoxyCodeLine{00474\ \ \ \ \ \textcolor{keywordflow}{return}\ window-\/>handle\_key\_event(event);}
\DoxyCodeLine{00475\ \ \ \textcolor{keywordflow}{case}\ AINPUT\_EVENT\_TYPE\_MOTION:}
\DoxyCodeLine{00476\ \ \ \ \ \textcolor{keywordflow}{return}\ window-\/>handle\_motion\_event(event);}
\DoxyCodeLine{00477\ \ \ \}}
\DoxyCodeLine{00478\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00479\ \}}
\DoxyCodeLine{00480\ }
\DoxyCodeLine{00484\ int32\_t\ AndroidGraphicsWindow::}
\DoxyCodeLine{00485\ handle\_key\_event(\textcolor{keyword}{const}\ AInputEvent\ *event)\ \{}
\DoxyCodeLine{00486\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00487\ \textcolor{comment}{\ \ int32\_t\ meta\ =\ AKeyEvent\_getMetaState(event);}}
\DoxyCodeLine{00488\ \textcolor{comment}{\ \ if\ (meta\ |\ AMETA\_ALT\_ON)\ \{}}
\DoxyCodeLine{00489\ \textcolor{comment}{\ \ \ \ \_input-\/>button\_down(KeyboardButton.alt());}}
\DoxyCodeLine{00490\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00491\ \textcolor{comment}{\ \ if\ (meta\ |\ AMETA\_ALT\_LEFT\_ON)\ \{}}
\DoxyCodeLine{00492\ \textcolor{comment}{\ \ \ \ \_input-\/>button\_down(KeyboardButton.lalt());}}
\DoxyCodeLine{00493\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00494\ \textcolor{comment}{\ \ if\ (meta\ |\ AMETA\_ALT\_RIGHT\_ON)\ \{}}
\DoxyCodeLine{00495\ \textcolor{comment}{\ \ \ \ \_input-\/>button\_down(KeyboardButton.ralt());}}
\DoxyCodeLine{00496\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00497\ \textcolor{comment}{\ \ if\ (meta\ |\ AMETA\_SHIFT\_ON)\ \{}}
\DoxyCodeLine{00498\ \textcolor{comment}{\ \ \ \ \_input-\/>button\_down(KeyboardButton.shift());}}
\DoxyCodeLine{00499\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00500\ \textcolor{comment}{\ \ if\ (meta\ |\ AMETA\_SHIFT\_LEFT\_ON)\ \{}}
\DoxyCodeLine{00501\ \textcolor{comment}{\ \ \ \ \_input-\/>button\_down(KeyboardButton.lshift());}}
\DoxyCodeLine{00502\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00503\ \textcolor{comment}{\ \ if\ (meta\ |\ AMETA\_SHIFT\_RIGHT\_ON)\ \{}}
\DoxyCodeLine{00504\ \textcolor{comment}{\ \ \ \ \_input-\/>button\_down(KeyboardButton.rshift());}}
\DoxyCodeLine{00505\ \textcolor{comment}{\ \ \}*/}}
\DoxyCodeLine{00506\ }
\DoxyCodeLine{00507\ \ \ int32\_t\ keycode\ =\ AKeyEvent\_getKeyCode(event);}
\DoxyCodeLine{00508\ \ \ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ button\ =\ map\_button(keycode);}
\DoxyCodeLine{00509\ }
\DoxyCodeLine{00510\ \ \ \textcolor{keywordflow}{if}\ (button\ ==\ ButtonHandle::none())\ \{}
\DoxyCodeLine{00511\ \ \ \ \ androiddisplay\_cat.warning()}
\DoxyCodeLine{00512\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Unknown\ keycode:\ "{}}\ <<\ keycode\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00513\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00514\ \ \ \}}
\DoxyCodeLine{00515\ }
\DoxyCodeLine{00516\ \ \ \textcolor{comment}{//\ Is\ it\ an\ up\ or\ down\ event?}}
\DoxyCodeLine{00517\ \ \ int32\_t\ action\ =\ AKeyEvent\_getAction(event);}
\DoxyCodeLine{00518\ \ \ \textcolor{keywordflow}{if}\ (action\ ==\ AKEY\_EVENT\_ACTION\_DOWN)\ \{}
\DoxyCodeLine{00519\ \ \ \ \ \_input-\/>button\_down(button);}
\DoxyCodeLine{00520\ \ \ \}}
\DoxyCodeLine{00521\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (action\ ==\ AKEY\_EVENT\_ACTION\_UP)\ \{}
\DoxyCodeLine{00522\ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(button);}
\DoxyCodeLine{00523\ \ \ \}}
\DoxyCodeLine{00524\ \ \ \textcolor{comment}{//\ TODO\ AKEY\_EVENT\_ACTION\_MULTIPLE}}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00526\ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00527\ \}}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00532\ int32\_t\ AndroidGraphicsWindow::}
\DoxyCodeLine{00533\ handle\_motion\_event(\textcolor{keyword}{const}\ AInputEvent\ *event)\ \{}
\DoxyCodeLine{00534\ \ \ int32\_t\ action\ =\ AMotionEvent\_getAction(event);}
\DoxyCodeLine{00535\ \ \ int32\_t\ pointer\_index\ =\ (action\ >>\ AMOTION\_EVENT\_ACTION\_POINTER\_INDEX\_SHIFT);}
\DoxyCodeLine{00536\ \ \ action\ \&=\ AMOTION\_EVENT\_ACTION\_MASK;}
\DoxyCodeLine{00537\ }
\DoxyCodeLine{00538\ \ \ \textcolor{keywordflow}{if}\ (action\ ==\ AMOTION\_EVENT\_ACTION\_DOWN)\ \{}
\DoxyCodeLine{00539\ \ \ \ \ \_primary\_pointer\_down\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00540\ \ \ \}}
\DoxyCodeLine{00541\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (action\ ==\ AMOTION\_EVENT\_ACTION\_UP}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ ||\ action\ ==\ AMOTION\_EVENT\_ACTION\_CANCEL)\ \{}
\DoxyCodeLine{00543\ \ \ \ \ \_primary\_pointer\_down\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00544\ \ \ \}}
\DoxyCodeLine{00545\ }
\DoxyCodeLine{00546\ \ \ int32\_t\ button\_state\ =\ AMotionEvent\_getButtonState(event);}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00548\ \ \ \textcolor{comment}{//\ Emulate\ mouse\ click;\ as\ long\ as\ the\ primary\ pointer\ is\ held\ down,}}
\DoxyCodeLine{00549\ \ \ \textcolor{comment}{//\ and\ no\ other\ mouse\ button\ is\ causing\ it,\ the\ primary\ mouse\ button}}
\DoxyCodeLine{00550\ \ \ \textcolor{comment}{//\ is\ considered\ depressed.}}
\DoxyCodeLine{00551\ \ \ \textcolor{keywordflow}{if}\ (button\_state\ ==\ 0\ \&\&\ \_primary\_pointer\_down\ \&\&}
\DoxyCodeLine{00552\ \ \ \ \ \ \ action\ !=\ AMOTION\_EVENT\_ACTION\_BUTTON\_RELEASE)\ \{}
\DoxyCodeLine{00553\ \ \ \ \ button\_state\ |=\ AMOTION\_EVENT\_BUTTON\_PRIMARY;}
\DoxyCodeLine{00554\ \ \ \}}
\DoxyCodeLine{00555\ }
\DoxyCodeLine{00556\ \ \ int32\_t\ changed\ =\ \_mouse\_button\_state\ \string^\ button\_state;}
\DoxyCodeLine{00557\ \ \ \textcolor{keywordflow}{if}\ (changed\ !=\ 0)\ \{}
\DoxyCodeLine{00558\ \ \ \ \ \textcolor{keywordflow}{if}\ (changed\ \&\ AMOTION\_EVENT\_BUTTON\_PRIMARY)\ \{}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (button\_state\ \&\ AMOTION\_EVENT\_BUTTON\_PRIMARY)\ \{}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \_input-\/>button\_down(MouseButton::one());}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::one());}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00564\ \ \ \ \ \}}
\DoxyCodeLine{00565\ \ \ \ \ \textcolor{keywordflow}{if}\ (changed\ \&\ AMOTION\_EVENT\_BUTTON\_SECONDARY)\ \{}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (button\_state\ \&\ AMOTION\_EVENT\_BUTTON\_SECONDARY)\ \{}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \_input-\/>button\_down(MouseButton::three());}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::three());}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00571\ \ \ \ \ \}}
\DoxyCodeLine{00572\ \ \ \ \ \textcolor{keywordflow}{if}\ (changed\ \&\ AMOTION\_EVENT\_BUTTON\_TERTIARY)\ \{}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (button\_state\ \&\ AMOTION\_EVENT\_BUTTON\_TERTIARY)\ \{}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \_input-\/>button\_down(MouseButton::two());}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::two());}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00578\ \ \ \ \ \}}
\DoxyCodeLine{00579\ \ \ \ \ \textcolor{keywordflow}{if}\ (changed\ \&\ AMOTION\_EVENT\_BUTTON\_BACK)\ \{}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (button\_state\ \&\ AMOTION\_EVENT\_BUTTON\_BACK)\ \{}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \_input-\/>button\_down(MouseButton::four());}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::four());}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00585\ \ \ \ \ \}}
\DoxyCodeLine{00586\ \ \ \ \ \textcolor{keywordflow}{if}\ (changed\ \&\ AMOTION\_EVENT\_BUTTON\_FORWARD)\ \{}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (button\_state\ \&\ AMOTION\_EVENT\_BUTTON\_FORWARD)\ \{}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \_input-\/>button\_down(MouseButton::five());}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::five());}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00592\ \ \ \ \ \}}
\DoxyCodeLine{00593\ \ \ \ \ \_mouse\_button\_state\ =\ button\_state;}
\DoxyCodeLine{00594\ \ \ \}}
\DoxyCodeLine{00595\ }
\DoxyCodeLine{00596\ \ \ \textcolor{keywordflow}{if}\ (action\ ==\ AMOTION\_EVENT\_ACTION\_SCROLL)\ \{}
\DoxyCodeLine{00597\ \ \ \ \ \textcolor{keywordtype}{float}\ v\ =\ AMotionEvent\_getAxisValue(event,\ AMOTION\_EVENT\_AXIS\_VSCROLL,\ pointer\_index);}
\DoxyCodeLine{00598\ \ \ \ \ \textcolor{keywordtype}{float}\ h\ =\ AMotionEvent\_getAxisValue(event,\ AMOTION\_EVENT\_AXIS\_HSCROLL,\ pointer\_index);}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \ \ \ \ \textcolor{keywordflow}{if}\ (v\ >\ 0.5)\ \{}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (v\ >\ 0)\ \{}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \_input-\/>button\_down(MouseButton::wheel\_up());}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::wheel\_up());}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ v\ -\/=\ 1;}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00606\ \ \ \ \ \}}
\DoxyCodeLine{00607\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (v\ <\ 0.5)\ \{}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (v\ <\ 0)\ \{}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \_input-\/>button\_down(MouseButton::wheel\_down());}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::wheel\_down());}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ v\ +=\ 1;}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00613\ \ \ \ \ \}}
\DoxyCodeLine{00614\ }
\DoxyCodeLine{00615\ \ \ \ \ \textcolor{comment}{//\ In\ my\ tests\ the\ scroll\ direction\ is\ opposite\ of\ what\ the\ docs\ indicate,}}
\DoxyCodeLine{00616\ \ \ \ \ \textcolor{comment}{//\ ie.\ a\ positive\ value\ is\ left,\ not\ right.}}
\DoxyCodeLine{00617\ \ \ \ \ \textcolor{keywordflow}{if}\ (h\ >\ 0.5)\ \{}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (h\ >\ 0)\ \{}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \_input-\/>button\_down(MouseButton::wheel\_left());}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::wheel\_left());}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ h\ -\/=\ 1;}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00623\ \ \ \ \ \}}
\DoxyCodeLine{00624\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (h\ <\ 0.5)\ \{}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (h\ <\ 0)\ \{}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \ \ \_input-\/>button\_down(MouseButton::wheel\_right());}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ae233e6bccb7499ad92bb9561a4f823c6}{button\_up}}(MouseButton::wheel\_right());}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ h\ +=\ 1;}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00630\ \ \ \ \ \}}
\DoxyCodeLine{00631\ \ \ \}}
\DoxyCodeLine{00632\ }
\DoxyCodeLine{00633\ \ \ \textcolor{keywordtype}{float}\ x\ =\ AMotionEvent\_getX(event,\ 0)\ -\/\ \_app-\/>contentRect.left;}
\DoxyCodeLine{00634\ \ \ \textcolor{keywordtype}{float}\ y\ =\ AMotionEvent\_getY(event,\ 0)\ -\/\ \_app-\/>contentRect.top;}
\DoxyCodeLine{00635\ }
\DoxyCodeLine{00636\ \ \ \_input-\/>\mbox{\hyperlink{classGraphicsWindowInputDevice_ad676b64760d8a27b5c5233fa52c96cc3}{set\_pointer\_in\_window}}(x,\ y);}
\DoxyCodeLine{00637\ }
\DoxyCodeLine{00638\ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00639\ \}}
\DoxyCodeLine{00640\ }
\DoxyCodeLine{00645\ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ AndroidGraphicsWindow::}
\DoxyCodeLine{00646\ map\_button(int32\_t\ keycode)\ \{}
\DoxyCodeLine{00647\ \ \ \textcolor{keywordflow}{switch}\ (keycode)\ \{}
\DoxyCodeLine{00648\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SOFT\_LEFT:}
\DoxyCodeLine{00649\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SOFT\_RIGHT:}
\DoxyCodeLine{00650\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_HOME:}
\DoxyCodeLine{00651\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BACK:}
\DoxyCodeLine{00652\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_CALL:}
\DoxyCodeLine{00653\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_ENDCALL:}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00655\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_0:}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{00657\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_1:}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'1'});}
\DoxyCodeLine{00659\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_2:}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'2'});}
\DoxyCodeLine{00661\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_3:}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'3'});}
\DoxyCodeLine{00663\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_4:}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'4'});}
\DoxyCodeLine{00665\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_5:}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'5'});}
\DoxyCodeLine{00667\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_6:}
\DoxyCodeLine{00668\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'6'});}
\DoxyCodeLine{00669\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_7:}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'7'});}
\DoxyCodeLine{00671\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_8:}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'8'});}
\DoxyCodeLine{00673\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_9:}
\DoxyCodeLine{00674\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'9'});}
\DoxyCodeLine{00675\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_STAR:}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'*'});}
\DoxyCodeLine{00677\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_POUND:}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'\#'});}
\DoxyCodeLine{00679\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_DPAD\_UP:}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::up();}
\DoxyCodeLine{00681\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_DPAD\_DOWN:}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::down();}
\DoxyCodeLine{00683\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_DPAD\_LEFT:}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::left();}
\DoxyCodeLine{00685\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_DPAD\_RIGHT:}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::right();}
\DoxyCodeLine{00687\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_DPAD\_CENTER:}
\DoxyCodeLine{00688\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_VOLUME\_UP:}
\DoxyCodeLine{00689\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_VOLUME\_DOWN:}
\DoxyCodeLine{00690\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_POWER:}
\DoxyCodeLine{00691\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_CAMERA:}
\DoxyCodeLine{00692\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_CLEAR:}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00694\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_A:}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'a'});}
\DoxyCodeLine{00696\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_B:}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'b'});}
\DoxyCodeLine{00698\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_C:}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'c'});}
\DoxyCodeLine{00700\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_D:}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'d'});}
\DoxyCodeLine{00702\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_E:}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'e'});}
\DoxyCodeLine{00704\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F:}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'f'});}
\DoxyCodeLine{00706\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_G:}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'g'});}
\DoxyCodeLine{00708\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_H:}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'h'});}
\DoxyCodeLine{00710\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_I:}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'i'});}
\DoxyCodeLine{00712\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_J:}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'j'});}
\DoxyCodeLine{00714\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_K:}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'k'});}
\DoxyCodeLine{00716\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_L:}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'l'});}
\DoxyCodeLine{00718\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_M:}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'m'});}
\DoxyCodeLine{00720\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_N:}
\DoxyCodeLine{00721\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'n'});}
\DoxyCodeLine{00722\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_O:}
\DoxyCodeLine{00723\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'o'});}
\DoxyCodeLine{00724\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_P:}
\DoxyCodeLine{00725\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'p'});}
\DoxyCodeLine{00726\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_Q:}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'q'});}
\DoxyCodeLine{00728\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_R:}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'r'});}
\DoxyCodeLine{00730\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_S:}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'s'});}
\DoxyCodeLine{00732\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_T:}
\DoxyCodeLine{00733\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'t'});}
\DoxyCodeLine{00734\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_U:}
\DoxyCodeLine{00735\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'u'});}
\DoxyCodeLine{00736\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_V:}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'v'});}
\DoxyCodeLine{00738\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_W:}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'w'});}
\DoxyCodeLine{00740\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_X:}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'x'});}
\DoxyCodeLine{00742\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_Y:}
\DoxyCodeLine{00743\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'y'});}
\DoxyCodeLine{00744\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_Z:}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'z'});}
\DoxyCodeLine{00746\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_COMMA:}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{','});}
\DoxyCodeLine{00748\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_PERIOD:}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00750\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_ALT\_LEFT:}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::lalt();}
\DoxyCodeLine{00752\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_ALT\_RIGHT:}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ralt();}
\DoxyCodeLine{00754\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SHIFT\_LEFT:}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::lshift();}
\DoxyCodeLine{00756\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SHIFT\_RIGHT:}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::rshift();}
\DoxyCodeLine{00758\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_TAB:}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::tab();}
\DoxyCodeLine{00760\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SPACE:}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::space();}
\DoxyCodeLine{00762\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SYM:}
\DoxyCodeLine{00763\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_EXPLORER:}
\DoxyCodeLine{00764\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_ENVELOPE:}
\DoxyCodeLine{00765\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00766\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_ENTER:}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::enter();}
\DoxyCodeLine{00768\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_DEL:}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::backspace();}
\DoxyCodeLine{00770\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_GRAVE:}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'`'});}
\DoxyCodeLine{00772\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MINUS:}
\DoxyCodeLine{00773\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{00774\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_EQUALS:}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'='});}
\DoxyCodeLine{00776\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_LEFT\_BRACKET:}
\DoxyCodeLine{00777\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'['});}
\DoxyCodeLine{00778\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_RIGHT\_BRACKET:}
\DoxyCodeLine{00779\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{']'});}
\DoxyCodeLine{00780\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BACKSLASH:}
\DoxyCodeLine{00781\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{00782\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SEMICOLON:}
\DoxyCodeLine{00783\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{';'});}
\DoxyCodeLine{00784\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_APOSTROPHE:}
\DoxyCodeLine{00785\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'\(\backslash\)''});}
\DoxyCodeLine{00786\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SLASH:}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'/'});}
\DoxyCodeLine{00788\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_AT:}
\DoxyCodeLine{00789\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'@'});}
\DoxyCodeLine{00790\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUM:}
\DoxyCodeLine{00791\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_HEADSETHOOK:}
\DoxyCodeLine{00792\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_FOCUS:}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00794\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_PLUS:}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'+'});}
\DoxyCodeLine{00796\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MENU:}
\DoxyCodeLine{00797\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::menu();}
\DoxyCodeLine{00798\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NOTIFICATION:}
\DoxyCodeLine{00799\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SEARCH:}
\DoxyCodeLine{00800\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MEDIA\_PLAY\_PAUSE:}
\DoxyCodeLine{00801\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MEDIA\_STOP:}
\DoxyCodeLine{00802\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MEDIA\_NEXT:}
\DoxyCodeLine{00803\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MEDIA\_PREVIOUS:}
\DoxyCodeLine{00804\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MEDIA\_REWIND:}
\DoxyCodeLine{00805\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MEDIA\_FAST\_FORWARD:}
\DoxyCodeLine{00806\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MUTE:}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00808\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_PAGE\_UP:}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::page\_up();}
\DoxyCodeLine{00810\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_PAGE\_DOWN:}
\DoxyCodeLine{00811\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::page\_down();}
\DoxyCodeLine{00812\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_PICTSYMBOLS:}
\DoxyCodeLine{00813\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SWITCH\_CHARSET:}
\DoxyCodeLine{00814\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_A:}
\DoxyCodeLine{00815\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_B:}
\DoxyCodeLine{00816\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_C:}
\DoxyCodeLine{00817\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_X:}
\DoxyCodeLine{00818\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_Y:}
\DoxyCodeLine{00819\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_Z:}
\DoxyCodeLine{00820\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_L1:}
\DoxyCodeLine{00821\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_R1:}
\DoxyCodeLine{00822\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_L2:}
\DoxyCodeLine{00823\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_R2:}
\DoxyCodeLine{00824\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_THUMBL:}
\DoxyCodeLine{00825\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_THUMBR:}
\DoxyCodeLine{00826\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_START:}
\DoxyCodeLine{00827\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_SELECT:}
\DoxyCodeLine{00828\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BUTTON\_MODE:}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00830\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_ESCAPE:}
\DoxyCodeLine{00831\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::escape();}
\DoxyCodeLine{00832\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_FORWARD\_DEL:}
\DoxyCodeLine{00833\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::del();}
\DoxyCodeLine{00834\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_CTRL\_LEFT:}
\DoxyCodeLine{00835\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::lcontrol();}
\DoxyCodeLine{00836\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_CTRL\_RIGHT:}
\DoxyCodeLine{00837\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::rcontrol();}
\DoxyCodeLine{00838\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_CAPS\_LOCK:}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::caps\_lock();}
\DoxyCodeLine{00840\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SCROLL\_LOCK:}
\DoxyCodeLine{00841\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::scroll\_lock();}
\DoxyCodeLine{00842\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_META\_LEFT:}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::lmeta();}
\DoxyCodeLine{00844\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_META\_RIGHT:}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::rmeta();}
\DoxyCodeLine{00846\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_FUNCTION:}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00848\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_SYSRQ:}
\DoxyCodeLine{00849\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::print\_screen();}
\DoxyCodeLine{00850\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_BREAK:}
\DoxyCodeLine{00851\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::pause();}
\DoxyCodeLine{00852\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MOVE\_HOME:}
\DoxyCodeLine{00853\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::home();}
\DoxyCodeLine{00854\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_MOVE\_END:}
\DoxyCodeLine{00855\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::end();}
\DoxyCodeLine{00856\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_INSERT:}
\DoxyCodeLine{00857\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::insert();}
\DoxyCodeLine{00858\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F1:}
\DoxyCodeLine{00859\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f1();}
\DoxyCodeLine{00860\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F2:}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f2();}
\DoxyCodeLine{00862\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F3:}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f3();}
\DoxyCodeLine{00864\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F4:}
\DoxyCodeLine{00865\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f4();}
\DoxyCodeLine{00866\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F5:}
\DoxyCodeLine{00867\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f5();}
\DoxyCodeLine{00868\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F6:}
\DoxyCodeLine{00869\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f6();}
\DoxyCodeLine{00870\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F7:}
\DoxyCodeLine{00871\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f7();}
\DoxyCodeLine{00872\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F8:}
\DoxyCodeLine{00873\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f8();}
\DoxyCodeLine{00874\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F9:}
\DoxyCodeLine{00875\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f9();}
\DoxyCodeLine{00876\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F10:}
\DoxyCodeLine{00877\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f10();}
\DoxyCodeLine{00878\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F11:}
\DoxyCodeLine{00879\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f11();}
\DoxyCodeLine{00880\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_F12:}
\DoxyCodeLine{00881\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::f12();}
\DoxyCodeLine{00882\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUM\_LOCK:}
\DoxyCodeLine{00883\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::num\_lock();}
\DoxyCodeLine{00884\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_0:}
\DoxyCodeLine{00885\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'0'});}
\DoxyCodeLine{00886\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_1:}
\DoxyCodeLine{00887\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'1'});}
\DoxyCodeLine{00888\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_2:}
\DoxyCodeLine{00889\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'2'});}
\DoxyCodeLine{00890\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_3:}
\DoxyCodeLine{00891\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'3'});}
\DoxyCodeLine{00892\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_4:}
\DoxyCodeLine{00893\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'4'});}
\DoxyCodeLine{00894\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_5:}
\DoxyCodeLine{00895\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'5'});}
\DoxyCodeLine{00896\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_6:}
\DoxyCodeLine{00897\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'6'});}
\DoxyCodeLine{00898\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_7:}
\DoxyCodeLine{00899\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'7'});}
\DoxyCodeLine{00900\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_8:}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'8'});}
\DoxyCodeLine{00902\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_9:}
\DoxyCodeLine{00903\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'9'});}
\DoxyCodeLine{00904\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_DIVIDE:}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'/'});}
\DoxyCodeLine{00906\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_MULTIPLY:}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'*'});}
\DoxyCodeLine{00908\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_SUBTRACT:}
\DoxyCodeLine{00909\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{00910\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_ADD:}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'+'});}
\DoxyCodeLine{00912\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_DOT:}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00914\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_COMMA:}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{','});}
\DoxyCodeLine{00916\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_ENTER:}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::enter();}
\DoxyCodeLine{00918\ \ \ \ \ \textcolor{keywordflow}{case}\ AKEYCODE\_NUMPAD\_EQUALS:}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ KeyboardButton::ascii\_key(\textcolor{charliteral}{'='});}
\DoxyCodeLine{00920\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00922\ \ \ \}}
\DoxyCodeLine{00923\ \ \ \textcolor{keywordflow}{return}\ ButtonHandle::none();}
\DoxyCodeLine{00924\ \}}

\end{DoxyCode}
