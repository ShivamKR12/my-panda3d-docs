\doxysection{store\+\_\+pixel.\+h}
\hypertarget{store__pixel_8h_source}{}\label{store__pixel_8h_source}\index{panda/src/tinydisplay/store\_pixel.h@{panda/src/tinydisplay/store\_pixel.h}}
\mbox{\hyperlink{store__pixel_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{comment}{/*\ Definition\ of\ a\ function\ to\ store\ a\ pixel\ in\ the\ framebuffer,\ using}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ \ \ user-\/specified\ color\ blending.\ */}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{comment}{/*\ This\ file\ generates\ lots\ of\ "{}template"{}\ variations,\ using\ \#define}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ \ \ and\ \#include,\ similar\ to\ the\ way\ ztriangle.h\ works.\ */}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00021\ FNAME(\mbox{\hyperlink{namespacestore__pixel}{store\_pixel}})\ (\mbox{\hyperlink{structZBuffer}{ZBuffer}}\ *zb,\ PIXEL\ \&result,\ \textcolor{keywordtype}{int}\ r,\ \textcolor{keywordtype}{int}\ g,\ \textcolor{keywordtype}{int}\ b,\ \textcolor{keywordtype}{int}\ a)\ \{}
\DoxyCodeLine{00022\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ fr\ =\ PIXEL\_R(result);}
\DoxyCodeLine{00023\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ fg\ =\ PIXEL\_G(result);}
\DoxyCodeLine{00024\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ fb\ =\ PIXEL\_B(result);}
\DoxyCodeLine{00025\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ fa\ =\ PIXEL\_A(result);}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ r\ =\ STORE\_PIXEL\_0(fr,\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})r\ *\ OP\_A(fr,\ r)\ >>\ 16)\ +\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})fr\ *\ OP\_B(fr,\ r)\ >>\ 16));}
\DoxyCodeLine{00028\ \ \ g\ =\ STORE\_PIXEL\_1(fg,\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})g\ *\ OP\_A(fg,\ g)\ >>\ 16)\ +\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})fg\ *\ OP\_B(fg,\ g)\ >>\ 16));}
\DoxyCodeLine{00029\ \ \ b\ =\ STORE\_PIXEL\_2(fb,\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})b\ *\ OP\_A(fb,\ b)\ >>\ 16)\ +\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})fb\ *\ OP\_B(fb,\ b)\ >>\ 16));}
\DoxyCodeLine{00030\ \ \ a\ =\ STORE\_PIXEL\_3(fa,\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})a\ *\ OP\_A(fa,\ a)\ >>\ 16)\ +\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})fa\ *\ OP\_B(fa,\ a)\ >>\ 16));}
\DoxyCodeLine{00031\ \ \ result\ =\ RGBA\_TO\_PIXEL(r,\ g,\ b,\ a);}
\DoxyCodeLine{00032\ \}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#ifdef\ FNAME\_S}}
\DoxyCodeLine{00035\ \textcolor{comment}{/*\ sRGB\ variant.\ */}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00038\ FNAME\_S(\mbox{\hyperlink{namespacestore__pixel}{store\_pixel}})\ (\mbox{\hyperlink{structZBuffer}{ZBuffer}}\ *zb,\ PIXEL\ \&result,\ \textcolor{keywordtype}{int}\ r,\ \textcolor{keywordtype}{int}\ g,\ \textcolor{keywordtype}{int}\ b,\ \textcolor{keywordtype}{int}\ a)\ \{}
\DoxyCodeLine{00039\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ fr\ =\ PIXEL\_SR(result);}
\DoxyCodeLine{00040\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ fg\ =\ PIXEL\_SG(result);}
\DoxyCodeLine{00041\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ fb\ =\ PIXEL\_SB(result);}
\DoxyCodeLine{00042\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ fa\ =\ PIXEL\_A(result);}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ r\ =\ STORE\_PIXEL\_0(fr,\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})r\ *\ OP\_A(fr,\ r)\ >>\ 16)\ +\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})fr\ *\ OP\_B(fr,\ r)\ >>\ 16));}
\DoxyCodeLine{00045\ \ \ g\ =\ STORE\_PIXEL\_1(fg,\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})g\ *\ OP\_A(fg,\ g)\ >>\ 16)\ +\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})fg\ *\ OP\_B(fg,\ g)\ >>\ 16));}
\DoxyCodeLine{00046\ \ \ b\ =\ STORE\_PIXEL\_2(fb,\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})b\ *\ OP\_A(fb,\ b)\ >>\ 16)\ +\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})fb\ *\ OP\_B(fb,\ b)\ >>\ 16));}
\DoxyCodeLine{00047\ \ \ a\ =\ STORE\_PIXEL\_3(fa,\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})a\ *\ OP\_A(fa,\ a)\ >>\ 16)\ +\ ((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int})fa\ *\ OP\_B(fa,\ a)\ >>\ 16));}
\DoxyCodeLine{00048\ \ \ result\ =\ SRGBA\_TO\_PIXEL(r,\ g,\ b,\ a);}
\DoxyCodeLine{00049\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#undef\ FNAME\_S}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#undef\ FNAME}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#undef\ OP\_A}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#undef\ OP\_B}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#undef\ STORE\_PIXEL\_0}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#undef\ STORE\_PIXEL\_1}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#undef\ STORE\_PIXEL\_2}}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#undef\ STORE\_PIXEL\_3}}

\end{DoxyCode}
