\doxysection{Connection\+Manager Class Reference}
\hypertarget{classConnectionManager}{}\label{classConnectionManager}\index{ConnectionManager@{ConnectionManager}}


{\ttfamily \#include $<$connection\+Manager.\+h$>$}

Inheritance diagram for Connection\+Manager\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.333333cm]{classConnectionManager}
\end{center}
\end{figure}
\doxysubsubsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classConnectionManager_abb695f2beab85c774e52a7d4f3b5d2ed}\label{classConnectionManager_abb695f2beab85c774e52a7d4f3b5d2ed} 
typedef phash\+\_\+set$<$ PT(\mbox{\hyperlink{classConnection}{Connection}}) $>$ {\bfseries Connections}
\item 
\Hypertarget{classConnectionManager_a1a18d0f7b0fe63f882cda6fabb2c423d}\label{classConnectionManager_a1a18d0f7b0fe63f882cda6fabb2c423d} 
typedef phash\+\_\+set$<$ \mbox{\hyperlink{classConnectionReader}{Connection\+Reader}} \texorpdfstring{$\ast$}{*}, \mbox{\hyperlink{classpointer__hash}{pointer\+\_\+hash}} $>$ {\bfseries Readers}
\item 
\Hypertarget{classConnectionManager_af1a6981575a431d1ff9cb5c11e670524}\label{classConnectionManager_af1a6981575a431d1ff9cb5c11e670524} 
typedef phash\+\_\+set$<$ \mbox{\hyperlink{classConnectionWriter}{Connection\+Writer}} \texorpdfstring{$\ast$}{*}, \mbox{\hyperlink{classpointer__hash}{pointer\+\_\+hash}} $>$ {\bfseries Writers}
\item 
\Hypertarget{classConnectionManager_acf663719315e9eb5c5f8006eeb95a93b}\label{classConnectionManager_acf663719315e9eb5c5f8006eeb95a93b} 
typedef \mbox{\hyperlink{classpvector}{pvector}}$<$ Interface $>$ {\bfseries Interfaces}
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classConnectionManager_a5848fb24f40b7c6515316a24ab2d7ab2}{new\+\_\+connection}} (const PT(\mbox{\hyperlink{classConnection}{Connection}}) \&connection)
\item 
virtual void \mbox{\hyperlink{classConnectionManager_a77e3de75c198fee5db168009910d7ec9}{flush\+\_\+read\+\_\+connection}} (\mbox{\hyperlink{classConnection}{Connection}} \texorpdfstring{$\ast$}{*}connection)
\item 
virtual void \mbox{\hyperlink{classConnectionManager_a6bfb647b241e65673a73067c4589834f}{connection\+\_\+reset}} (const PT(\mbox{\hyperlink{classConnection}{Connection}}) \&connection, bool okflag)
\item 
void \mbox{\hyperlink{classConnectionManager_a058382c6fe39ea0bca994a43979cf9fa}{add\+\_\+reader}} (\mbox{\hyperlink{classConnectionReader}{Connection\+Reader}} \texorpdfstring{$\ast$}{*}reader)
\item 
void \mbox{\hyperlink{classConnectionManager_a80ab5a687543b9c977e1c6c3d3ebfbd5}{remove\+\_\+reader}} (\mbox{\hyperlink{classConnectionReader}{Connection\+Reader}} \texorpdfstring{$\ast$}{*}reader)
\item 
void \mbox{\hyperlink{classConnectionManager_a70d0af76af6d5a5f82b8803a0b13a6e7}{add\+\_\+writer}} (\mbox{\hyperlink{classConnectionWriter}{Connection\+Writer}} \texorpdfstring{$\ast$}{*}writer)
\item 
void \mbox{\hyperlink{classConnectionManager_a7374a35ec67bd653bebd8d508359c0c7}{remove\+\_\+writer}} (\mbox{\hyperlink{classConnectionWriter}{Connection\+Writer}} \texorpdfstring{$\ast$}{*}writer)
\item 
std\+::string \mbox{\hyperlink{classConnectionManager_a6b6bf5097fbf29de4b0f44060fbda721}{format\+\_\+mac\+\_\+address}} (const unsigned char \texorpdfstring{$\ast$}{*}data, size\+\_\+t data\+\_\+size)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classConnectionManager_a7a32b4da82b6868d31bd5d0804c1ce5d}\label{classConnectionManager_a7a32b4da82b6868d31bd5d0804c1ce5d} 
Connections {\bfseries \+\_\+connections}
\item 
\Hypertarget{classConnectionManager_a009aa81f9389ea1e9c0b6f36e30bd8ef}\label{classConnectionManager_a009aa81f9389ea1e9c0b6f36e30bd8ef} 
Readers {\bfseries \+\_\+readers}
\item 
\Hypertarget{classConnectionManager_a371b28acde8eaee94a370dd2a052757a}\label{classConnectionManager_a371b28acde8eaee94a370dd2a052757a} 
Writers {\bfseries \+\_\+writers}
\item 
\Hypertarget{classConnectionManager_ab6288dbc96f169767a0bf9f261b5ad3a}\label{classConnectionManager_ab6288dbc96f169767a0bf9f261b5ad3a} 
\mbox{\hyperlink{classLightMutex}{Light\+Mutex}} {\bfseries \+\_\+set\+\_\+mutex}
\item 
\Hypertarget{classConnectionManager_ad6bf09f80bf4fb52bc68730d54028718}\label{classConnectionManager_ad6bf09f80bf4fb52bc68730d54028718} 
\mbox{\hyperlink{classpvector}{Interfaces}} {\bfseries \+\_\+interfaces}
\item 
\Hypertarget{classConnectionManager_a1f4bf7fd914262c36846bbbb71a88d84}\label{classConnectionManager_a1f4bf7fd914262c36846bbbb71a88d84} 
bool {\bfseries \+\_\+interfaces\+\_\+scanned}
\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classConnectionManager_a1307887c14ba43b11c6a209b57868cbe}\label{classConnectionManager_a1307887c14ba43b11c6a209b57868cbe} 
class {\bfseries Connection\+Reader}
\item 
\Hypertarget{classConnectionManager_a5c8e1b3573fa7a7498a9f8d34e289631}\label{classConnectionManager_a5c8e1b3573fa7a7498a9f8d34e289631} 
class {\bfseries Connection\+Writer}
\item 
\Hypertarget{classConnectionManager_a70154e7bba57eb30d2836fb2b3420e6b}\label{classConnectionManager_a70154e7bba57eb30d2836fb2b3420e6b} 
class {\bfseries Connection\+Listener}
\item 
\Hypertarget{classConnectionManager_a54a11fdc71e1679a42fa0c0e3856673d}\label{classConnectionManager_a54a11fdc71e1679a42fa0c0e3856673d} 
class {\bfseries Connection}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The primary interface to the low-\/level networking layer in this package. A \doxylink{classConnectionManager}{Connection\+Manager} is used to establish and destroy TCP and UDP connections. Communication on these connections, once established, is handled via \doxylink{classConnectionReader}{Connection\+Reader}, \doxylink{classConnectionWriter}{Connection\+Writer}, and \doxylink{classConnectionListener}{Connection\+Listener}.

You may use this class directly if you don\textquotesingle{}t care about tracking which connections have been unexpectedly closed; otherwise, you should use \doxylink{classQueuedConnectionManager}{Queued\+Connection\+Manager} to get reports about these events (or derive your own class to handle these events properly). 

\doxysubsection{Member Function Documentation}
\Hypertarget{classConnectionManager_a058382c6fe39ea0bca994a43979cf9fa}\label{classConnectionManager_a058382c6fe39ea0bca994a43979cf9fa} 
\index{ConnectionManager@{ConnectionManager}!add\_reader@{add\_reader}}
\index{add\_reader@{add\_reader}!ConnectionManager@{ConnectionManager}}
\doxysubsubsection{\texorpdfstring{add\_reader()}{add\_reader()}}
{\footnotesize\ttfamily void Connection\+Manager\+::add\+\_\+reader (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classConnectionReader}{Connection\+Reader}} \texorpdfstring{$\ast$}{*}}]{reader }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

This internal function is called by \doxylink{classConnectionReader}{Connection\+Reader} when it is constructed. \Hypertarget{classConnectionManager_a70d0af76af6d5a5f82b8803a0b13a6e7}\label{classConnectionManager_a70d0af76af6d5a5f82b8803a0b13a6e7} 
\index{ConnectionManager@{ConnectionManager}!add\_writer@{add\_writer}}
\index{add\_writer@{add\_writer}!ConnectionManager@{ConnectionManager}}
\doxysubsubsection{\texorpdfstring{add\_writer()}{add\_writer()}}
{\footnotesize\ttfamily void Connection\+Manager\+::add\+\_\+writer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classConnectionWriter}{Connection\+Writer}} \texorpdfstring{$\ast$}{*}}]{writer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

This internal function is called by \doxylink{classConnectionWriter}{Connection\+Writer} when it is constructed. \Hypertarget{classConnectionManager_a6bfb647b241e65673a73067c4589834f}\label{classConnectionManager_a6bfb647b241e65673a73067c4589834f} 
\index{ConnectionManager@{ConnectionManager}!connection\_reset@{connection\_reset}}
\index{connection\_reset@{connection\_reset}!ConnectionManager@{ConnectionManager}}
\doxysubsubsection{\texorpdfstring{connection\_reset()}{connection\_reset()}}
{\footnotesize\ttfamily void Connection\+Manager\+::connection\+\_\+reset (\begin{DoxyParamCaption}\item[{const PT(\mbox{\hyperlink{classConnection}{Connection}}) \&}]{connection,  }\item[{bool}]{okflag }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

An internal function called by the \doxylink{classConnectionReader}{Connection\+Reader}, \doxylink{classConnectionWriter}{Connection\+Writer}, or \doxylink{classConnectionListener}{Connection\+Listener} when a connection has been externally reset. This adds the connection to the queue of those which have recently been reset. 

Reimplemented in \mbox{\hyperlink{classQueuedConnectionManager_a580348fbcd075d1e119659379badbcd1}{Queued\+Connection\+Manager}}, and \mbox{\hyperlink{classPStatServer_a376f1b598496d87c39e41f335acbf266}{PStat\+Server}}.

\Hypertarget{classConnectionManager_a77e3de75c198fee5db168009910d7ec9}\label{classConnectionManager_a77e3de75c198fee5db168009910d7ec9} 
\index{ConnectionManager@{ConnectionManager}!flush\_read\_connection@{flush\_read\_connection}}
\index{flush\_read\_connection@{flush\_read\_connection}!ConnectionManager@{ConnectionManager}}
\doxysubsubsection{\texorpdfstring{flush\_read\_connection()}{flush\_read\_connection()}}
{\footnotesize\ttfamily void Connection\+Manager\+::flush\+\_\+read\+\_\+connection (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classConnection}{Connection}} \texorpdfstring{$\ast$}{*}}]{connection }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

An internal function called by \doxylink{classConnectionWriter}{Connection\+Writer} only when a write failure has occurred. This method ensures that all of the read data has been flushed from the pipe before the connection is fully removed. \Hypertarget{classConnectionManager_a6b6bf5097fbf29de4b0f44060fbda721}\label{classConnectionManager_a6b6bf5097fbf29de4b0f44060fbda721} 
\index{ConnectionManager@{ConnectionManager}!format\_mac\_address@{format\_mac\_address}}
\index{format\_mac\_address@{format\_mac\_address}!ConnectionManager@{ConnectionManager}}
\doxysubsubsection{\texorpdfstring{format\_mac\_address()}{format\_mac\_address()}}
{\footnotesize\ttfamily string Connection\+Manager\+::format\+\_\+mac\+\_\+address (\begin{DoxyParamCaption}\item[{const unsigned char \texorpdfstring{$\ast$}{*}}]{data,  }\item[{size\+\_\+t}]{data\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Formats a device\textquotesingle{}s MAC address into a string. \Hypertarget{classConnectionManager_a5848fb24f40b7c6515316a24ab2d7ab2}\label{classConnectionManager_a5848fb24f40b7c6515316a24ab2d7ab2} 
\index{ConnectionManager@{ConnectionManager}!new\_connection@{new\_connection}}
\index{new\_connection@{new\_connection}!ConnectionManager@{ConnectionManager}}
\doxysubsubsection{\texorpdfstring{new\_connection()}{new\_connection()}}
{\footnotesize\ttfamily void Connection\+Manager\+::new\+\_\+connection (\begin{DoxyParamCaption}\item[{const PT(\mbox{\hyperlink{classConnection}{Connection}}) \&}]{connection }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

This internal function is called whenever a new connection is established. It allows the \doxylink{classConnectionManager}{Connection\+Manager} to save all of the pointers to open connections so they can\textquotesingle{}t be inadvertently deleted until close\+\_\+connection() is called. \Hypertarget{classConnectionManager_a80ab5a687543b9c977e1c6c3d3ebfbd5}\label{classConnectionManager_a80ab5a687543b9c977e1c6c3d3ebfbd5} 
\index{ConnectionManager@{ConnectionManager}!remove\_reader@{remove\_reader}}
\index{remove\_reader@{remove\_reader}!ConnectionManager@{ConnectionManager}}
\doxysubsubsection{\texorpdfstring{remove\_reader()}{remove\_reader()}}
{\footnotesize\ttfamily void Connection\+Manager\+::remove\+\_\+reader (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classConnectionReader}{Connection\+Reader}} \texorpdfstring{$\ast$}{*}}]{reader }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

This internal function is called by \doxylink{classConnectionReader}{Connection\+Reader} when it is destructed. \Hypertarget{classConnectionManager_a7374a35ec67bd653bebd8d508359c0c7}\label{classConnectionManager_a7374a35ec67bd653bebd8d508359c0c7} 
\index{ConnectionManager@{ConnectionManager}!remove\_writer@{remove\_writer}}
\index{remove\_writer@{remove\_writer}!ConnectionManager@{ConnectionManager}}
\doxysubsubsection{\texorpdfstring{remove\_writer()}{remove\_writer()}}
{\footnotesize\ttfamily void Connection\+Manager\+::remove\+\_\+writer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classConnectionWriter}{Connection\+Writer}} \texorpdfstring{$\ast$}{*}}]{writer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

This internal function is called by \doxylink{classConnectionWriter}{Connection\+Writer} when it is destructed. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
panda/src/net/\mbox{\hyperlink{connectionManager_8h}{connection\+Manager.\+h}}\item 
panda/src/net/\mbox{\hyperlink{connectionManager_8cxx}{connection\+Manager.\+cxx}}\end{DoxyCompactItemize}
