\doxysection{input\+Device.\+h}
\hypertarget{inputDevice_8h_source}{}\label{inputDevice_8h_source}\index{panda/src/device/inputDevice.h@{panda/src/device/inputDevice.h}}
\mbox{\hyperlink{inputDevice_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ INPUTDEVICE\_H}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ INPUTDEVICE\_H}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandabase_8h}{pandabase.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{buttonEvent_8h}{buttonEvent.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{buttonEventList_8h}{buttonEventList.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pointerEvent_8h}{pointerEvent.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pointerEventList_8h}{pointerEventList.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pointerData_8h}{pointerData.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{trackerData_8h}{trackerData.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{clockObject_8h}{clockObject.h}}"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pdeque_8h}{pdeque.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pvector_8h}{pvector.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lightMutex_8h}{lightMutex.h}}"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lightMutexHolder_8h}{lightMutexHolder.h}}"{}}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00053\ \textcolor{keyword}{class\ }EXPCL\_PANDA\_DEVICE\ \mbox{\hyperlink{classInputDevice}{InputDevice}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classTypedReferenceCount}{TypedReferenceCount}}\ \{}
\DoxyCodeLine{00054\ PUBLISHED:}
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{//\ This\ enum\ contains\ information\ that\ can\ be\ used\ to\ identify\ the}}
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{//\ type\ of\ input\ device.}}
\DoxyCodeLine{00057\ \ \ \textcolor{keyword}{enum\ class}\ DeviceClass\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{comment}{//\ It\ is\ not\ known\ what\ type\ of\ device\ this\ is.}}
\DoxyCodeLine{00059\ \ \ \ \ UNKNOWN,}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{//\ This\ means\ that\ the\ device\ doesn't\ correspond\ to\ a\ physical}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{//\ device,\ but\ rather\ to\ a\ dynamic\ source\ of\ input\ events.}}
\DoxyCodeLine{00063\ \ \ \ \ VIRTUAL,}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//\ A\ physical,\ alphabetical\ keyboard.}}
\DoxyCodeLine{00066\ \ \ \ \ KEYBOARD,}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ MOUSE,}
\DoxyCodeLine{00069\ \ \ \ \ TOUCH,}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{comment}{//\ A\ gamepad\ with\ action\ buttons,\ a\ D-\/pad,\ and\ thumbsticks.}}
\DoxyCodeLine{00072\ \ \ \ \ GAMEPAD,}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ FLIGHT\_STICK,}
\DoxyCodeLine{00075\ \ \ \ \ STEERING\_WHEEL,}
\DoxyCodeLine{00076\ \ \ \ \ DANCE\_PAD,}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{//\ Head-\/mounted\ display.}}
\DoxyCodeLine{00079\ \ \ \ \ HMD,}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{//\ 3D\ mouse,\ such\ as\ produced\ by\ 3Dconnexion.}}
\DoxyCodeLine{00082\ \ \ \ \ SPATIAL\_MOUSE,}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{comment}{//\ A\ graphics\ tablet\ with\ stylus/pen.}}
\DoxyCodeLine{00085\ \ \ \ \ DIGITIZER,}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ Deprecated\ aliases.}}
\DoxyCodeLine{00088\ \ \ \ \ unknown\ =\ UNKNOWN,}
\DoxyCodeLine{00089\ \ \ \ \ virtual\_device\ =\ VIRTUAL,}
\DoxyCodeLine{00090\ \ \ \ \ keyboard\ =\ KEYBOARD,}
\DoxyCodeLine{00091\ \ \ \ \ mouse\ =\ MOUSE,}
\DoxyCodeLine{00092\ \ \ \ \ touch\ =\ TOUCH,}
\DoxyCodeLine{00093\ \ \ \ \ gamepad\ =\ GAMEPAD,}
\DoxyCodeLine{00094\ \ \ \ \ flight\_stick\ =\ FLIGHT\_STICK,}
\DoxyCodeLine{00095\ \ \ \ \ steering\_wheel\ =\ STEERING\_WHEEL,}
\DoxyCodeLine{00096\ \ \ \ \ dance\_pad\ =\ DANCE\_PAD,}
\DoxyCodeLine{00097\ \ \ \ \ hmd\ =\ HMD,}
\DoxyCodeLine{00098\ \ \ \ \ spatial\_mouse\ =\ SPATIAL\_MOUSE,}
\DoxyCodeLine{00099\ \ \ \ \ digitizer\ =\ DIGITIZER,}
\DoxyCodeLine{00100\ \ \ \};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \textcolor{keyword}{enum\ class}\ Feature\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{comment}{//\ The\ device\ provides\ absolute\ screen\ coordinates.}}
\DoxyCodeLine{00104\ \ \ \ \ POINTER,}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ The\ device\ has\ an\ interface\ for\ providing\ text\ input.}}
\DoxyCodeLine{00107\ \ \ \ \ KEYBOARD,}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{comment}{//\ The\ device\ has\ a\ motion\ tracker,\ such\ as\ an\ HMD.}}
\DoxyCodeLine{00110\ \ \ \ \ TRACKER,}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{comment}{//\ The\ device\ can\ produce\ force\ feedback.}}
\DoxyCodeLine{00113\ \ \ \ \ VIBRATION,}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{comment}{//\ The\ device\ provides\ information\ about\ battery\ life.}}
\DoxyCodeLine{00116\ \ \ \ \ BATTERY,}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{comment}{//\ Deprecated\ aliases.}}
\DoxyCodeLine{00119\ \ \ \ \ pointer\ =\ POINTER,}
\DoxyCodeLine{00120\ \ \ \ \ keyboard\ =\ KEYBOARD,}
\DoxyCodeLine{00121\ \ \ \ \ tracker\ =\ TRACKER,}
\DoxyCodeLine{00122\ \ \ \ \ vibration\ =\ VIBRATION,}
\DoxyCodeLine{00123\ \ \ \ \ battery\ =\ BATTERY,}
\DoxyCodeLine{00124\ \ \ \};}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \textcolor{keyword}{enum\ class}\ Axis\ \{}
\DoxyCodeLine{00127\ \ \ \ \ NONE,}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{comment}{//\ Generic\ translational\ axes}}
\DoxyCodeLine{00130\ \ \ \ \ X,}
\DoxyCodeLine{00131\ \ \ \ \ Y,}
\DoxyCodeLine{00132\ \ \ \ \ Z,}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{comment}{//\ Generic\ rotational\ axes,\ used\ by\ joysticks\ and\ 3D\ mice}}
\DoxyCodeLine{00135\ \ \ \ \ YAW,}
\DoxyCodeLine{00136\ \ \ \ \ PITCH,}
\DoxyCodeLine{00137\ \ \ \ \ ROLL,}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{comment}{//\ Gamepad}}
\DoxyCodeLine{00140\ \ \ \ \ LEFT\_X,}
\DoxyCodeLine{00141\ \ \ \ \ LEFT\_Y,}
\DoxyCodeLine{00142\ \ \ \ \ LEFT\_TRIGGER,}
\DoxyCodeLine{00143\ \ \ \ \ RIGHT\_X,}
\DoxyCodeLine{00144\ \ \ \ \ RIGHT\_Y,}
\DoxyCodeLine{00145\ \ \ \ \ RIGHT\_TRIGGER,}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{comment}{//\ Flight\ stick\ specific}}
\DoxyCodeLine{00148\ \ \ \ \ THROTTLE,}
\DoxyCodeLine{00149\ \ \ \ \ RUDDER,\ \textcolor{comment}{//\ When\ available\ separately\ from\ yaw}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{comment}{//\ Steering\ wheel\ /\ pedals}}
\DoxyCodeLine{00152\ \ \ \ \ WHEEL,}
\DoxyCodeLine{00153\ \ \ \ \ ACCELERATOR,}
\DoxyCodeLine{00154\ \ \ \ \ BRAKE,}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{comment}{//\ Pen\ pressure}}
\DoxyCodeLine{00157\ \ \ \ \ PRESSURE,}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{comment}{//\ Deprecated\ aliases}}
\DoxyCodeLine{00160\ \ \ \ \ none\ =\ NONE,}
\DoxyCodeLine{00161\ \ \ \ \ x\ =\ X,}
\DoxyCodeLine{00162\ \ \ \ \ y\ =\ Y,}
\DoxyCodeLine{00163\ \ \ \ \ z\ =\ Z,}
\DoxyCodeLine{00164\ \ \ \ \ yaw\ =\ YAW,}
\DoxyCodeLine{00165\ \ \ \ \ pitch\ =\ PITCH,}
\DoxyCodeLine{00166\ \ \ \ \ roll\ =\ ROLL,}
\DoxyCodeLine{00167\ \ \ \ \ left\_x\ =\ LEFT\_X,}
\DoxyCodeLine{00168\ \ \ \ \ left\_y\ =\ LEFT\_Y,}
\DoxyCodeLine{00169\ \ \ \ \ left\_trigger\ =\ LEFT\_TRIGGER,}
\DoxyCodeLine{00170\ \ \ \ \ right\_x\ =\ RIGHT\_X,}
\DoxyCodeLine{00171\ \ \ \ \ right\_y\ =\ RIGHT\_Y,}
\DoxyCodeLine{00172\ \ \ \ \ right\_trigger\ =\ RIGHT\_TRIGGER,}
\DoxyCodeLine{00173\ \ \ \ \ throttle\ =\ THROTTLE,}
\DoxyCodeLine{00174\ \ \ \ \ rudder\ =\ RUDDER,}
\DoxyCodeLine{00175\ \ \ \ \ wheel\ =\ WHEEL,}
\DoxyCodeLine{00176\ \ \ \ \ accelerator\ =\ ACCELERATOR,}
\DoxyCodeLine{00177\ \ \ \ \ brake\ =\ BRAKE,}
\DoxyCodeLine{00178\ \ \ \ \ pressure\ =\ PRESSURE,}
\DoxyCodeLine{00179\ \ \ \};}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \textcolor{keyword}{enum}\ State\ \{}
\DoxyCodeLine{00182\ \ \ \ \ S\_unknown,}
\DoxyCodeLine{00183\ \ \ \ \ S\_up,}
\DoxyCodeLine{00184\ \ \ \ \ S\_down}
\DoxyCodeLine{00185\ \ \ \};}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \textcolor{keyword}{class\ }ButtonState\ \{}
\DoxyCodeLine{00188\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keyword}{constexpr}\ ButtonState()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00190\ \ \ \ \ INLINE\ ButtonState(\mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ handle);}
\DoxyCodeLine{00191\ \ \ \ \ ALWAYS\_INLINE\ \textcolor{keywordtype}{bool}\ is\_known()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00192\ \ \ \ \ ALWAYS\_INLINE\ \textcolor{keywordtype}{bool}\ is\_pressed()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ PUBLISHED:}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keyword}{operator}\ bool()\ \{\ \textcolor{keywordflow}{return}\ \_state\ !=\ S\_unknown;\ \}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \ \ MAKE\_PROPERTY(known,\ is\_known);}
\DoxyCodeLine{00198\ \ \ \ \ MAKE\_PROPERTY(pressed,\ is\_pressed);}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ handle\ =\ ButtonHandle::none();}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00203\ \ \ \ \ State\ \_state\ =\ S\_unknown;}
\DoxyCodeLine{00204\ \ \ \};}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \textcolor{keyword}{class\ }AxisState\ \{}
\DoxyCodeLine{00207\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{keyword}{constexpr}\ AxisState()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ PUBLISHED:}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keyword}{operator}\ bool()\ \{\ \textcolor{keywordflow}{return}\ known\ \&\&\ value\ !=\ 0.0;\ \}}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \ \ Axis\ axis\ =\ Axis::NONE;}
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{keywordtype}{double}\ value\ =\ 0.0;}
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keywordtype}{bool}\ known\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordtype}{double}\ \_scale\ =\ 1.0;}
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keywordtype}{double}\ \_bias\ =\ 0.0;}
\DoxyCodeLine{00220\ \ \ \};}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \textcolor{keyword}{class\ }BatteryData\ \{}
\DoxyCodeLine{00223\ \ \ PUBLISHED:}
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{comment}{//\ Ranges\ from\ 0\ through\ max\_level.}}
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{keywordtype}{short}\ level\ =\ -\/1;}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \ \ \textcolor{comment}{//\ Maximum\ value\ of\ 'level'\ field.}}
\DoxyCodeLine{00228\ \ \ \ \ \textcolor{keywordtype}{short}\ max\_level\ =\ -\/1;}
\DoxyCodeLine{00229\ \ \ \};}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00232\ \ \ \mbox{\hyperlink{classInputDevice}{InputDevice}}(\textcolor{keyword}{const}\ std::string\ \&name,\ DeviceClass\ dev\_class);}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00235\ \ \ \mbox{\hyperlink{classInputDevice}{InputDevice}}();}
\DoxyCodeLine{00236\ \ \ \mbox{\hyperlink{classInputDevice}{InputDevice}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classInputDevice}{InputDevice}}\ \&copy)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00237\ \ \ \mbox{\hyperlink{classInputDevice}{InputDevice}}\ \&operator\ =\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classInputDevice}{InputDevice}}\ \&copy)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00238\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classInputDevice}{\string~InputDevice}}();}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \ \ INLINE\ std::string\ get\_name()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00241\ \ \ INLINE\ std::string\ get\_manufacturer()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00242\ \ \ INLINE\ std::string\ get\_serial\_number()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00243\ \ \ INLINE\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ get\_vendor\_id()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00244\ \ \ INLINE\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ get\_product\_id()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00245\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ is\_connected()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00246\ \ \ INLINE\ DeviceClass\ get\_device\_class()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ has\_pointer()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00249\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ has\_keyboard()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00250\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ has\_tracker()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00251\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ has\_vibration()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00252\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ has\_battery()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ INLINE\ \mbox{\hyperlink{classTrackerData}{TrackerData}}\ get\_tracker()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00255\ \ \ INLINE\ BatteryData\ get\_battery()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \ \ INLINE\ \textcolor{keywordtype}{size\_t}\ get\_num\_buttons()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00258\ \ \ INLINE\ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ get\_button\_map(\textcolor{keywordtype}{size\_t}\ index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00259\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ is\_button\_pressed(\textcolor{keywordtype}{size\_t}\ index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00260\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ is\_button\_known(\textcolor{keywordtype}{size\_t}\ index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00261\ \ \ INLINE\ ButtonState\ get\_button(\textcolor{keywordtype}{size\_t}\ index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ INLINE\ \textcolor{keywordtype}{size\_t}\ get\_num\_axes()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00264\ \ \ INLINE\ \textcolor{keywordtype}{double}\ get\_axis\_value(\textcolor{keywordtype}{size\_t}\ index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00265\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ is\_axis\_known(\textcolor{keywordtype}{size\_t}\ index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00266\ \ \ INLINE\ AxisState\ get\_axis(\textcolor{keywordtype}{size\_t}\ index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ PUBLISHED:}
\DoxyCodeLine{00269\ \ \ \textcolor{comment}{//\ The\ human-\/readable\ name\ of\ this\ input\ device.}}
\DoxyCodeLine{00270\ \ \ MAKE\_PROPERTY(name,\ get\_name);}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \textcolor{comment}{//\ The\ device's\ manufacturer,\ or\ the\ empty\ string\ if\ not\ known.}}
\DoxyCodeLine{00273\ \ \ MAKE\_PROPERTY(manufacturer,\ get\_manufacturer);}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \textcolor{comment}{//\ The\ device's\ serial\ number,\ or\ the\ empty\ string\ if\ not\ known.}}
\DoxyCodeLine{00276\ \ \ MAKE\_PROPERTY(serial\_number,\ get\_serial\_number);}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ \ \ \textcolor{comment}{//\ USB\ vendor\ ID\ of\ the\ device,\ or\ 0\ if\ not\ known.}}
\DoxyCodeLine{00279\ \ \ MAKE\_PROPERTY(vendor\_id,\ get\_vendor\_id);}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \ \ \textcolor{comment}{//\ USB\ product\ ID\ of\ the\ device,\ or\ 0\ if\ not\ known.}}
\DoxyCodeLine{00282\ \ \ MAKE\_PROPERTY(product\_id,\ get\_product\_id);}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \textcolor{comment}{//\ This\ is\ false\ if\ we\ know\ that\ the\ device\ is\ not\ currently\ connected.}}
\DoxyCodeLine{00285\ \ \ \textcolor{comment}{//\ May\ report\ false\ positives\ if\ we\ can't\ know\ this\ with\ certainty.}}
\DoxyCodeLine{00286\ \ \ MAKE\_PROPERTY(connected,\ is\_connected);}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \textcolor{comment}{//\ This\ contains\ an\ identification\ of\ the\ general\ type\ of\ device.\ \ If}}
\DoxyCodeLine{00289\ \ \ \textcolor{comment}{//\ this\ could\ not\ be\ determined,\ it\ is\ set\ to\ DC\_unknown.}}
\DoxyCodeLine{00290\ \ \ MAKE\_PROPERTY(device\_class,\ get\_device\_class);}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \ \ \textcolor{comment}{//\ Determine\ supported\ features}}
\DoxyCodeLine{00293\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ has\_feature(Feature\ feature)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \ \ \textcolor{comment}{//\ Getters\ for\ the\ various\ types\ of\ device\ data.}}
\DoxyCodeLine{00296\ \ \ MAKE\_PROPERTY2(tracker,\ has\_tracker,\ get\_tracker);}
\DoxyCodeLine{00297\ \ \ MAKE\_PROPERTY2(battery,\ has\_battery,\ get\_battery);}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \textcolor{comment}{//\ Make\ device\ buttons\ and\ axes\ iterable}}
\DoxyCodeLine{00300\ \ \ MAKE\_SEQ\_PROPERTY(buttons,\ get\_num\_buttons,\ get\_button);}
\DoxyCodeLine{00301\ \ \ MAKE\_SEQ\_PROPERTY(axes,\ get\_num\_axes,\ get\_axis);}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \textcolor{comment}{//\ Associate\ buttons/axes\ with\ symbolic\ handles.}}
\DoxyCodeLine{00304\ \ \ INLINE\ \textcolor{keywordtype}{void}\ map\_button(\textcolor{keywordtype}{size\_t}\ index,\ \mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ handle);}
\DoxyCodeLine{00305\ \ \ INLINE\ \textcolor{keywordtype}{void}\ map\_axis(\textcolor{keywordtype}{size\_t}\ index,\ Axis\ axis);}
\DoxyCodeLine{00306\ \ \ INLINE\ ButtonState\ find\_button(\mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ handle)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00307\ \ \ INLINE\ AxisState\ find\_axis(Axis\ axis)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \ \ \textcolor{comment}{//\ Enable\ rumble\ force-\/feedback\ effects}}
\DoxyCodeLine{00310\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_vibration(\textcolor{keywordtype}{double}\ strong,\ \textcolor{keywordtype}{double}\ weak);}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \ \ INLINE\ \textcolor{keywordtype}{void}\ enable\_pointer\_events();}
\DoxyCodeLine{00313\ \ \ INLINE\ \textcolor{keywordtype}{void}\ disable\_pointer\_events();}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \textcolor{keywordtype}{void}\ poll();}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \ \ \textcolor{keywordtype}{bool}\ has\_button\_event()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00318\ \ \ PT(\mbox{\hyperlink{classButtonEventList}{ButtonEventList}})\ get\_button\_events();}
\DoxyCodeLine{00319\ \ \ \textcolor{keywordtype}{bool}\ has\_pointer\_event()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00320\ \ \ PT(\mbox{\hyperlink{classPointerEventList}{PointerEventList}})\ get\_pointer\_events();}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ output(std::ostream\ \&out)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00325\ \ \ \textcolor{keyword}{static}\ std::string\ format\_device\_class(DeviceClass\ dc);}
\DoxyCodeLine{00326\ \ \ \textcolor{keyword}{static}\ std::string\ format\_axis(Axis\ axis);}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00329\ \ \ INLINE\ \textcolor{keywordtype}{void}\ enable\_feature(Feature\ feature);}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \textcolor{comment}{//\ Called\ during\ the\ constructor\ to\ add\ new\ axes\ or\ buttons}}
\DoxyCodeLine{00332\ \ \ \textcolor{keywordtype}{int}\ add\_button(\mbox{\hyperlink{classButtonHandle}{ButtonHandle}}\ handle);}
\DoxyCodeLine{00333\ \ \ \textcolor{keywordtype}{int}\ add\_axis(Axis\ axis,\ \textcolor{keywordtype}{int}\ minimum,\ \textcolor{keywordtype}{int}\ maximum,\ \textcolor{keywordtype}{bool}\ centered);}
\DoxyCodeLine{00334\ \ \ \textcolor{keywordtype}{int}\ add\_axis(Axis\ axis,\ \textcolor{keywordtype}{int}\ minimum,\ \textcolor{keywordtype}{int}\ maximum);}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ \textcolor{keywordtype}{int}\ add\_pointer(\mbox{\hyperlink{pointerData_8h_a23f4c0ff3cffa76f169751636174699a}{PointerType}}\ type,\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keywordtype}{bool}\ primary\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00337\ \ \ \textcolor{keywordtype}{void}\ remove\_pointer(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00338\ \ \ \textcolor{keywordtype}{void}\ update\_pointer(\mbox{\hyperlink{classPointerData}{PointerData}}\ data,\ \textcolor{keywordtype}{double}\ time);}
\DoxyCodeLine{00339\ \ \ \textcolor{keywordtype}{void}\ pointer\_moved(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id},\ \textcolor{keywordtype}{double}\ x,\ \textcolor{keywordtype}{double}\ y,\ \textcolor{keywordtype}{double}\ time);}
\DoxyCodeLine{00340\ \ \ \textcolor{keywordtype}{void}\ button\_changed(\textcolor{keywordtype}{int}\ index,\ \textcolor{keywordtype}{bool}\ down);}
\DoxyCodeLine{00341\ \ \ \textcolor{keywordtype}{void}\ axis\_changed(\textcolor{keywordtype}{int}\ index,\ \textcolor{keywordtype}{int}\ value);}
\DoxyCodeLine{00342\ \ \ \textcolor{keywordtype}{void}\ set\_axis\_value(\textcolor{keywordtype}{int}\ index,\ \textcolor{keywordtype}{double}\ state);}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \ \ \textcolor{keywordtype}{void}\ tracker\_changed(\textcolor{keyword}{const}\ LPoint3\ \&pos,\ \textcolor{keyword}{const}\ LOrientation\ \&orient,\ \textcolor{keywordtype}{double}\ time);}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ do\_set\_vibration(\textcolor{keywordtype}{double}\ low,\ \textcolor{keywordtype}{double}\ high);}
\DoxyCodeLine{00347\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ do\_poll();}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00350\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_connected(\textcolor{keywordtype}{bool}\ connected);}
\DoxyCodeLine{00351\ }
\DoxyCodeLine{00352\ \ \ \textcolor{keywordtype}{void}\ output\_buttons(std::ostream\ \&out)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00353\ \ \ \textcolor{keywordtype}{void}\ write\_buttons(std::ostream\ \&out,\ \textcolor{keywordtype}{int}\ indent\_level)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00354\ \ \ \textcolor{keywordtype}{void}\ write\_axes(std::ostream\ \&out,\ \textcolor{keywordtype}{int}\ indent\_level)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00357\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classpdeque}{pdeque<ButtonEvent>}}\ \mbox{\hyperlink{classpdeque}{ButtonEvents}};}
\DoxyCodeLine{00358\ }
\DoxyCodeLine{00359\ \ \ \mbox{\hyperlink{classLightMutex}{LightMutex}}\ \_lock\ \{\textcolor{stringliteral}{"{}InputDevice"{}}\};}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00361\ \ \ std::string\ \_name;}
\DoxyCodeLine{00362\ \ \ std::string\ \_serial\_number;}
\DoxyCodeLine{00363\ \ \ std::string\ \_manufacturer;}
\DoxyCodeLine{00364\ \ \ DeviceClass\ \_device\_class\ =\ DeviceClass::UNKNOWN;}
\DoxyCodeLine{00365\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \_features\ =\ 0;}
\DoxyCodeLine{00366\ \ \ \textcolor{keywordtype}{int}\ \_event\_sequence\ =\ 0;}
\DoxyCodeLine{00367\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ \_vendor\_id\ =\ 0;}
\DoxyCodeLine{00368\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ \_product\_id\ =\ 0;}
\DoxyCodeLine{00369\ \ \ \textcolor{keywordtype}{bool}\ \_is\_connected\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00370\ \ \ \textcolor{keywordtype}{bool}\ \_enable\_pointer\_events\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00371\ \ \ PT(\mbox{\hyperlink{classButtonEventList}{ButtonEventList}})\ \_button\_events;}
\DoxyCodeLine{00372\ \ \ PT(\mbox{\hyperlink{classPointerEventList}{PointerEventList}})\ \_pointer\_events;}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ \ \ \textcolor{keywordtype}{size\_t}\ \_num\_pointers\ =\ 0;}
\DoxyCodeLine{00375\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classpvector}{pvector<PointerData>}}\ \mbox{\hyperlink{classpvector}{Pointers}};}
\DoxyCodeLine{00376\ \ \ \mbox{\hyperlink{classpvector}{Pointers}}\ \_pointers;}
\DoxyCodeLine{00377\ }
\DoxyCodeLine{00378\ PUBLISHED:}
\DoxyCodeLine{00379\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classpvector}{pvector<ButtonState>}}\ Buttons;}
\DoxyCodeLine{00380\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classpvector}{pvector<AxisState>}}\ \mbox{\hyperlink{classpvector}{Axes}};}
\DoxyCodeLine{00381\ \ \ Buttons\ \_buttons;}
\DoxyCodeLine{00382\ \ \ \mbox{\hyperlink{classpvector}{Axes}}\ \_axes;}
\DoxyCodeLine{00383\ }
\DoxyCodeLine{00384\ \ \ \mbox{\hyperlink{classPointerData}{PointerData}}\ \_pointer\_data;}
\DoxyCodeLine{00385\ \ \ BatteryData\ \_battery\_data;}
\DoxyCodeLine{00386\ \ \ \mbox{\hyperlink{classTrackerData}{TrackerData}}\ \_tracker\_data;}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00388\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00389\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ get\_class\_type()\ \{}
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keywordflow}{return}\ \_type\_handle;}
\DoxyCodeLine{00391\ \ \ \}}
\DoxyCodeLine{00392\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ init\_type()\ \{}
\DoxyCodeLine{00393\ \ \ \ \ TypedReferenceCount::init\_type();}
\DoxyCodeLine{00394\ \ \ \ \ \mbox{\hyperlink{register__type_8h_a54fc7cae2908ec9e8da7174a8d027735}{register\_type}}(\_type\_handle,\ \textcolor{stringliteral}{"{}InputDevice"{}},}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ TypedReferenceCount::get\_class\_type());}
\DoxyCodeLine{00396\ \ \ \}}
\DoxyCodeLine{00397\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ get\_type()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00398\ \ \ \ \ \textcolor{keywordflow}{return}\ get\_class\_type();}
\DoxyCodeLine{00399\ \ \ \}}
\DoxyCodeLine{00400\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ force\_init\_type()\ \{init\_type();\ \textcolor{keywordflow}{return}\ get\_class\_type();\}}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00403\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ \_type\_handle;}
\DoxyCodeLine{00404\ \};}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ INLINE\ std::ostream\ \&operator\ <<\ (std::ostream\ \&out,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classInputDevice}{InputDevice}}\ \&device)\ \{}
\DoxyCodeLine{00407\ \ \ device.\mbox{\hyperlink{classInputDevice_a646c1fc21f8b5e616635d115f9de35b7}{output}}(out);}
\DoxyCodeLine{00408\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{00409\ \}}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ EXPCL\_PANDA\_DEVICE\ std::ostream\ \&operator\ <<\ (std::ostream\ \&out,\ InputDevice::DeviceClass\ dc);}
\DoxyCodeLine{00412\ EXPCL\_PANDA\_DEVICE\ std::ostream\ \&operator\ <<\ (std::ostream\ \&out,\ InputDevice::Axis\ axis);}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \textcolor{preprocessor}{\#include\ "{}inputDevice.I"{}}}
\DoxyCodeLine{00415\ }
\DoxyCodeLine{00416\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
