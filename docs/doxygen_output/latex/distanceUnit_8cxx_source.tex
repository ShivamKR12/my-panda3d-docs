\doxysection{distance\+Unit.\+cxx}
\hypertarget{distanceUnit_8cxx_source}{}\label{distanceUnit_8cxx_source}\index{pandatool/src/pandatoolbase/distanceUnit.cxx@{pandatool/src/pandatoolbase/distanceUnit.cxx}}
\mbox{\hyperlink{distanceUnit_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{distanceUnit_8h}{distanceUnit.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__pandatoolbase_8h}{config\_pandatoolbase.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{string__utils_8h}{string\_utils.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pnotify_8h}{pnotify.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{using\ }std::istream;}
\DoxyCodeLine{00020\ \textcolor{keyword}{using\ }std::ostream;}
\DoxyCodeLine{00021\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00026\ \textcolor{keywordtype}{string}}
\DoxyCodeLine{00027\ \mbox{\hyperlink{distanceUnit_8cxx_a3e733edab9143f7596ce14c7fad00766}{format\_abbrev\_unit}}(\mbox{\hyperlink{distanceUnit_8h_a4c67a7b952f3804e2bd056cf95c4161a}{DistanceUnit}}\ unit)\ \{}
\DoxyCodeLine{00028\ \ \ \textcolor{keywordflow}{switch}\ (unit)\ \{}
\DoxyCodeLine{00029\ \ \ \textcolor{keywordflow}{case}\ DU\_millimeters:}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}mm"{}};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \textcolor{keywordflow}{case}\ DU\_centimeters:}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}cm"{}};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \textcolor{keywordflow}{case}\ DU\_meters:}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}m"{}};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \textcolor{keywordflow}{case}\ DU\_kilometers:}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}km"{}};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \textcolor{keywordflow}{case}\ DU\_yards:}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}yd"{}};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \textcolor{keywordflow}{case}\ DU\_feet:}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}ft"{}};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \textcolor{keywordflow}{case}\ DU\_inches:}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}in"{}};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \textcolor{keywordflow}{case}\ DU\_nautical\_miles:}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}nmi"{}};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{case}\ DU\_statute\_miles:}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}mi"{}};}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{keywordflow}{case}\ DU\_invalid:}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}invalid"{}};}
\DoxyCodeLine{00058\ \ \ \}}
\DoxyCodeLine{00059\ \ \ nout\ <<\ \textcolor{stringliteral}{"{}**unexpected\ DistanceUnit\ value:\ ("{}}\ <<\ (int)unit\ <<\ \textcolor{stringliteral}{"{})**"{}};}
\DoxyCodeLine{00060\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}**"{}};}
\DoxyCodeLine{00061\ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00066\ \textcolor{keywordtype}{string}}
\DoxyCodeLine{00067\ \mbox{\hyperlink{distanceUnit_8cxx_a008dd307a774f89309b1b8014f19032c}{format\_long\_unit}}(\mbox{\hyperlink{distanceUnit_8h_a4c67a7b952f3804e2bd056cf95c4161a}{DistanceUnit}}\ unit)\ \{}
\DoxyCodeLine{00068\ \ \ \textcolor{keywordflow}{switch}\ (unit)\ \{}
\DoxyCodeLine{00069\ \ \ \textcolor{keywordflow}{case}\ DU\_millimeters:}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}millimeters"{}};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \textcolor{keywordflow}{case}\ DU\_centimeters:}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}centimeters"{}};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{case}\ DU\_meters:}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}meters"{}};}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \textcolor{keywordflow}{case}\ DU\_kilometers:}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}kilometers"{}};}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{case}\ DU\_yards:}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}yards"{}};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{keywordflow}{case}\ DU\_feet:}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}feet"{}};}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{keywordflow}{case}\ DU\_inches:}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}inches"{}};}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \textcolor{keywordflow}{case}\ DU\_nautical\_miles:}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}nautical\ miles"{}};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{case}\ DU\_statute\_miles:}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}miles"{}};}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \textcolor{keywordflow}{case}\ DU\_invalid:}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}invalid"{}};}
\DoxyCodeLine{00098\ \ \ \}}
\DoxyCodeLine{00099\ \ \ nout\ <<\ \textcolor{stringliteral}{"{}**unexpected\ DistanceUnit\ value:\ ("{}}\ <<\ (int)unit\ <<\ \textcolor{stringliteral}{"{})**"{}};}
\DoxyCodeLine{00100\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}**"{}};}
\DoxyCodeLine{00101\ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00106\ ostream\ \&}
\DoxyCodeLine{00107\ operator\ <<\ (ostream\ \&out,\ \mbox{\hyperlink{distanceUnit_8h_a4c67a7b952f3804e2bd056cf95c4161a}{DistanceUnit}}\ unit)\ \{}
\DoxyCodeLine{00108\ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \mbox{\hyperlink{distanceUnit_8cxx_a3e733edab9143f7596ce14c7fad00766}{format\_abbrev\_unit}}(unit);}
\DoxyCodeLine{00109\ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00114\ istream\ \&}
\DoxyCodeLine{00115\ operator\ >>\ (istream\ \&in,\ \mbox{\hyperlink{distanceUnit_8h_a4c67a7b952f3804e2bd056cf95c4161a}{DistanceUnit}}\ \&unit)\ \{}
\DoxyCodeLine{00116\ \ \ \textcolor{keywordtype}{string}\ word;}
\DoxyCodeLine{00117\ \ \ in\ >>\ word;}
\DoxyCodeLine{00118\ \ \ unit\ =\ \mbox{\hyperlink{distanceUnit_8cxx_aaac3aa7572d4e2381009936523b243a9}{string\_distance\_unit}}(word);}
\DoxyCodeLine{00119\ \ \ \textcolor{keywordflow}{if}\ (unit\ ==\ DU\_invalid)\ \{}
\DoxyCodeLine{00120\ \ \ \ \ pandatoolbase\_cat-\/>error()}
\DoxyCodeLine{00121\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Invalid\ distance\ unit:\ "{}}\ <<\ word\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00122\ \ \ \}}
\DoxyCodeLine{00123\ \ \ \textcolor{keywordflow}{return}\ in;}
\DoxyCodeLine{00124\ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00130\ \mbox{\hyperlink{distanceUnit_8h_a4c67a7b952f3804e2bd056cf95c4161a}{DistanceUnit}}}
\DoxyCodeLine{00131\ \mbox{\hyperlink{distanceUnit_8cxx_aaac3aa7572d4e2381009936523b243a9}{string\_distance\_unit}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&str)\ \{}
\DoxyCodeLine{00132\ \ \ \textcolor{keywordflow}{if}\ (cmp\_nocase(str,\ \textcolor{stringliteral}{"{}mm"{}})\ ==\ 0\ ||\ cmp\_nocase(str,\ \textcolor{stringliteral}{"{}millimeters"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordflow}{return}\ DU\_millimeters;}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase(str,\ \textcolor{stringliteral}{"{}cm"{}})\ ==\ 0\ ||\ cmp\_nocase(str,\ \textcolor{stringliteral}{"{}centimeters"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordflow}{return}\ DU\_centimeters;}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase(str,\ \textcolor{stringliteral}{"{}m"{}})\ ==\ 0\ ||\ cmp\_nocase(str,\ \textcolor{stringliteral}{"{}meters"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordflow}{return}\ DU\_meters;}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase(str,\ \textcolor{stringliteral}{"{}km"{}})\ ==\ 0\ ||\ cmp\_nocase(str,\ \textcolor{stringliteral}{"{}kilometers"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordflow}{return}\ DU\_kilometers;}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase(str,\ \textcolor{stringliteral}{"{}yd"{}})\ ==\ 0\ ||\ cmp\_nocase(str,\ \textcolor{stringliteral}{"{}yards"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{return}\ DU\_yards;}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase(str,\ \textcolor{stringliteral}{"{}ft"{}})\ ==\ 0\ ||\ cmp\_nocase(str,\ \textcolor{stringliteral}{"{}feet"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordflow}{return}\ DU\_feet;}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase(str,\ \textcolor{stringliteral}{"{}in"{}})\ ==\ 0\ ||\ cmp\_nocase(str,\ \textcolor{stringliteral}{"{}inches"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordflow}{return}\ DU\_inches;}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase(str,\ \textcolor{stringliteral}{"{}nmi"{}})\ ==\ 0\ ||}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ cmp\_nocase(str,\ \textcolor{stringliteral}{"{}nm"{}})\ ==\ 0\ ||}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ cmp\_nocase\_uh(str,\ \textcolor{stringliteral}{"{}nautical\_miles"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordflow}{return}\ DU\_nautical\_miles;}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase(str,\ \textcolor{stringliteral}{"{}mi"{}})\ ==\ 0\ ||}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ cmp\_nocase(str,\ \textcolor{stringliteral}{"{}miles"{}})\ ==\ 0\ ||}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ cmp\_nocase\_uh(str,\ \textcolor{stringliteral}{"{}statute\_miles"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{return}\ DU\_statute\_miles;}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordflow}{return}\ DU\_invalid;}
\DoxyCodeLine{00165\ \ \ \}}
\DoxyCodeLine{00166\ \}}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00172\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{double}\ unit\_scale(\mbox{\hyperlink{distanceUnit_8h_a4c67a7b952f3804e2bd056cf95c4161a}{DistanceUnit}}\ unit)\ \{}
\DoxyCodeLine{00173\ \ \ \textcolor{keywordflow}{switch}\ (unit)\ \{}
\DoxyCodeLine{00174\ \ \ \textcolor{keywordflow}{case}\ DU\_millimeters:}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{return}\ 0.1;}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \textcolor{keywordflow}{case}\ DU\_centimeters:}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{keywordflow}{return}\ 1.0;}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \textcolor{keywordflow}{case}\ DU\_meters:}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{return}\ 100.0;}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \textcolor{keywordflow}{case}\ DU\_kilometers:}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordflow}{return}\ 100000.0;}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \textcolor{keywordflow}{case}\ DU\_yards:}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordflow}{return}\ 3.0\ *\ 12.0\ *\ 2.54;}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \textcolor{keywordflow}{case}\ DU\_feet:}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordflow}{return}\ 12.0\ *\ 2.54;}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \textcolor{keywordflow}{case}\ DU\_inches:}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordflow}{return}\ 2.54;}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \textcolor{keywordflow}{case}\ DU\_nautical\_miles:}
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{comment}{//\ This\ is\ the\ U.S.\ definition.}}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordflow}{return}\ 185200.0;}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \textcolor{keywordflow}{case}\ DU\_statute\_miles:}
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordflow}{return}\ 5280.0\ *\ 12.0\ *\ 2.54;}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \textcolor{keywordflow}{case}\ DU\_invalid:}
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keywordflow}{return}\ 1.0;}
\DoxyCodeLine{00204\ \ \ \}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \textcolor{keywordflow}{return}\ 1.0;}
\DoxyCodeLine{00207\ \}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00213\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{distanceUnit_8cxx_a8a8af93d8e7db299a488a461732166cf}{convert\_units}}(\mbox{\hyperlink{distanceUnit_8h_a4c67a7b952f3804e2bd056cf95c4161a}{DistanceUnit}}\ from,\ \mbox{\hyperlink{distanceUnit_8h_a4c67a7b952f3804e2bd056cf95c4161a}{DistanceUnit}}\ to)\ \{}
\DoxyCodeLine{00214\ \ \ \textcolor{keywordflow}{return}\ unit\_scale(from)\ /\ unit\_scale(to);}
\DoxyCodeLine{00215\ \}}

\end{DoxyCode}
