\doxysection{render\+State.\+h}
\hypertarget{renderState_8h_source}{}\label{renderState_8h_source}\index{panda/src/pgraph/renderState.h@{panda/src/pgraph/renderState.h}}
\mbox{\hyperlink{renderState_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ RENDERSTATE\_H}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ RENDERSTATE\_H}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandabase_8h}{pandabase.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{renderAttrib_8h}{renderAttrib.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{nodeCachedReferenceCount_8h}{nodeCachedReferenceCount.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pointerTo_8h}{pointerTo.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pvector_8h}{pvector.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{updateSeq_8h}{updateSeq.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pStatCollector_8h}{pStatCollector.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{renderModeAttrib_8h}{renderModeAttrib.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{texMatrixAttrib_8h}{texMatrixAttrib.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomMunger_8h}{geomMunger.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{weakPointerTo_8h}{weakPointerTo.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lightReMutex_8h}{lightReMutex.h}}"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lightMutex_8h}{lightMutex.h}}"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{deletedChain_8h}{deletedChain.h}}"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{simpleHashMap_8h}{simpleHashMap.h}}"{}}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cacheStats_8h}{cacheStats.h}}"{}}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{renderAttribRegistry_8h}{renderAttribRegistry.h}}"{}}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classFactoryParams}{FactoryParams}};}
\DoxyCodeLine{00037\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classShaderAttrib}{ShaderAttrib}};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00047\ \textcolor{keyword}{class\ }EXPCL\_PANDA\_PGRAPH\ \mbox{\hyperlink{classRenderState}{RenderState}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classNodeCachedReferenceCount}{NodeCachedReferenceCount}}\ \{}
\DoxyCodeLine{00048\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00049\ \ \ \mbox{\hyperlink{classRenderState}{RenderState}}();}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00052\ \ \ \mbox{\hyperlink{classRenderState}{RenderState}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ \&copy);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00055\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classRenderState}{\string~RenderState}}();}
\DoxyCodeLine{00056\ \ \ ALLOC\_DELETED\_CHAIN(\mbox{\hyperlink{classRenderState}{RenderState}});}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \mbox{\hyperlink{classRenderState}{RenderState}}\ \&operator\ =\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ \&copy)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classBitMask}{RenderAttribRegistry::SlotMask}}\ \mbox{\hyperlink{classBitMask}{SlotMask}};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ PUBLISHED:}
\DoxyCodeLine{00063\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classcompare__to}{compare\_to}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ \&other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00064\ \ \ \textcolor{keywordtype}{int}\ compare\_sort(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ \&other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00065\ \ \ \textcolor{keywordtype}{int}\ compare\_mask(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ \&other,\ \mbox{\hyperlink{classBitMask}{SlotMask}}\ compare\_mask)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00066\ \ \ INLINE\ \textcolor{keywordtype}{size\_t}\ get\_hash()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ is\_empty()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ has\_cull\_callback()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00071\ \ \ \textcolor{keywordtype}{bool}\ cull\_callback(\mbox{\hyperlink{classCullTraverser}{CullTraverser}}\ *trav,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classCullTraverserData}{CullTraverserData}}\ \&data)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ INLINE\ \textcolor{keyword}{static}\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ make\_empty();}
\DoxyCodeLine{00074\ \ \ PY\_EXTENSION(\textcolor{keyword}{static}\ \textcolor{keyword}{explicit}\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ make(PyObject\ *args,\ PyObject\ *kwargs));}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00077\ \ \ \textcolor{keyword}{static}\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ make(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{override}\ =\ 0);}
\DoxyCodeLine{00078\ \ \ \textcolor{keyword}{static}\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ make(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib1,}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib2,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{override}\ =\ 0);}
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{static}\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ make(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib1,}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib2,}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib3,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{override}\ =\ 0);}
\DoxyCodeLine{00083\ \ \ \textcolor{keyword}{static}\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ make(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib1,}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib2,}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib3,}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib4,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{override}\ =\ 0);}
\DoxyCodeLine{00087\ \ \ \textcolor{keyword}{static}\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ make(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib1,}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib2,}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib3,}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib4,}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib5,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{override}\ =\ 0);}
\DoxyCodeLine{00092\ \ \ \textcolor{keyword}{static}\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ make(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *\ \textcolor{keyword}{const}\ *attrib,}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_attribs,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{override}\ =\ 0);}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ PUBLISHED:}
\DoxyCodeLine{00096\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ compose(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00097\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ invert\_compose(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ add\_attrib(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{override}\ =\ 0)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00100\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ set\_attrib(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00101\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ set\_attrib(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{override})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00102\ \ \ INLINE\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ remove\_attrib(\mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00103\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ remove\_attrib(\textcolor{keywordtype}{int}\ slot)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ adjust\_all\_priorities(\textcolor{keywordtype}{int}\ adjustment)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ has\_attrib(\mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00108\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ has\_attrib(\textcolor{keywordtype}{int}\ slot)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00109\ \ \ INLINE\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *get\_attrib(\mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00110\ \ \ ALWAYS\_INLINE\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *get\_attrib(\textcolor{keywordtype}{int}\ slot)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00111\ \ \ INLINE\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *get\_attrib\_def(\textcolor{keywordtype}{int}\ slot)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00112\ \ \ INLINE\ \textcolor{keywordtype}{int}\ get\_override(\mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ type)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00113\ \ \ INLINE\ \textcolor{keywordtype}{int}\ get\_override(\textcolor{keywordtype}{int}\ slot)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ MAKE\_MAP\_PROPERTY(attribs,\ has\_attrib,\ get\_attrib);}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ INLINE\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ get\_unique()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ unref()\ \textcolor{keyword}{const}\ \textcolor{keyword}{final};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ INLINE\ \textcolor{keywordtype}{void}\ cache\_ref()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00122\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ cache\_unref()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00123\ \ \ INLINE\ \textcolor{keywordtype}{void}\ node\_ref()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00124\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ node\_unref()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ INLINE\ \textcolor{keywordtype}{size\_t}\ get\_composition\_cache\_num\_entries()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00127\ \ \ INLINE\ \textcolor{keywordtype}{size\_t}\ get\_invert\_composition\_cache\_num\_entries()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ INLINE\ \textcolor{keywordtype}{size\_t}\ get\_composition\_cache\_size()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00130\ \ \ INLINE\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *get\_composition\_cache\_source(\textcolor{keywordtype}{size\_t}\ n)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00131\ \ \ INLINE\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *get\_composition\_cache\_result(\textcolor{keywordtype}{size\_t}\ n)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00132\ \ \ INLINE\ \textcolor{keywordtype}{size\_t}\ get\_invert\_composition\_cache\_size()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00133\ \ \ INLINE\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *get\_invert\_composition\_cache\_source(\textcolor{keywordtype}{size\_t}\ n)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00134\ \ \ INLINE\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *get\_invert\_composition\_cache\_result(\textcolor{keywordtype}{size\_t}\ n)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00135\ \ \ PY\_EXTENSION(PyObject\ *get\_composition\_cache()\ \textcolor{keyword}{const});}
\DoxyCodeLine{00136\ \ \ PY\_EXTENSION(PyObject\ *get\_invert\_composition\_cache()\ \textcolor{keyword}{const});}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \textcolor{keywordtype}{void}\ output(std::ostream\ \&out)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordtype}{void}\ write(std::ostream\ \&out,\ \textcolor{keywordtype}{int}\ indent\_level)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ get\_max\_priority();}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ get\_num\_states();}
\DoxyCodeLine{00144\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ get\_num\_unused\_states();}
\DoxyCodeLine{00145\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ clear\_cache();}
\DoxyCodeLine{00146\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ clear\_munger\_cache();}
\DoxyCodeLine{00147\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ garbage\_collect();}
\DoxyCodeLine{00148\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ list\_cycles(std::ostream\ \&out);}
\DoxyCodeLine{00149\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ list\_states(std::ostream\ \&out);}
\DoxyCodeLine{00150\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ validate\_states();}
\DoxyCodeLine{00151\ \ \ PY\_EXTENSION(\textcolor{keyword}{static}\ PyObject\ *get\_states());}
\DoxyCodeLine{00152\ \ \ PY\_EXTENSION(\textcolor{keyword}{static}\ PyObject\ *get\_unused\_states());}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ PUBLISHED:}
\DoxyCodeLine{00155\ \ \ \textcolor{comment}{//\ These\ methods\ are\ intended\ for\ use\ by\ low-\/level\ code,\ but\ they're\ also}}
\DoxyCodeLine{00156\ \ \ \textcolor{comment}{//\ handy\ enough\ to\ expose\ to\ high-\/level\ users.}}
\DoxyCodeLine{00157\ \ \ INLINE\ \textcolor{keywordtype}{int}\ get\_draw\_order()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00158\ \ \ INLINE\ \textcolor{keywordtype}{int}\ get\_bin\_index()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00159\ \ \ \textcolor{keywordtype}{int}\ get\_geom\_rendering(\textcolor{keywordtype}{int}\ geom\_rendering)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00162\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ bin\_removed(\textcolor{keywordtype}{int}\ bin\_index);}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ INLINE\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ flush\_level();}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\#ifndef\ CPPPARSER}}
\DoxyCodeLine{00167\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ AttribType>}
\DoxyCodeLine{00168\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ get\_attrib(\textcolor{keyword}{const}\ AttribType\ *\&attrib)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00169\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ AttribType>}
\DoxyCodeLine{00170\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ get\_attrib(CPT(AttribType)\ \&attrib)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00171\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ AttribType>}
\DoxyCodeLine{00172\ \ \ INLINE\ \textcolor{keywordtype}{void}\ get\_attrib\_def(\textcolor{keyword}{const}\ AttribType\ *\&attrib)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00173\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ AttribType>}
\DoxyCodeLine{00174\ \ \ INLINE\ \textcolor{keywordtype}{void}\ get\_attrib\_def(CPT(AttribType)\ \&attrib)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00175\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ CPPPARSER}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ INLINE\ \textcolor{keywordtype}{void}\ cache\_ref\_only()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00180\ \ \ INLINE\ \textcolor{keywordtype}{void}\ cache\_unref\_only()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00183\ \ \ INLINE\ \textcolor{keywordtype}{void}\ check\_hash()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00184\ \ \ \textcolor{keywordtype}{bool}\ validate\_filled\_slots()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00185\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ do\_cache\_unref()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00186\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ do\_node\_unref()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00187\ \ \ INLINE\ \textcolor{keywordtype}{void}\ calc\_hash();}
\DoxyCodeLine{00188\ \ \ \textcolor{keywordtype}{void}\ do\_calc\_hash();}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \textcolor{keyword}{class\ }CompositionCycleDescEntry\ \{}
\DoxyCodeLine{00191\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00192\ \ \ \ \ INLINE\ CompositionCycleDescEntry(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *obj,}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *result,}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inverted);}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *\_obj;}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *\_result;}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keywordtype}{bool}\ \_inverted;}
\DoxyCodeLine{00199\ \ \ \};}
\DoxyCodeLine{00200\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classpvector}{pvector<CompositionCycleDescEntry>}}\ \mbox{\hyperlink{classpvector}{CompositionCycleDesc}};}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \textcolor{keyword}{static}\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ return\_new(\mbox{\hyperlink{classRenderState}{RenderState}}\ *state);}
\DoxyCodeLine{00203\ \ \ \textcolor{keyword}{static}\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ return\_unique(\mbox{\hyperlink{classRenderState}{RenderState}}\ *state);}
\DoxyCodeLine{00204\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ do\_compose(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00205\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ do\_invert\_compose(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00206\ \ \ \textcolor{keywordtype}{void}\ detect\_and\_break\_cycles();}
\DoxyCodeLine{00207\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ r\_detect\_cycles(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *start\_state,}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *current\_state,}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ length,\ \mbox{\hyperlink{classUpdateSeq}{UpdateSeq}}\ this\_seq,}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classpvector}{CompositionCycleDesc}}\ *cycle\_desc);}
\DoxyCodeLine{00211\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ r\_detect\_reverse\_cycles(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *start\_state,}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *current\_state,}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ length,\ \mbox{\hyperlink{classUpdateSeq}{UpdateSeq}}\ this\_seq,}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classpvector}{CompositionCycleDesc}}\ *cycle\_desc);}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \textcolor{keywordtype}{void}\ release\_new();}
\DoxyCodeLine{00217\ \ \ \textcolor{keywordtype}{void}\ remove\_cache\_pointers();}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \textcolor{keywordtype}{void}\ determine\_bin\_index();}
\DoxyCodeLine{00220\ \ \ \textcolor{keywordtype}{void}\ determine\_cull\_callback();}
\DoxyCodeLine{00221\ \ \ \textcolor{keywordtype}{void}\ fill\_default();}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_destructing();}
\DoxyCodeLine{00224\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ is\_destructing()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ INLINE\ \textcolor{keywordtype}{void}\ consider\_update\_pstats(\textcolor{keywordtype}{int}\ old\_referenced\_bits)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00227\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ update\_pstats(\textcolor{keywordtype}{int}\ old\_referenced\_bits,\ \textcolor{keywordtype}{int}\ new\_referenced\_bits);}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00230\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ init\_states();}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \textcolor{comment}{//\ If\ this\ state\ contains\ an\ "{}auto"{}\ ShaderAttrib,\ then\ an\ explicit}}
\DoxyCodeLine{00233\ \ \ \textcolor{comment}{//\ ShaderAttrib\ will\ be\ synthesized\ by\ the\ runtime\ and\ stored\ here.\ \ I\ can't}}
\DoxyCodeLine{00234\ \ \ \textcolor{comment}{//\ declare\ this\ as\ a\ ShaderAttrib\ because\ that\ would\ create\ a\ circular}}
\DoxyCodeLine{00235\ \ \ \textcolor{comment}{//\ include-\/file\ dependency\ problem.\ \ Aaargh.}}
\DoxyCodeLine{00236\ \ \ \textcolor{keyword}{mutable}\ CPT(\mbox{\hyperlink{classRenderAttrib}{RenderAttrib}})\ \_generated\_shader;}
\DoxyCodeLine{00237\ \ \ \textcolor{keyword}{mutable}\ \mbox{\hyperlink{classUpdateSeq}{UpdateSeq}}\ \_generated\_shader\_seq;}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00240\ \ \ \textcolor{comment}{//\ This\ mutex\ protects\ \_states.\ \ It\ also\ protects\ any\ modification\ to\ the}}
\DoxyCodeLine{00241\ \ \ \textcolor{comment}{//\ cache,\ which\ is\ encoded\ in\ \_composition\_cache\ and}}
\DoxyCodeLine{00242\ \ \ \textcolor{comment}{//\ \_invert\_composition\_cache.}}
\DoxyCodeLine{00243\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classLightReMutex}{LightReMutex}}\ *\_states\_lock;}
\DoxyCodeLine{00244\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classSimpleHashMap}{SimpleHashMap<const\ RenderState\ *,\ std::nullptr\_t,\ indirect\_compare\_to\_hash<const\ RenderState\ *>}}\ >\ \mbox{\hyperlink{classSimpleHashMap}{States}};}
\DoxyCodeLine{00245\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classSimpleHashMap}{States}}\ \_states;}
\DoxyCodeLine{00246\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *\_empty\_state;}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \ \ \textcolor{comment}{//\ This\ iterator\ records\ the\ entry\ corresponding\ to\ this\ RenderState\ object}}
\DoxyCodeLine{00249\ \ \ \textcolor{comment}{//\ in\ the\ above\ global\ set.\ \ We\ keep\ the\ index\ around\ so\ we\ can\ remove\ it}}
\DoxyCodeLine{00250\ \ \ \textcolor{comment}{//\ when\ the\ RenderState\ destructs.}}
\DoxyCodeLine{00251\ \ \ \textcolor{keywordtype}{int}\ \_saved\_entry;}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \ \ \textcolor{comment}{//\ This\ data\ structure\ manages\ the\ job\ of\ caching\ the\ composition\ of\ two}}
\DoxyCodeLine{00254\ \ \ \textcolor{comment}{//\ RenderStates.\ \ It's\ complicated\ because\ we\ have\ to\ be\ sure\ to\ remove\ the}}
\DoxyCodeLine{00255\ \ \ \textcolor{comment}{//\ entry\ if\ *either*\ of\ the\ input\ RenderStates\ destructs.\ \ To\ implement}}
\DoxyCodeLine{00256\ \ \ \textcolor{comment}{//\ this,\ we\ always\ record\ Composition\ entries\ in\ pairs,\ one\ in\ each\ of\ the}}
\DoxyCodeLine{00257\ \ \ \textcolor{comment}{//\ two\ involved\ RenderState\ objects.}}
\DoxyCodeLine{00258\ \ \ \textcolor{keyword}{class\ }Composition\ \{}
\DoxyCodeLine{00259\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{comment}{//\ \_result\ is\ reference\ counted\ if\ and\ only\ if\ it\ is\ not\ the\ same\ pointer}}
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{comment}{//\ as\ this.}}
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *\_result;}
\DoxyCodeLine{00263\ \ \ \};}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \textcolor{comment}{//\ The\ first\ element\ of\ the\ map\ is\ the\ object\ we\ compose\ with.\ \ This\ is\ not}}
\DoxyCodeLine{00266\ \ \ \textcolor{comment}{//\ reference\ counted\ within\ this\ map;\ instead\ we\ store\ a\ companion\ pointer}}
\DoxyCodeLine{00267\ \ \ \textcolor{comment}{//\ in\ the\ other\ object,\ and\ remove\ the\ references\ explicitly\ when\ either}}
\DoxyCodeLine{00268\ \ \ \textcolor{comment}{//\ object\ destructs.}}
\DoxyCodeLine{00269\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classSimpleHashMap}{SimpleHashMap<const\ RenderState\ *,\ Composition,\ pointer\_hash>}}\ \mbox{\hyperlink{classSimpleHashMap}{CompositionCache}};}
\DoxyCodeLine{00270\ \ \ \mbox{\hyperlink{classSimpleHashMap}{CompositionCache}}\ \_composition\_cache;}
\DoxyCodeLine{00271\ \ \ \mbox{\hyperlink{classSimpleHashMap}{CompositionCache}}\ \_invert\_composition\_cache;}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \textcolor{comment}{//\ This\ is\ here\ to\ provide\ a\ quick\ cache\ of\ GSG\ +\ RenderState\ -\/>\ GeomMunger}}
\DoxyCodeLine{00274\ \ \ \textcolor{comment}{//\ for\ the\ cull\ phase.\ \ It\ is\ here\ because\ it\ is\ faster\ to\ look\ up\ the\ GSG}}
\DoxyCodeLine{00275\ \ \ \textcolor{comment}{//\ in\ the\ RenderState\ pointer\ than\ vice-\/versa,\ since\ there\ are\ likely\ to\ be}}
\DoxyCodeLine{00276\ \ \ \textcolor{comment}{//\ far\ fewer\ GSG's\ than\ RenderStates.\ \ The\ code\ to\ manage\ this\ map\ lives\ in}}
\DoxyCodeLine{00277\ \ \ \textcolor{comment}{//\ GraphicsStateGuardian::get\_geom\_munger().}}
\DoxyCodeLine{00278\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classSimpleHashMap}{SimpleHashMap}}<size\_t,\ PT(\mbox{\hyperlink{classGeomMunger}{GeomMunger}}),\ \mbox{\hyperlink{classinteger__hash}{size\_t\_hash}}>\ \mbox{\hyperlink{classSimpleHashMap}{Mungers}};}
\DoxyCodeLine{00279\ \ \ \textcolor{keyword}{mutable}\ \mbox{\hyperlink{classSimpleHashMap}{Mungers}}\ \_mungers;}
\DoxyCodeLine{00280\ \ \ \textcolor{keyword}{mutable}\ \textcolor{keywordtype}{int}\ \_last\_mi;}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \ \ \textcolor{comment}{//\ Similarly,\ this\ is\ a\ cache\ of\ munged\ states.\ \ This\ map\ is\ managed\ by}}
\DoxyCodeLine{00283\ \ \ \textcolor{comment}{//\ StateMunger::munge\_state().}}
\DoxyCodeLine{00284\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classSimpleHashMap}{SimpleHashMap}}<size\_t,\ WCPT(\mbox{\hyperlink{classRenderState}{RenderState}}),\ \mbox{\hyperlink{classinteger__hash}{size\_t\_hash}}>\ \mbox{\hyperlink{classSimpleHashMap}{MungedStates}};}
\DoxyCodeLine{00285\ \ \ \textcolor{keyword}{mutable}\ \mbox{\hyperlink{classSimpleHashMap}{MungedStates}}\ \_munged\_states;}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \textcolor{comment}{//\ This\ is\ used\ to\ mark\ nodes\ as\ we\ visit\ them\ to\ detect\ cycles.}}
\DoxyCodeLine{00288\ \ \ \mbox{\hyperlink{classUpdateSeq}{UpdateSeq}}\ \_cycle\_detect;}
\DoxyCodeLine{00289\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classUpdateSeq}{UpdateSeq}}\ \_last\_cycle\_detect;}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \ \ \textcolor{comment}{//\ This\ keeps\ track\ of\ our\ current\ position\ through\ the\ garbage\ collection}}
\DoxyCodeLine{00292\ \ \ \textcolor{comment}{//\ cycle.}}
\DoxyCodeLine{00293\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{size\_t}\ \_garbage\_index;}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_cache\_update\_pcollector;}
\DoxyCodeLine{00296\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_garbage\_collect\_pcollector;}
\DoxyCodeLine{00297\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_state\_compose\_pcollector;}
\DoxyCodeLine{00298\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_state\_invert\_pcollector;}
\DoxyCodeLine{00299\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_state\_break\_cycles\_pcollector;}
\DoxyCodeLine{00300\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_state\_validate\_pcollector;}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_node\_counter;}
\DoxyCodeLine{00303\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classPStatCollector}{PStatCollector}}\ \_cache\_counter;}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00305\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00306\ \ \ \textcolor{comment}{//\ This\ is\ the\ actual\ data\ within\ the\ RenderState:\ a\ set\ of\ max\_slots}}
\DoxyCodeLine{00307\ \ \ \textcolor{comment}{//\ RenderAttribs.}}
\DoxyCodeLine{00308\ \ \ \textcolor{keyword}{class\ }Attribute\ \{}
\DoxyCodeLine{00309\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00310\ \ \ \ \ INLINE\ Attribute(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{override});}
\DoxyCodeLine{00311\ \ \ \ \ INLINE\ Attribute(\textcolor{keywordtype}{int}\ \textcolor{keyword}{override}\ =\ 0);}
\DoxyCodeLine{00312\ \ \ \ \ INLINE\ Attribute(\textcolor{keyword}{const}\ Attribute\ \&copy);}
\DoxyCodeLine{00313\ \ \ \ \ INLINE\ \textcolor{keywordtype}{void}\ operator\ =\ (\textcolor{keyword}{const}\ Attribute\ \&copy);}
\DoxyCodeLine{00314\ \ \ \ \ INLINE\ \textcolor{keywordtype}{void}\ set(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderAttrib}{RenderAttrib}}\ *attrib,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{override});}
\DoxyCodeLine{00315\ \ \ \ \ INLINE\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classcompare__to}{compare\_to}}(\textcolor{keyword}{const}\ Attribute\ \&other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \ \ \ \ CPT(\mbox{\hyperlink{classRenderAttrib}{RenderAttrib}})\ \_attrib;}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keywordtype}{int}\ \_override;}
\DoxyCodeLine{00319\ \ \ \};}
\DoxyCodeLine{00320\ \ \ Attribute\ \_attributes[RenderAttribRegistry::\_max\_slots];}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ \textcolor{comment}{//\ We\ also\ store\ a\ bitmask\ of\ the\ non-\/NULL\ attributes\ in\ the\ above\ array.}}
\DoxyCodeLine{00323\ \ \ \textcolor{comment}{//\ This\ is\ redundant,\ but\ it\ is\ a\ useful\ cache.}}
\DoxyCodeLine{00324\ \ \ \mbox{\hyperlink{classBitMask}{SlotMask}}\ \_filled\_slots;}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ \textcolor{comment}{//\ We\ cache\ the\ index\ to\ the\ associated\ CullBin,\ if\ there\ happens\ to\ be\ a}}
\DoxyCodeLine{00327\ \ \ \textcolor{comment}{//\ CullBinAttrib\ in\ the\ state.}}
\DoxyCodeLine{00328\ \ \ \textcolor{keywordtype}{int}\ \_bin\_index;}
\DoxyCodeLine{00329\ \ \ \textcolor{keywordtype}{int}\ \_draw\_order;}
\DoxyCodeLine{00330\ \ \ \textcolor{keywordtype}{size\_t}\ \_hash;}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ \textcolor{keyword}{enum}\ Flags\ \{}
\DoxyCodeLine{00333\ \ \ \ \ F\_checked\_bin\_index\ \ \ \ \ \ \ =\ 0x000001,}
\DoxyCodeLine{00334\ \ \ \ \ F\_checked\_cull\_callback\ \ \ =\ 0x000002,}
\DoxyCodeLine{00335\ \ \ \ \ F\_has\_cull\_callback\ \ \ \ \ \ \ =\ 0x000004,}
\DoxyCodeLine{00336\ \ \ \ \ F\_is\_destructing\ \ \ \ \ \ \ \ \ \ =\ 0x000008,}
\DoxyCodeLine{00337\ \ \ \ \ F\_hash\_known\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 0x000010,}
\DoxyCodeLine{00338\ \ \ \};}
\DoxyCodeLine{00339\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \_flags;}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ vector\_int\ *\_read\_overrides;\ \ \textcolor{comment}{//\ Only\ used\ during\ bam\ reading.}}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ \ \ \textcolor{comment}{//\ This\ mutex\ protects\ \_flags,\ and\ all\ of\ the\ above\ computed\ values.}}
\DoxyCodeLine{00344\ \ \ \mbox{\hyperlink{classLightMutex}{LightMutex}}\ \_lock;}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classCacheStats}{CacheStats}}\ \_cache\_stats;}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00349\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ register\_with\_read\_factory();}
\DoxyCodeLine{00350\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ write\_datagram(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg);}
\DoxyCodeLine{00351\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classTypedWritable_addc29bb978851cacca2196f8a1f35014}{complete\_pointers}}(\mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ **\mbox{\hyperlink{classplist}{plist}},\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager);}
\DoxyCodeLine{00352\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *change\_this(\mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *old\_ptr,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager);}
\DoxyCodeLine{00353\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTypedWritable_a0fc29d217d45307ff1592abae99d37a6}{finalize}}(\mbox{\hyperlink{classBamReader}{BamReader}}\ *manager);}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00355\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00356\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *make\_from\_bam(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFactoryParams}{FactoryParams}}\ \&params);}
\DoxyCodeLine{00357\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTypedWritable_a3ad6cc1cd23bc3783d83edb3302bb43c}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager);}
\DoxyCodeLine{00358\ }
\DoxyCodeLine{00359\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00360\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ get\_class\_type()\ \{}
\DoxyCodeLine{00361\ \ \ \ \ \textcolor{keywordflow}{return}\ \_type\_handle;}
\DoxyCodeLine{00362\ \ \ \}}
\DoxyCodeLine{00363\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ init\_type()\ \{}
\DoxyCodeLine{00364\ \ \ \ \ NodeCachedReferenceCount::init\_type();}
\DoxyCodeLine{00365\ \ \ \ \ \mbox{\hyperlink{register__type_8h_a54fc7cae2908ec9e8da7174a8d027735}{register\_type}}(\_type\_handle,\ \textcolor{stringliteral}{"{}RenderState"{}},}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ NodeCachedReferenceCount::get\_class\_type());}
\DoxyCodeLine{00367\ \ \ \}}
\DoxyCodeLine{00368\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ get\_type()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keywordflow}{return}\ get\_class\_type();}
\DoxyCodeLine{00370\ \ \ \}}
\DoxyCodeLine{00371\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ force\_init\_type()\ \{init\_type();\ \textcolor{keywordflow}{return}\ get\_class\_type();\}}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00373\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00374\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ \_type\_handle;}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classGraphicsStateGuardian}{GraphicsStateGuardian}};}
\DoxyCodeLine{00377\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classRenderAttribRegistry}{RenderAttribRegistry}};}
\DoxyCodeLine{00378\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classExtension}{Extension}}<\mbox{\hyperlink{classRenderState}{RenderState}}>;}
\DoxyCodeLine{00379\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classShaderGenerator}{ShaderGenerator}};}
\DoxyCodeLine{00380\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classStateMunger}{StateMunger}};}
\DoxyCodeLine{00381\ \};}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \textcolor{comment}{//\ We\ can\ safely\ redefine\ this\ as\ a\ no-\/op.}}
\DoxyCodeLine{00384\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00385\ INLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classPointerToBase}{PointerToBase<RenderState>::update\_type}}(To\ *ptr)\ \{\}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ INLINE\ std::ostream\ \&operator\ <<\ (std::ostream\ \&out,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ \&state)\ \{}
\DoxyCodeLine{00388\ \ \ state.output(out);}
\DoxyCodeLine{00389\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{00390\ \}}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \textcolor{preprocessor}{\#include\ "{}renderState.I"{}}}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ !RENDERSTATE\_H}}

\end{DoxyCode}
