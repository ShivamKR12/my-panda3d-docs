\doxysection{dynamic\+Text\+Page.\+cxx}
\hypertarget{dynamicTextPage_8cxx_source}{}\label{dynamicTextPage_8cxx_source}\index{panda/src/text/dynamicTextPage.cxx@{panda/src/text/dynamicTextPage.cxx}}
\mbox{\hyperlink{dynamicTextPage_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dynamicTextPage_8h}{dynamicTextPage.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dynamicTextFont_8h}{dynamicTextFont.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__text_8h}{config\_text.h}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#ifdef\ HAVE\_FREETYPE}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ DynamicTextPage::\_type\_handle;}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00025\ DynamicTextPage::}
\DoxyCodeLine{00026\ DynamicTextPage(DynamicTextFont\ *font,\ \textcolor{keywordtype}{int}\ page\_number)\ :}
\DoxyCodeLine{00027\ \ \ \_font(font)}
\DoxyCodeLine{00028\ \{}
\DoxyCodeLine{00029\ \ \ \textcolor{comment}{//\ Since\ the\ texture\ might\ change\ frequently,\ don't\ try\ to\ compress\ it\ by}}
\DoxyCodeLine{00030\ \ \ \textcolor{comment}{//\ default.}}
\DoxyCodeLine{00031\ \ \ set\_compression(CM\_off);}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \textcolor{comment}{//\ It's\ usually\ pretty\ important\ for\ text\ to\ look\ its\ best,\ and\ it\ doesn't}}
\DoxyCodeLine{00034\ \ \ \textcolor{comment}{//\ usually\ have\ a\ high\ fill\ factor.}}
\DoxyCodeLine{00035\ \ \ set\_quality\_level(text\_quality\_level);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \_size\ =\ \_font-\/>get\_page\_size();}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ setup\_2d\_texture(\_size[0],\ \_size[1],\ T\_unsigned\_byte,\ font-\/>get\_tex\_format());}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \textcolor{comment}{//\ Assign\ a\ name\ to\ the\ Texture.}}
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{classstd_1_1ostringstream}{std::ostringstream}}\ strm;}
\DoxyCodeLine{00043\ \ \ strm\ <<\ font-\/>get\_name()\ <<\ \textcolor{stringliteral}{"{}\_"{}}\ <<\ page\_number;}
\DoxyCodeLine{00044\ \ \ set\_name(strm.str());}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{//\ We'd\ better\ never\ free\ this\ image.}}
\DoxyCodeLine{00047\ \ \ set\_keep\_ram\_image(\textcolor{keyword}{true});}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ set\_minfilter(\_font-\/>get\_minfilter());}
\DoxyCodeLine{00050\ \ \ set\_magfilter(\_font-\/>get\_magfilter());}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ set\_anisotropic\_degree(\_font-\/>get\_anisotropic\_degree());}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \textcolor{comment}{//\ Clamp\ to\ an\ explicit\ invisible\ border,\ so\ we\ don't\ get\ bleeding\ at\ the}}
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{//\ edges\ at\ all.}}
\DoxyCodeLine{00056\ \ \ set\_wrap\_u(text\_wrap\_mode);}
\DoxyCodeLine{00057\ \ \ set\_wrap\_v(text\_wrap\_mode);}
\DoxyCodeLine{00058\ \ \ set\_border\_color(font-\/>get\_bg());}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{comment}{//\ Fill\ the\ page\ with\ the\ font's\ background\ color.}}
\DoxyCodeLine{00061\ \ \ fill\_region(0,\ 0,\ \_size[0],\ \_size[1],\ font-\/>get\_bg());}
\DoxyCodeLine{00062\ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00068\ DynamicTextGlyph\ *DynamicTextPage::}
\DoxyCodeLine{00069\ slot\_glyph(\textcolor{keywordtype}{int}\ character,\ \textcolor{keywordtype}{int}\ x\_size,\ \textcolor{keywordtype}{int}\ y\_size,\ \textcolor{keywordtype}{int}\ margin,}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ PN\_stdfloat\ advance)\ \{}
\DoxyCodeLine{00071\ \ \ \textcolor{keywordtype}{int}\ x,\ y;}
\DoxyCodeLine{00072\ \ \ \textcolor{keywordflow}{if}\ (!find\_hole(x,\ y,\ x\_size,\ y\_size))\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{//\ No\ room\ for\ the\ glyph.}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00075\ \ \ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \textcolor{comment}{//\ The\ glyph\ can\ be\ fit\ at\ (x,\ y).\ \ Slot\ it.}}
\DoxyCodeLine{00078\ \ \ PT(DynamicTextGlyph)\ glyph\ =}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{new}\ DynamicTextGlyph(character,\ \textcolor{keyword}{this},}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ x,\ y,\ x\_size,\ y\_size,\ margin,\ advance);}
\DoxyCodeLine{00081\ \ \ \_glyphs.push\_back(glyph);}
\DoxyCodeLine{00082\ \ \ \textcolor{keywordflow}{return}\ glyph;}
\DoxyCodeLine{00083\ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00088\ \textcolor{keywordtype}{void}\ DynamicTextPage::}
\DoxyCodeLine{00089\ fill\_region(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y,\ \textcolor{keywordtype}{int}\ x\_size,\ \textcolor{keywordtype}{int}\ y\_size,\ \textcolor{keyword}{const}\ LColor\ \&\mbox{\hyperlink{structcolor}{color}})\ \{}
\DoxyCodeLine{00090\ \ \ nassertv(x\ >=\ 0\ \&\&\ x\ +\ x\_size\ <=\ \_size[0]\ \&\&\ y\ >=\ 0\ \&\&\ y\ +\ y\_size\ <=\ \_size[1]);}
\DoxyCodeLine{00091\ \ \ \textcolor{keywordtype}{int}\ num\_components\ =\ get\_num\_components();}
\DoxyCodeLine{00092\ \ \ \textcolor{keywordflow}{if}\ (num\_components\ ==\ 1)\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//\ Luminance\ or\ alpha.}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{int}\ ci\ =\ 3;}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{if}\ (get\_format()\ !=\ Texture::F\_alpha)\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ ci\ =\ 0;}
\DoxyCodeLine{00097\ \ \ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ v\ =\ (\textcolor{keywordtype}{unsigned}\ char)(\mbox{\hyperlink{structcolor}{color}}[ci]\ *\ 255.0f);}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *image\ =\ modify\_ram\_image();}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ yi\ =\ y;\ yi\ <\ y\ +\ y\_size;\ yi++)\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *row\ =\ image\ +\ yi\ *\ \_size[0];}
\DoxyCodeLine{00104\ \ \ \ \ \ \ memset(row\ +\ x,\ v,\ x\_size);}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (num\_components\ ==\ 2)\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ Luminance\ +\ alpha.}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keyword}{union\ }\{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ p[2];}
\DoxyCodeLine{00112\ \ \ \ \ \ \ uint16\_t\ v;}
\DoxyCodeLine{00113\ \ \ \ \ \}\ v;}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ v.p[0]\ =\ (\textcolor{keywordtype}{unsigned}\ char)(\mbox{\hyperlink{structcolor}{color}}[0]\ *\ 255.0f);}
\DoxyCodeLine{00116\ \ \ \ \ v.p[1]\ =\ (\textcolor{keywordtype}{unsigned}\ char)(\mbox{\hyperlink{structcolor}{color}}[3]\ *\ 255.0f);}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ uint16\_t\ *image\ =\ (uint16\_t\ *)modify\_ram\_image().p();}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ yi\ =\ y;\ yi\ <\ y\ +\ y\_size;\ yi++)\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ uint16\_t\ *row\ =\ image\ +\ yi\ *\ \_size[0]\ ;}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ xi\ =\ x;\ xi\ <\ x\ +\ x\_size;\ xi++)\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ row[xi]\ =\ v.v;}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00124\ \ \ \ \ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (num\_components\ ==\ 3)\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{comment}{//\ RGB.}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ p0\ =\ (\textcolor{keywordtype}{unsigned}\ char)(\mbox{\hyperlink{structcolor}{color}}[2]\ *\ 255.0f);}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ p1\ =\ (\textcolor{keywordtype}{unsigned}\ char)(\mbox{\hyperlink{structcolor}{color}}[1]\ *\ 255.0f);}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ p2\ =\ (\textcolor{keywordtype}{unsigned}\ char)(\mbox{\hyperlink{structcolor}{color}}[0]\ *\ 255.0f);}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *image\ =\ modify\_ram\_image();}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ yi\ =\ y;\ yi\ <\ y\ +\ y\_size;\ yi++)\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ *row\ =\ image\ +\ yi\ *\ \_size[0]\ *\ 3;}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ xi\ =\ x;\ xi\ <\ x\ +\ x\_size;\ xi++)\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ row[xi\ *\ 3]\ =\ p0;}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ row[xi\ *\ 3\ +\ 1]\ =\ p1;}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ row[xi\ *\ 3\ +\ 2]\ =\ p2;}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00141\ \ \ \ \ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ (num\_components\ ==\ 4)}}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{comment}{//\ RGBA.}}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keyword}{union\ }\{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ p[4];}
\DoxyCodeLine{00147\ \ \ \ \ \ \ uint32\_t\ v;}
\DoxyCodeLine{00148\ \ \ \ \ \}\ v;}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ v.p[0]\ =\ (\textcolor{keywordtype}{unsigned}\ char)(\mbox{\hyperlink{structcolor}{color}}[2]\ *\ 255.0f);}
\DoxyCodeLine{00151\ \ \ \ \ v.p[1]\ =\ (\textcolor{keywordtype}{unsigned}\ char)(\mbox{\hyperlink{structcolor}{color}}[1]\ *\ 255.0f);}
\DoxyCodeLine{00152\ \ \ \ \ v.p[2]\ =\ (\textcolor{keywordtype}{unsigned}\ char)(\mbox{\hyperlink{structcolor}{color}}[0]\ *\ 255.0f);}
\DoxyCodeLine{00153\ \ \ \ \ v.p[3]\ =\ (\textcolor{keywordtype}{unsigned}\ char)(\mbox{\hyperlink{structcolor}{color}}[3]\ *\ 255.0f);}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ uint32\_t\ *image\ =\ (uint32\_t\ *)modify\_ram\_image().p();}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ yi\ =\ y;\ yi\ <\ y\ +\ y\_size;\ yi++)\ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ uint32\_t\ *row\ =\ image\ +\ yi\ *\ \_size[0];}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ xi\ =\ x;\ xi\ <\ x\ +\ x\_size;\ xi++)\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ row[xi]\ =\ v.v;}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00161\ \ \ \ \ \}}
\DoxyCodeLine{00162\ \ \ \}}
\DoxyCodeLine{00163\ \}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00171\ \textcolor{keywordtype}{int}\ DynamicTextPage::}
\DoxyCodeLine{00172\ garbage\_collect(DynamicTextFont\ *font)\ \{}
\DoxyCodeLine{00173\ \ \ \textcolor{keywordtype}{int}\ removed\_count\ =\ 0;}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ Glyphs\ new\_glyphs;}
\DoxyCodeLine{00176\ \ \ Glyphs::iterator\ gi;}
\DoxyCodeLine{00177\ \ \ \textcolor{keywordflow}{for}\ (gi\ =\ \_glyphs.begin();\ gi\ !=\ \_glyphs.end();\ ++gi)\ \{}
\DoxyCodeLine{00178\ \ \ \ \ DynamicTextGlyph\ *glyph\ =\ (*gi);}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordflow}{if}\ (glyph-\/>get\_ref\_count()\ >\ 1)\ \{}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \textcolor{comment}{//\ Keep\ this\ one.}}
\DoxyCodeLine{00181\ \ \ \ \ \ \ new\_glyphs.insert(new\_glyphs.end(),\ (*gi));}
\DoxyCodeLine{00182\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \textcolor{comment}{//\ Drop\ this\ one.}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ removed\_count++;}
\DoxyCodeLine{00185\ \ \ \ \ \ \ glyph-\/>erase(font);}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ \ \ \}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \_glyphs.swap(new\_glyphs);}
\DoxyCodeLine{00190\ \ \ \textcolor{keywordflow}{return}\ removed\_count;}
\DoxyCodeLine{00191\ \}}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00198\ \textcolor{keywordtype}{bool}\ DynamicTextPage::}
\DoxyCodeLine{00199\ find\_hole(\textcolor{keywordtype}{int}\ \&x,\ \textcolor{keywordtype}{int}\ \&y,\ \textcolor{keywordtype}{int}\ x\_size,\ \textcolor{keywordtype}{int}\ y\_size)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00200\ \ \ y\ =\ 0;}
\DoxyCodeLine{00201\ \ \ \textcolor{keywordflow}{while}\ (y\ +\ y\_size\ <=\ \_size[1])\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordtype}{int}\ next\_y\ =\ \_size[1];}
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{comment}{//\ Scan\ along\ the\ row\ at\ 'y'.}}
\DoxyCodeLine{00204\ \ \ \ \ x\ =\ 0;}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordflow}{while}\ (x\ +\ x\_size\ <=\ \_size[0])\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \textcolor{comment}{//\ Consider\ the\ spot\ at\ x,\ y.}}
\DoxyCodeLine{00207\ \ \ \ \ \ \ DynamicTextGlyph\ *overlap\ =\ find\_overlap(x,\ y,\ x\_size,\ y\_size);}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (overlap\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Hooray!}}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ next\_x\ =\ overlap-\/>\_x\ +\ overlap-\/>\_x\_size;}
\DoxyCodeLine{00215\ \ \ \ \ \ \ next\_y\ =\ std::min(next\_y,\ overlap-\/>\_y\ +\ overlap-\/>\_y\_size);}
\DoxyCodeLine{00216\ \ \ \ \ \ \ nassertr(next\_x\ >\ x,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00217\ \ \ \ \ \ \ x\ =\ next\_x;}
\DoxyCodeLine{00218\ \ \ \ \ \}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \ \ nassertr(next\_y\ >\ y,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00221\ \ \ \ \ y\ =\ next\_y;}
\DoxyCodeLine{00222\ \ \ \}}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \textcolor{comment}{//\ Nope,\ wouldn't\ fit\ anywhere.}}
\DoxyCodeLine{00225\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00226\ \}}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00235\ DynamicTextGlyph\ *DynamicTextPage::}
\DoxyCodeLine{00236\ find\_overlap(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y,\ \textcolor{keywordtype}{int}\ x\_size,\ \textcolor{keywordtype}{int}\ y\_size)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00237\ \ \ Glyphs::const\_iterator\ gi;}
\DoxyCodeLine{00238\ \ \ \textcolor{keywordflow}{for}\ (gi\ =\ \_glyphs.begin();\ gi\ !=\ \_glyphs.end();\ ++gi)\ \{}
\DoxyCodeLine{00239\ \ \ \ \ DynamicTextGlyph\ *glyph\ =\ (*gi);}
\DoxyCodeLine{00240\ \ \ \ \ \textcolor{keywordflow}{if}\ (glyph-\/>intersects(x,\ y,\ x\_size,\ y\_size))\ \{}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ glyph;}
\DoxyCodeLine{00242\ \ \ \ \ \}}
\DoxyCodeLine{00243\ \ \ \}}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00246\ \}}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ HAVE\_FREETYPE}}

\end{DoxyCode}
