\doxysection{lwo\+Input\+File.\+cxx}
\hypertarget{lwoInputFile_8cxx_source}{}\label{lwoInputFile_8cxx_source}\index{pandatool/src/lwo/lwoInputFile.cxx@{pandatool/src/lwo/lwoInputFile.cxx}}
\mbox{\hyperlink{lwoInputFile_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoInputFile_8h}{lwoInputFile.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoBoundingBox_8h}{lwoBoundingBox.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoClip_8h}{lwoClip.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoDiscontinuousVertexMap_8h}{lwoDiscontinuousVertexMap.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoHeader_8h}{lwoHeader.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoLayer_8h}{lwoLayer.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoPoints_8h}{lwoPoints.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoPolygons_8h}{lwoPolygons.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoPolygonTags_8h}{lwoPolygonTags.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoTags_8h}{lwoTags.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoSurface_8h}{lwoSurface.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lwoVertexMap_8h}{lwoVertexMap.h}}"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ LwoInputFile::\_type\_handle;}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00034\ LwoInputFile::}
\DoxyCodeLine{00035\ LwoInputFile()\ \{}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00041\ LwoInputFile::}
\DoxyCodeLine{00042\ \string~LwoInputFile()\ \{}
\DoxyCodeLine{00043\ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00049\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classLwoInputFile_ad799f61fd2d7e6af181a9f62fb29052e}{LwoInputFile::}}}
\DoxyCodeLine{00050\ \mbox{\hyperlink{classLwoInputFile_ad799f61fd2d7e6af181a9f62fb29052e}{get\_vx}}()\ \{}
\DoxyCodeLine{00051\ \ \ uint16\_t\ top\ =\ \mbox{\hyperlink{classIffInputFile_a52e6c61f39828c32517fe11e4268db0e}{get\_be\_uint16}}();}
\DoxyCodeLine{00052\ \ \ \textcolor{keywordflow}{if}\ ((top\ \&\ 0xff00)\ ==\ 0xff00)\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//\ The\ first\ byte\ is\ 0xff,\ which\ indicates\ we\ have\ a\ 4-\/byte\ integer.}}
\DoxyCodeLine{00054\ \ \ \ \ uint16\_t\ bottom\ =\ \mbox{\hyperlink{classIffInputFile_a52e6c61f39828c32517fe11e4268db0e}{get\_be\_uint16}}();}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordflow}{return}\ ((\textcolor{keywordtype}{int})(top\ \&\ 0xff)\ <<\ 16)\ |\ bottom;}
\DoxyCodeLine{00056\ \ \ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{comment}{//\ The\ first\ byte\ is\ not\ 0xff,\ which\ indicates\ we\ have\ a\ 2-\/byte\ integer.}}
\DoxyCodeLine{00059\ \ \ \textcolor{keywordflow}{return}\ top;}
\DoxyCodeLine{00060\ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00065\ LVecBase3\ \mbox{\hyperlink{classLwoInputFile_a53abb5ba8cb0c4f83e75d08229dacd84}{LwoInputFile::}}}
\DoxyCodeLine{00066\ \mbox{\hyperlink{classLwoInputFile_a53abb5ba8cb0c4f83e75d08229dacd84}{get\_vec3}}()\ \{}
\DoxyCodeLine{00067\ \ \ LVecBase3\ result;}
\DoxyCodeLine{00068\ \ \ result[0]\ =\ \mbox{\hyperlink{classIffInputFile_a2c33f99892ad49a0021d2c7badcd9f03}{get\_be\_float32}}();}
\DoxyCodeLine{00069\ \ \ result[1]\ =\ \mbox{\hyperlink{classIffInputFile_a2c33f99892ad49a0021d2c7badcd9f03}{get\_be\_float32}}();}
\DoxyCodeLine{00070\ \ \ result[2]\ =\ \mbox{\hyperlink{classIffInputFile_a2c33f99892ad49a0021d2c7badcd9f03}{get\_be\_float32}}();}
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00072\ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00078\ \mbox{\hyperlink{classFilename}{Filename}}\ \mbox{\hyperlink{classLwoInputFile_a359a83e61e2502eab61ce2e14997ef9d}{LwoInputFile::}}}
\DoxyCodeLine{00079\ \mbox{\hyperlink{classLwoInputFile_a359a83e61e2502eab61ce2e14997ef9d}{get\_filename}}()\ \{}
\DoxyCodeLine{00080\ \ \ \textcolor{keywordtype}{string}\ name\ =\ \mbox{\hyperlink{classIffInputFile_af022bea640741475b0904b6a41a04f4a}{get\_string}}();}
\DoxyCodeLine{00081\ \ \ \textcolor{keywordtype}{size\_t}\ colon\ =\ name.find(\textcolor{charliteral}{':'});}
\DoxyCodeLine{00082\ \ \ \textcolor{keywordflow}{if}\ (colon\ ==\ string::npos)\ \{}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{comment}{//\ No\ colon;\ it's\ just\ a\ relative\ path.}}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classFilename}{Filename}}(name);}
\DoxyCodeLine{00085\ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ The\ colon\ separates\ the\ device\ and\ the\ path.}}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordtype}{string}\ device\ =\ name.substr(0,\ colon);}
\DoxyCodeLine{00089\ \ \ \textcolor{keywordtype}{string}\ path\ =\ name.substr(colon\ +\ 1);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Ignoring\ filename\ device\ "{}}\ <<\ device\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00092\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classFilename}{Filename}}(\textcolor{stringliteral}{"{}/"{}},\ path);}
\DoxyCodeLine{00093\ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00099\ \mbox{\hyperlink{classIffChunk}{IffChunk}}\ *\mbox{\hyperlink{classLwoInputFile_aea6233858f943fbef845f1c8fd5757a8}{LwoInputFile::}}}
\DoxyCodeLine{00100\ \mbox{\hyperlink{classLwoInputFile_aea6233858f943fbef845f1c8fd5757a8}{make\_new\_chunk}}(\mbox{\hyperlink{classIffId}{IffId}}\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00101\ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}FORM"{}}))\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoHeader}{LwoHeader}};}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}LAYR"{}}))\ \{}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoLayer}{LwoLayer}};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}PNTS"{}}))\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoPoints}{LwoPoints}};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}VMAP"{}}))\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoVertexMap}{LwoVertexMap}};}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}VMAD"{}}))\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoDiscontinuousVertexMap}{LwoDiscontinuousVertexMap}};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}POLS"{}}))\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoPolygons}{LwoPolygons}};}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}TAGS"{}})\ ||}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}SRFS"{}}))\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoTags}{LwoTags}};}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}PTAG"{}}))\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoPolygonTags}{LwoPolygonTags}};}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}CLIP"{}}))\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoClip}{LwoClip}};}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}SURF"{}}))\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoSurface}{LwoSurface}};}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{id}\ ==\ \mbox{\hyperlink{classIffId}{IffId}}(\textcolor{stringliteral}{"{}BBOX"{}}))\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classLwoBoundingBox}{LwoBoundingBox}};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classIffInputFile_a53fe4cdeeb5f203ff257bc27d55fe07b}{IffInputFile::make\_new\_chunk}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00137\ \ \ \}}
\DoxyCodeLine{00138\ \}}

\end{DoxyCode}
