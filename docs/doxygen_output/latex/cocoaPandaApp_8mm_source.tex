\doxysection{cocoa\+Panda\+App.\+mm}
\hypertarget{cocoaPandaApp_8mm_source}{}\label{cocoaPandaApp_8mm_source}\index{panda/src/cocoadisplay/cocoaPandaApp.mm@{panda/src/cocoadisplay/cocoaPandaApp.mm}}
\mbox{\hyperlink{cocoaPandaApp_8mm}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#import\ "{}\mbox{\hyperlink{cocoaPandaApp_8h}{cocoaPandaApp.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__cocoadisplay_8h}{config\_cocoadisplay.h}}"{}}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{@implementation\ }\mbox{\hyperlink{interfaceCocoaPandaApp}{CocoaPandaApp}}}
\DoxyCodeLine{00018\ -\/\ (void)\ sendEvent:\ (NSEvent\ *)\ event\ \{}
\DoxyCodeLine{00019\ \ \ \textcolor{comment}{//\ This\ is\ a\ hack\ that\ allows\ us\ to\ receive\ cmd-\/key-\/up\ events\ correctly,\ as}}
\DoxyCodeLine{00020\ \ \ \textcolor{comment}{//\ well\ as\ key-\/up\ events\ during\ a\ full-\/screen\ transition.}}
\DoxyCodeLine{00021\ \ \ \textcolor{comment}{//\ Also\ prevent\ it\ from\ eating\ the\ insert/help\ key.}}
\DoxyCodeLine{00022\ \ \ \textcolor{keywordflow}{if}\ ([event\ type]\ ==\ NSKeyUp\ ||}
\DoxyCodeLine{00023\ \ \ \ \ \ \ ([event\ type]\ ==\ NSKeyDown\ \&\&\ [event\ keyCode]\ ==\ 0x72))\ \{}
\DoxyCodeLine{00024\ \ \ \ \ [[\textcolor{keyword}{self}\ keyWindow]\ sendEvent:\ event];}
\DoxyCodeLine{00025\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00026\ \ \ \ \ [\textcolor{keyword}{super}\ sendEvent:\ event];}
\DoxyCodeLine{00027\ \ \ \}}
\DoxyCodeLine{00028\ \}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ -\/\ (void)\ \_setup:\ (\textcolor{keywordtype}{void}\ *)\ interp\ \{}
\DoxyCodeLine{00031\ \ \ \textcolor{comment}{//\ This\ is\ called\ by\ Tk\ when\ it\ launches\ and\ naively\ assumes\ that\ it\ is}}
\DoxyCodeLine{00032\ \ \ \textcolor{comment}{//\ the\ first\ to\ create\ an\ NSApplication.\ \ We\ can't\ do\ anything\ about\ it}}
\DoxyCodeLine{00033\ \ \ \textcolor{comment}{//\ at\ this\ point\ except\ display\ an\ error\ message.}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ cocoadisplay\_cat.error()}
\DoxyCodeLine{00036\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Detected\ attempt\ to\ initialize\ Tk\ after\ creating\ a\ Panda\ window.\ \ "{}}}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ will\ likely\ cause\ a\ crash.\(\backslash\)n"{}}}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}To\ fix\ this,\ set\ 'want-\/tk\ true'\ in\ Config.prc\ to\ force\ "{}}}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}initialization\ of\ Tk\ before\ opening\ the\ Panda\ window.\(\backslash\)n"{}};}
\DoxyCodeLine{00040\ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ -\/\ (void)\ \_setupEventLoop\ \{}
\DoxyCodeLine{00043\ \ \ NSAutoreleasePool\ *pool\ =\ [NSAutoreleasePool\ new];}
\DoxyCodeLine{00044\ \ \ [\textcolor{keyword}{self}\ finishLaunching];}
\DoxyCodeLine{00045\ \ \ [\textcolor{keyword}{self}\ setWindowsNeedUpdate:YES];}
\DoxyCodeLine{00046\ \ \ [pool\ drain];}
\DoxyCodeLine{00047\ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{@end}}

\end{DoxyCode}
