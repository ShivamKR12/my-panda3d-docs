\doxysection{save\+\_\+egg\+\_\+file.\+cxx}
\hypertarget{save__egg__file_8cxx_source}{}\label{save__egg__file_8cxx_source}\index{panda/src/egg2pg/save\_egg\_file.cxx@{panda/src/egg2pg/save\_egg\_file.cxx}}
\mbox{\hyperlink{save__egg__file_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{save__egg__file_8h}{save\_egg\_file.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggSaver_8h}{eggSaver.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__egg2pg_8h}{config\_egg2pg.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{modelRoot_8h}{modelRoot.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sceneGraphReducer_8h}{sceneGraphReducer.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{virtualFileSystem_8h}{virtualFileSystem.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__putil_8h}{config\_putil.h}}"{}}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00026\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{00027\ \mbox{\hyperlink{save__egg__file_8cxx_a83d1ea0eea89d3a01d295a2fa26c036b}{save\_egg\_file}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFilename}{Filename}}\ \&filename,\ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *node,\ CoordinateSystem\ cs)\ \{}
\DoxyCodeLine{00028\ \ \ PT(\mbox{\hyperlink{classEggData}{EggData}})\ data\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggData}{EggData}};}
\DoxyCodeLine{00029\ \ \ \textcolor{keywordflow}{if}\ (cs\ ==\ CS\_default)\ \{}
\DoxyCodeLine{00030\ \ \ \ \ cs\ =\ get\_default\_coordinate\_system();}
\DoxyCodeLine{00031\ \ \ \}}
\DoxyCodeLine{00032\ \ \ data-\/>set\_coordinate\_system(cs);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \mbox{\hyperlink{classEggSaver}{EggSaver}}\ saver(data);}
\DoxyCodeLine{00035\ \ \ \textcolor{keywordflow}{if}\ (node-\/>is\_of\_type(ModelRoot::get\_class\_type()))\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{comment}{//\ If\ this\ is\ a\ ModelRoot,\ only\ write\ the\ nodes\ below\ it.\ \ Otherwise\ we}}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{comment}{//\ end\ up\ inserting\ a\ node\ when\ we\ do\ a\ bam2egg.}}
\DoxyCodeLine{00038\ \ \ \ \ saver.add\_subgraph(node);}
\DoxyCodeLine{00039\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00040\ \ \ \ \ saver.add\_node(node);}
\DoxyCodeLine{00041\ \ \ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \textcolor{keywordflow}{return}\ data-\/>write\_egg(filename);}
\DoxyCodeLine{00044\ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00050\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{00051\ \mbox{\hyperlink{save__egg__file_8cxx_a1ad3cccf6092c9dd6976c02f4e0c5439}{save\_egg\_data}}(\mbox{\hyperlink{classEggData}{EggData}}\ *data,\ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *node)\ \{}
\DoxyCodeLine{00052\ \ \ \mbox{\hyperlink{classEggSaver}{EggSaver}}\ saver(data);}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{if}\ (node-\/>is\_of\_type(ModelRoot::get\_class\_type()))\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{comment}{//\ If\ this\ is\ a\ ModelRoot,\ only\ write\ the\ nodes\ below\ it.\ \ Otherwise\ we}}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{comment}{//\ end\ up\ inserting\ a\ node\ when\ we\ do\ a\ bam2egg.}}
\DoxyCodeLine{00056\ \ \ \ \ saver.add\_subgraph(node);}
\DoxyCodeLine{00057\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00058\ \ \ \ \ saver.add\_node(node);}
\DoxyCodeLine{00059\ \ \ \}}
\DoxyCodeLine{00060\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00061\ \}}

\end{DoxyCode}
