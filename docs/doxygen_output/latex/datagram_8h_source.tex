\doxysection{datagram.\+h}
\hypertarget{datagram_8h_source}{}\label{datagram_8h_source}\index{panda/src/express/datagram.h@{panda/src/express/datagram.h}}
\mbox{\hyperlink{datagram_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ DATAGRAM\_H}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ DATAGRAM\_H}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandabase_8h}{pandabase.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{numeric__types_8h}{numeric\_types.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{typedObject_8h}{typedObject.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{littleEndian_8h}{littleEndian.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bigEndian_8h}{bigEndian.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pta__uchar_8h}{pta\_uchar.h}}"{}}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{class\ }EXPCL\_PANDA\_EXPRESS\ \mbox{\hyperlink{classDatagram}{Datagram}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classTypedObject}{TypedObject}}\ \{}
\DoxyCodeLine{00039\ PUBLISHED:}
\DoxyCodeLine{00040\ \ \ INLINE\ \mbox{\hyperlink{classDatagram}{Datagram}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00041\ \ \ INLINE\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classDatagram}{Datagram}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *data,\ \textcolor{keywordtype}{size\_t}\ size);}
\DoxyCodeLine{00042\ \ \ INLINE\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classDatagram}{Datagram}}(vector\_uchar\ data);}
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{classDatagram}{Datagram}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&copy)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{classDatagram}{Datagram}}(\mbox{\hyperlink{classDatagram}{Datagram}}\ \&\&from)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00045\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classDatagram}{\string~Datagram}}();}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&operator\ =\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&copy)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&operator\ =\ (\mbox{\hyperlink{classDatagram}{Datagram}}\ \&\&from)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ clear();}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordtype}{void}\ dump\_hex(std::ostream\ \&out,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}=0)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_bool(\textcolor{keywordtype}{bool}\ value);}
\DoxyCodeLine{00054\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_int8(int8\_t\ value);}
\DoxyCodeLine{00055\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_uint8(uint8\_t\ value);}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \textcolor{comment}{//\ The\ default\ numeric\ packing\ is\ little-\/endian.}}
\DoxyCodeLine{00058\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_int16(int16\_t\ value);}
\DoxyCodeLine{00059\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_int32(int32\_t\ value);}
\DoxyCodeLine{00060\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_int64(int64\_t\ value);}
\DoxyCodeLine{00061\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_uint16(uint16\_t\ value);}
\DoxyCodeLine{00062\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_uint32(uint32\_t\ value);}
\DoxyCodeLine{00063\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_uint64(uint64\_t\ value);}
\DoxyCodeLine{00064\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_float32(PN\_float32\ value);}
\DoxyCodeLine{00065\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_float64(PN\_float64\ value);}
\DoxyCodeLine{00066\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_stdfloat(PN\_stdfloat\ value);}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ These\ functions\ pack\ numbers\ big-\/endian,\ in\ case\ that's\ desired.}}
\DoxyCodeLine{00069\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_be\_int16(int16\_t\ value);}
\DoxyCodeLine{00070\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_be\_int32(int32\_t\ value);}
\DoxyCodeLine{00071\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_be\_int64(int64\_t\ value);}
\DoxyCodeLine{00072\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_be\_uint16(uint16\_t\ value);}
\DoxyCodeLine{00073\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_be\_uint32(uint32\_t\ value);}
\DoxyCodeLine{00074\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_be\_uint64(uint64\_t\ value);}
\DoxyCodeLine{00075\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_be\_float32(PN\_float32\ value);}
\DoxyCodeLine{00076\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_be\_float64(PN\_float64\ value);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_string(\textcolor{keyword}{const}\ std::string\ \&str);}
\DoxyCodeLine{00079\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_string32(\textcolor{keyword}{const}\ std::string\ \&str);}
\DoxyCodeLine{00080\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_z\_string(\textcolor{keyword}{const}\ std::string\ \&str);}
\DoxyCodeLine{00081\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_fixed\_string(\textcolor{keyword}{const}\ std::string\ \&str,\ \textcolor{keywordtype}{size\_t}\ size);}
\DoxyCodeLine{00082\ \ \ \textcolor{keywordtype}{void}\ add\_wstring(\textcolor{keyword}{const}\ std::wstring\ \&str);}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_blob(\textcolor{keyword}{const}\ vector\_uchar\ \&);}
\DoxyCodeLine{00085\ \ \ INLINE\ \textcolor{keywordtype}{void}\ add\_blob32(\textcolor{keyword}{const}\ vector\_uchar\ \&);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{keywordtype}{void}\ pad\_bytes(\textcolor{keywordtype}{size\_t}\ size);}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordtype}{void}\ append\_data(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *data,\ \textcolor{keywordtype}{size\_t}\ size);}
\DoxyCodeLine{00089\ \ \ INLINE\ \textcolor{keywordtype}{void}\ append\_data(\textcolor{keyword}{const}\ vector\_uchar\ \&data);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00092\ \ \ \textcolor{keywordtype}{void}\ assign(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *data,\ \textcolor{keywordtype}{size\_t}\ size);}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ INLINE\ std::string\ get\_message()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00095\ \ \ INLINE\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *get\_data()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ PUBLISHED:}
\DoxyCodeLine{00098\ \ \ PY\_EXTENSION(INLINE\ PyObject\ *get\_message()\ \textcolor{keyword}{const});}
\DoxyCodeLine{00099\ \ \ PY\_EXTENSION(INLINE\ PyObject\ *\_\_bytes\_\_()\ \textcolor{keyword}{const});}
\DoxyCodeLine{00100\ \ \ PY\_EXTENSION(PyObject\ *\_\_reduce\_\_()\ \textcolor{keyword}{const});}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ INLINE\ \textcolor{keywordtype}{size\_t}\ get\_length()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_array(\mbox{\hyperlink{classPointerToArray}{PTA\_uchar}}\ data);}
\DoxyCodeLine{00105\ \ \ INLINE\ \textcolor{keywordtype}{void}\ copy\_array(\mbox{\hyperlink{classConstPointerToArray}{CPTA\_uchar}}\ data);}
\DoxyCodeLine{00106\ \ \ INLINE\ \mbox{\hyperlink{classConstPointerToArray}{CPTA\_uchar}}\ get\_array()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00107\ \ \ INLINE\ \mbox{\hyperlink{classPointerToArray}{PTA\_uchar}}\ modify\_array();}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ INLINE\ \textcolor{keywordtype}{void}\ set\_stdfloat\_double(\textcolor{keywordtype}{bool}\ stdfloat\_double);}
\DoxyCodeLine{00110\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ get\_stdfloat\_double()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ operator\ ==\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00113\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ operator\ !=\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00114\ \ \ INLINE\ \textcolor{keywordtype}{bool}\ operator\ <\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \textcolor{keywordtype}{void}\ output(std::ostream\ \&out)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00117\ \ \ \textcolor{keywordtype}{void}\ write(std::ostream\ \&out,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}=0)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00120\ \ \ \mbox{\hyperlink{classPointerToArray}{PTA\_uchar}}\ \_data;}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \textcolor{preprocessor}{\#ifdef\ STDFLOAT\_DOUBLE}}
\DoxyCodeLine{00123\ \ \ \textcolor{keywordtype}{bool}\ \_stdfloat\_double\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00124\ \textcolor{preprocessor}{\#else\ }\textcolor{comment}{//\ STDFLOAT\_DOUBLE}}
\DoxyCodeLine{00125\ \ \ \textcolor{keywordtype}{bool}\ \_stdfloat\_double\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ STDFLOAT\_DOUBLE}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ get\_class\_type()\ \{}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordflow}{return}\ \_type\_handle;}
\DoxyCodeLine{00132\ \ \ \}}
\DoxyCodeLine{00133\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTypedObject_a80be20c1ff52e666d270da550a7f102a}{init\_type}}()\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \mbox{\hyperlink{classTypedObject_a80be20c1ff52e666d270da550a7f102a}{TypedObject::init\_type}}();}
\DoxyCodeLine{00135\ \ \ \ \ \mbox{\hyperlink{register__type_8h_a54fc7cae2908ec9e8da7174a8d027735}{register\_type}}(\_type\_handle,\ \textcolor{stringliteral}{"{}Datagram"{}},}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ TypedObject::get\_class\_type());}
\DoxyCodeLine{00137\ \ \ \}}
\DoxyCodeLine{00138\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ get\_type()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordflow}{return}\ get\_class\_type();}
\DoxyCodeLine{00140\ \ \ \}}
\DoxyCodeLine{00141\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ force\_init\_type()\ \{\mbox{\hyperlink{classTypedObject_a80be20c1ff52e666d270da550a7f102a}{init\_type}}();\ \textcolor{keywordflow}{return}\ get\_class\_type();\}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00145\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ \_type\_handle;}
\DoxyCodeLine{00146\ \};}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \textcolor{comment}{//\ These\ generic\ functions\ are\ primarily\ for\ writing\ a\ value\ to\ a\ datagram}}
\DoxyCodeLine{00149\ \textcolor{comment}{//\ from\ within\ a\ template\ in\ which\ the\ actual\ type\ of\ the\ value\ is\ not\ known.}}
\DoxyCodeLine{00150\ \textcolor{comment}{//\ If\ you\ do\ know\ the\ type,\ it's\ preferable\ to\ use\ the\ explicit\ add\_*()\ method}}
\DoxyCodeLine{00151\ \textcolor{comment}{//\ from\ above\ instead.}}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ INLINE\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00154\ generic\_write\_datagram(\mbox{\hyperlink{classDatagram}{Datagram}}\ \&dest,\ \textcolor{keywordtype}{bool}\ value);}
\DoxyCodeLine{00155\ INLINE\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00156\ generic\_write\_datagram(\mbox{\hyperlink{classDatagram}{Datagram}}\ \&dest,\ \textcolor{keywordtype}{int}\ value);}
\DoxyCodeLine{00157\ INLINE\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00158\ generic\_write\_datagram(\mbox{\hyperlink{classDatagram}{Datagram}}\ \&dest,\ \textcolor{keywordtype}{float}\ value);}
\DoxyCodeLine{00159\ INLINE\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00160\ generic\_write\_datagram(\mbox{\hyperlink{classDatagram}{Datagram}}\ \&dest,\ \textcolor{keywordtype}{double}\ value);}
\DoxyCodeLine{00161\ INLINE\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00162\ generic\_write\_datagram(\mbox{\hyperlink{classDatagram}{Datagram}}\ \&dest,\ \textcolor{keyword}{const}\ std::string\ \&value);}
\DoxyCodeLine{00163\ INLINE\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00164\ generic\_write\_datagram(\mbox{\hyperlink{classDatagram}{Datagram}}\ \&dest,\ \textcolor{keyword}{const}\ std::wstring\ \&value);}
\DoxyCodeLine{00165\ INLINE\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00166\ generic\_write\_datagram(\mbox{\hyperlink{classDatagram}{Datagram}}\ \&dest,\ \textcolor{keyword}{const}\ vector\_uchar\ \&value);}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\#include\ "{}datagram.I"{}}}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ !DATAGRAM\_H}}

\end{DoxyCode}
