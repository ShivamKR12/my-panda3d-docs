\doxysection{text\+Properties\+Manager.\+cxx}
\hypertarget{textPropertiesManager_8cxx_source}{}\label{textPropertiesManager_8cxx_source}\index{panda/src/text/textPropertiesManager.cxx@{panda/src/text/textPropertiesManager.cxx}}
\mbox{\hyperlink{textPropertiesManager_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{textPropertiesManager_8h}{textPropertiesManager.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{indent_8h}{indent.h}}"{}}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \mbox{\hyperlink{classTextPropertiesManager}{TextPropertiesManager}}\ *TextPropertiesManager::\_global\_ptr\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00027\ \mbox{\hyperlink{classTextPropertiesManager_a964c06aff7f7558ebf26cf3edec9571e}{TextPropertiesManager::}}}
\DoxyCodeLine{00028\ \mbox{\hyperlink{classTextPropertiesManager_a964c06aff7f7558ebf26cf3edec9571e}{TextPropertiesManager}}()\ \{}
\DoxyCodeLine{00029\ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00034\ \mbox{\hyperlink{classTextPropertiesManager_a46a92d71fd9c621da85ce919c20bc4d7}{TextPropertiesManager::}}}
\DoxyCodeLine{00035\ \mbox{\hyperlink{classTextPropertiesManager_a46a92d71fd9c621da85ce919c20bc4d7}{\string~TextPropertiesManager}}()\ \{}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00047\ \textcolor{keywordtype}{void}\ TextPropertiesManager::}
\DoxyCodeLine{00048\ set\_properties(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTextProperties}{TextProperties}}\ \&properties)\ \{}
\DoxyCodeLine{00049\ \ \ \_properties[name]\ =\ properties;}
\DoxyCodeLine{00050\ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00061\ \mbox{\hyperlink{classTextProperties}{TextProperties}}\ \mbox{\hyperlink{classTextPropertiesManager_a143e56ab545f4b444832eaa4a7b74615}{TextPropertiesManager::}}}
\DoxyCodeLine{00062\ \mbox{\hyperlink{classTextPropertiesManager_a143e56ab545f4b444832eaa4a7b74615}{get\_properties}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name)\ \{}
\DoxyCodeLine{00063\ \ \ Properties::const\_iterator\ pi;}
\DoxyCodeLine{00064\ \ \ pi\ =\ \_properties.find(name);}
\DoxyCodeLine{00065\ \ \ \textcolor{keywordflow}{if}\ (pi\ !=\ \_properties.end())\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{return}\ (*pi).second;}
\DoxyCodeLine{00067\ \ \ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ text\_cat.warning()}
\DoxyCodeLine{00070\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Creating\ default\ TextProperties\ for\ name\ '"{}}\ <<\ name\ <<\ \textcolor{stringliteral}{"{}'\(\backslash\)n"{}};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \mbox{\hyperlink{classTextProperties}{TextProperties}}\ default\_properties;}
\DoxyCodeLine{00073\ \ \ \_properties[name]\ =\ default\_properties;}
\DoxyCodeLine{00074\ \ \ \textcolor{keywordflow}{return}\ default\_properties;}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00084\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classTextPropertiesManager_af331ed9180801419b28fb79c674fa300}{TextPropertiesManager::}}}
\DoxyCodeLine{00085\ \mbox{\hyperlink{classTextPropertiesManager_af331ed9180801419b28fb79c674fa300}{has\_properties}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00086\ \ \ Properties::const\_iterator\ pi;}
\DoxyCodeLine{00087\ \ \ pi\ =\ \_properties.find(name);}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordflow}{return}\ (pi\ !=\ \_properties.end());}
\DoxyCodeLine{00089\ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00094\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTextPropertiesManager_abeed3753ed07e3c00815bf8c3af6391e}{TextPropertiesManager::}}}
\DoxyCodeLine{00095\ \mbox{\hyperlink{classTextPropertiesManager_abeed3753ed07e3c00815bf8c3af6391e}{clear\_properties}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name)\ \{}
\DoxyCodeLine{00096\ \ \ \_properties.erase(name);}
\DoxyCodeLine{00097\ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00108\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTextPropertiesManager_ad37cdf19996a4cbf32daebfcf3faedfa}{TextPropertiesManager::}}}
\DoxyCodeLine{00109\ \mbox{\hyperlink{classTextPropertiesManager_ad37cdf19996a4cbf32daebfcf3faedfa}{set\_graphic}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTextGraphic}{TextGraphic}}\ \&graphic)\ \{}
\DoxyCodeLine{00110\ \ \ \_graphics[name]\ =\ graphic;}
\DoxyCodeLine{00111\ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00119\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTextPropertiesManager_ad37cdf19996a4cbf32daebfcf3faedfa}{TextPropertiesManager::}}}
\DoxyCodeLine{00120\ \mbox{\hyperlink{classTextPropertiesManager_ad37cdf19996a4cbf32daebfcf3faedfa}{set\_graphic}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classNodePath}{NodePath}}\ \&model)\ \{}
\DoxyCodeLine{00121\ \ \ LPoint3\ min\_point,\ max\_point;}
\DoxyCodeLine{00122\ \ \ model.\mbox{\hyperlink{classNodePath_a97522b707f591db1a5781538d477ed97}{calc\_tight\_bounds}}(min\_point,\ max\_point);}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \mbox{\hyperlink{classTextGraphic}{TextGraphic}}\ graphic(model,}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ min\_point.dot(LVector3::right()),}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\_point.dot(LVector3::right()),}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ min\_point.dot(LVector3::up()),}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ max\_point.dot(LVector3::up()));}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \_graphics[name]\ =\ graphic;}
\DoxyCodeLine{00131\ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00142\ \mbox{\hyperlink{classTextGraphic}{TextGraphic}}\ \mbox{\hyperlink{classTextPropertiesManager_ae176cf7151feec84cf7bad76f993ffdd}{TextPropertiesManager::}}}
\DoxyCodeLine{00143\ \mbox{\hyperlink{classTextPropertiesManager_ae176cf7151feec84cf7bad76f993ffdd}{get\_graphic}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name)\ \{}
\DoxyCodeLine{00144\ \ \ Graphics::const\_iterator\ pi;}
\DoxyCodeLine{00145\ \ \ pi\ =\ \_graphics.find(name);}
\DoxyCodeLine{00146\ \ \ \textcolor{keywordflow}{if}\ (pi\ !=\ \_graphics.end())\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{return}\ (*pi).second;}
\DoxyCodeLine{00148\ \ \ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ text\_cat.warning()}
\DoxyCodeLine{00151\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Creating\ default\ TextGraphic\ for\ name\ '"{}}\ <<\ name\ <<\ \textcolor{stringliteral}{"{}'\(\backslash\)n"{}};}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \mbox{\hyperlink{classTextGraphic}{TextGraphic}}\ default\_graphic;}
\DoxyCodeLine{00154\ \ \ \_graphics[name]\ =\ default\_graphic;}
\DoxyCodeLine{00155\ \ \ \textcolor{keywordflow}{return}\ default\_graphic;}
\DoxyCodeLine{00156\ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00165\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classTextPropertiesManager_a82bafdabeeea85b2ed92336d26d4690b}{TextPropertiesManager::}}}
\DoxyCodeLine{00166\ \mbox{\hyperlink{classTextPropertiesManager_a82bafdabeeea85b2ed92336d26d4690b}{has\_graphic}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00167\ \ \ Graphics::const\_iterator\ pi;}
\DoxyCodeLine{00168\ \ \ pi\ =\ \_graphics.find(name);}
\DoxyCodeLine{00169\ \ \ \textcolor{keywordflow}{return}\ (pi\ !=\ \_graphics.end());}
\DoxyCodeLine{00170\ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00175\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTextPropertiesManager_af08ce63b83e9a95d8c33996b5b3e97d6}{TextPropertiesManager::}}}
\DoxyCodeLine{00176\ \mbox{\hyperlink{classTextPropertiesManager_af08ce63b83e9a95d8c33996b5b3e97d6}{clear\_graphic}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name)\ \{}
\DoxyCodeLine{00177\ \ \ \_graphics.erase(name);}
\DoxyCodeLine{00178\ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00183\ \textcolor{keywordtype}{void}\ TextPropertiesManager::}
\DoxyCodeLine{00184\ write(std::ostream\ \&out,\ \textcolor{keywordtype}{int}\ indent\_level)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00185\ \ \ Properties::const\_iterator\ pi;}
\DoxyCodeLine{00186\ \ \ \textcolor{keywordflow}{for}\ (pi\ =\ \_properties.begin();\ pi\ !=\ \_properties.end();\ ++pi)\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)}
\DoxyCodeLine{00188\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}TextProperties\ "{}}\ <<\ (*pi).first\ <<\ \textcolor{stringliteral}{"{}:\(\backslash\)n"{}};}
\DoxyCodeLine{00189\ \ \ \ \ (*pi).second.write(out,\ indent\_level\ +\ 2);}
\DoxyCodeLine{00190\ \ \ \}}
\DoxyCodeLine{00191\ \}}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00196\ \mbox{\hyperlink{classTextPropertiesManager}{TextPropertiesManager}}\ *\mbox{\hyperlink{classTextPropertiesManager_a8bdd00b1fe1ac91baa89bae420cf5211}{TextPropertiesManager::}}}
\DoxyCodeLine{00197\ \mbox{\hyperlink{classTextPropertiesManager_a8bdd00b1fe1ac91baa89bae420cf5211}{get\_global\_ptr}}()\ \{}
\DoxyCodeLine{00198\ \ \ \textcolor{keywordflow}{if}\ (\_global\_ptr\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \_global\_ptr\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classTextPropertiesManager_a964c06aff7f7558ebf26cf3edec9571e}{TextPropertiesManager}};}
\DoxyCodeLine{00200\ \ \ \}}
\DoxyCodeLine{00201\ \ \ \textcolor{keywordflow}{return}\ \_global\_ptr;}
\DoxyCodeLine{00202\ \}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00208\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTextProperties}{TextProperties}}\ *\mbox{\hyperlink{classTextPropertiesManager_ae59099746f5e40d7208a7d325a44d612}{TextPropertiesManager::}}}
\DoxyCodeLine{00209\ \mbox{\hyperlink{classTextPropertiesManager_ae59099746f5e40d7208a7d325a44d612}{get\_properties\_ptr}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name)\ \{}
\DoxyCodeLine{00210\ \ \ Properties::const\_iterator\ pi;}
\DoxyCodeLine{00211\ \ \ pi\ =\ \_properties.find(name);}
\DoxyCodeLine{00212\ \ \ \textcolor{keywordflow}{if}\ (pi\ !=\ \_properties.end())\ \{}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keywordflow}{return}\ \&(*pi).second;}
\DoxyCodeLine{00214\ \ \ \}}
\DoxyCodeLine{00215\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00216\ \}}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00222\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTextGraphic}{TextGraphic}}\ *\mbox{\hyperlink{classTextPropertiesManager_a9da7224fc76651e9ea031244eb636f52}{TextPropertiesManager::}}}
\DoxyCodeLine{00223\ \mbox{\hyperlink{classTextPropertiesManager_a9da7224fc76651e9ea031244eb636f52}{get\_graphic\_ptr}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name)\ \{}
\DoxyCodeLine{00224\ \ \ Graphics::const\_iterator\ pi;}
\DoxyCodeLine{00225\ \ \ pi\ =\ \_graphics.find(name);}
\DoxyCodeLine{00226\ \ \ \textcolor{keywordflow}{if}\ (pi\ !=\ \_graphics.end())\ \{}
\DoxyCodeLine{00227\ \ \ \ \ \textcolor{keywordflow}{return}\ \&(*pi).second;}
\DoxyCodeLine{00228\ \ \ \}}
\DoxyCodeLine{00229\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00230\ \}}

\end{DoxyCode}
