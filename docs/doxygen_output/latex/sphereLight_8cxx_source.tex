\doxysection{sphere\+Light.\+cxx}
\hypertarget{sphereLight_8cxx_source}{}\label{sphereLight_8cxx_source}\index{panda/src/pgraphnodes/sphereLight.cxx@{panda/src/pgraphnodes/sphereLight.cxx}}
\mbox{\hyperlink{sphereLight_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sphereLight_8h}{sphereLight.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{graphicsStateGuardianBase_8h}{graphicsStateGuardianBase.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamWriter_8h}{bamWriter.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamReader_8h}{bamReader.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagram_8h}{datagram.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagramIterator_8h}{datagramIterator.h}}"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ SphereLight::\_type\_handle;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00026\ \mbox{\hyperlink{classCycleData}{CycleData}}\ *SphereLight::CData::}
\DoxyCodeLine{00027\ make\_copy()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00028\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ CData(*\textcolor{keyword}{this});}
\DoxyCodeLine{00029\ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00035\ \textcolor{keywordtype}{void}\ SphereLight::CData::}
\DoxyCodeLine{00036\ write\_datagram(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00037\ \ \ dg.add\_stdfloat(\_radius);}
\DoxyCodeLine{00038\ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00044\ \textcolor{keywordtype}{void}\ SphereLight::CData::}
\DoxyCodeLine{00045\ fillin(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00046\ \ \ \_radius\ =\ scan.get\_stdfloat();}
\DoxyCodeLine{00047\ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00052\ \mbox{\hyperlink{classSphereLight_ac02fb930aa637f0ffb5332f0713c9cde}{SphereLight::}}}
\DoxyCodeLine{00053\ \mbox{\hyperlink{classSphereLight_ac02fb930aa637f0ffb5332f0713c9cde}{SphereLight}}(\textcolor{keyword}{const}\ std::string\ \&name)\ :}
\DoxyCodeLine{00054\ \ \ \mbox{\hyperlink{classPointLight}{PointLight}}(name)}
\DoxyCodeLine{00055\ \{}
\DoxyCodeLine{00056\ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00062\ \mbox{\hyperlink{classSphereLight_ac02fb930aa637f0ffb5332f0713c9cde}{SphereLight::}}}
\DoxyCodeLine{00063\ \mbox{\hyperlink{classSphereLight_ac02fb930aa637f0ffb5332f0713c9cde}{SphereLight}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classSphereLight}{SphereLight}}\ \&copy)\ :}
\DoxyCodeLine{00064\ \ \ \mbox{\hyperlink{classPointLight}{PointLight}}(copy),}
\DoxyCodeLine{00065\ \ \ \_cycler(copy.\_cycler)}
\DoxyCodeLine{00066\ \{}
\DoxyCodeLine{00067\ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00074\ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *\mbox{\hyperlink{classSphereLight_a9d110569e5357e6050a9948e0aabc431}{SphereLight::}}}
\DoxyCodeLine{00075\ \mbox{\hyperlink{classSphereLight_a9d110569e5357e6050a9948e0aabc431}{make\_copy}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00076\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classSphereLight_ac02fb930aa637f0ffb5332f0713c9cde}{SphereLight}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{00077\ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00083\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classSphereLight_a23de558dca99d9e368229f0c56ae8724}{SphereLight::}}}
\DoxyCodeLine{00084\ \mbox{\hyperlink{classSphereLight_a23de558dca99d9e368229f0c56ae8724}{xform}}(\textcolor{keyword}{const}\ LMatrix4\ \&mat)\ \{}
\DoxyCodeLine{00085\ \ \ \mbox{\hyperlink{classPointLight_a1b3d06b1e4dcd0b08a77dc37a4c5be09}{PointLight::xform}}(mat);}
\DoxyCodeLine{00086\ \ \ \mbox{\hyperlink{classCycleDataWriter}{CDWriter}}\ cdata(\_cycler);}
\DoxyCodeLine{00087\ \ \ cdata-\/>\_radius\ =\ mat.xform\_vec(LVector3(0,\ 0,\ cdata-\/>\_radius)).length();}
\DoxyCodeLine{00088\ \ \ mark\_viz\_stale();}
\DoxyCodeLine{00089\ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00094\ \textcolor{keywordtype}{void}\ SphereLight::}
\DoxyCodeLine{00095\ write(std::ostream\ \&out,\ \textcolor{keywordtype}{int}\ indent\_level)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00096\ \ \ PointLight::write(out,\ indent\_level);}
\DoxyCodeLine{00097\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ *\textcolor{keyword}{this}\ <<\ \textcolor{stringliteral}{"{}:\(\backslash\)n"{}};}
\DoxyCodeLine{00098\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level\ +\ 2)}
\DoxyCodeLine{00099\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}radius\ "{}}\ <<\ get\_radius()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00100\ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00105\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classSphereLight_a1158daa640c1fa5f27bcc3fd5674108c}{SphereLight::}}}
\DoxyCodeLine{00106\ \mbox{\hyperlink{classSphereLight_a1158daa640c1fa5f27bcc3fd5674108c}{register\_with\_read\_factory}}()\ \{}
\DoxyCodeLine{00107\ \ \ BamReader::get\_factory()-\/>register\_factory(get\_class\_type(),\ \mbox{\hyperlink{classSphereLight_a41c7c5d29dc5dd1a045edc355aafa131}{make\_from\_bam}});}
\DoxyCodeLine{00108\ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00114\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classSphereLight_afa20819da68d81ec7ffbc2569da8f1cb}{SphereLight::}}}
\DoxyCodeLine{00115\ \mbox{\hyperlink{classSphereLight_afa20819da68d81ec7ffbc2569da8f1cb}{write\_datagram}}(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg)\ \{}
\DoxyCodeLine{00116\ \ \ \mbox{\hyperlink{classPointLight_ae977c79a4fa5437d5dd61fc1f100e0e4}{PointLight::write\_datagram}}(manager,\ dg);}
\DoxyCodeLine{00117\ \ \ manager-\/>\mbox{\hyperlink{classBamWriter_a4a957fdbd6f508ee3029a41a794030cd}{write\_cdata}}(dg,\ \_cycler);}
\DoxyCodeLine{00118\ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00125\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *\mbox{\hyperlink{classSphereLight_a41c7c5d29dc5dd1a045edc355aafa131}{SphereLight::}}}
\DoxyCodeLine{00126\ \mbox{\hyperlink{classSphereLight_a41c7c5d29dc5dd1a045edc355aafa131}{make\_from\_bam}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFactoryParams}{FactoryParams}}\ \&params)\ \{}
\DoxyCodeLine{00127\ \ \ \mbox{\hyperlink{classSphereLight}{SphereLight}}\ *node\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classSphereLight_ac02fb930aa637f0ffb5332f0713c9cde}{SphereLight}}(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00128\ \ \ \mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ scan;}
\DoxyCodeLine{00129\ \ \ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager;}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ parse\_params(params,\ scan,\ manager);}
\DoxyCodeLine{00132\ \ \ node-\/>\mbox{\hyperlink{classSphereLight_adadfc20596458548eef851284437429e}{fillin}}(scan,\ manager);}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \textcolor{keywordflow}{return}\ node;}
\DoxyCodeLine{00135\ \}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00141\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classSphereLight_adadfc20596458548eef851284437429e}{SphereLight::}}}
\DoxyCodeLine{00142\ \mbox{\hyperlink{classSphereLight_adadfc20596458548eef851284437429e}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00143\ \ \ \mbox{\hyperlink{classPointLight_a7392de4dbab53dfcbbbbc6f17795913c}{PointLight::fillin}}(scan,\ manager);}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ manager-\/>\mbox{\hyperlink{classBamReader_ae63d90cd5d2c87fe3159f6b5d6d9fe10}{read\_cdata}}(scan,\ \_cycler);}
\DoxyCodeLine{00146\ \}}

\end{DoxyCode}
