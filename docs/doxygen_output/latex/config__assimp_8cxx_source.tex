\doxysection{config\+\_\+assimp.\+cxx}
\hypertarget{config__assimp_8cxx_source}{}\label{config__assimp_8cxx_source}\index{pandatool/src/assimp/config\_assimp.cxx@{pandatool/src/assimp/config\_assimp.cxx}}
\mbox{\hyperlink{config__assimp_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__assimp_8h}{config\_assimp.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{loaderFileTypeAssimp_8h}{loaderFileTypeAssimp.h}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dconfig_8h}{dconfig.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{loaderFileTypeRegistry_8h}{loaderFileTypeRegistry.h}}"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ ConfigureDef(config\_assimp);}
\DoxyCodeLine{00022\ NotifyCategoryDef(assimp,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ ConfigureFn(config\_assimp)\ \{}
\DoxyCodeLine{00025\ \ \ \mbox{\hyperlink{config__assimp_8cxx_a2ba036d9f76c7ecda7e7a3432c3eae1c}{init\_libassimp}}();}
\DoxyCodeLine{00026\ \}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ assimp\_calc\_tangent\_space}
\DoxyCodeLine{00029\ (\textcolor{stringliteral}{"{}assimp-\/calc-\/tangent-\/space"{}},\ \textcolor{keyword}{false},}
\DoxyCodeLine{00030\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Calculates\ tangents\ and\ binormals\ for\ meshes\ imported\ via\ Assimp."{}}));}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ assimp\_join\_identical\_vertices}
\DoxyCodeLine{00033\ (\textcolor{stringliteral}{"{}assimp-\/join-\/identical-\/vertices"{}},\ \textcolor{keyword}{true},}
\DoxyCodeLine{00034\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Merges\ duplicate\ vertices.\ \ Set\ this\ to\ false\ if\ you\ want\ each\ "{}}}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}vertex\ to\ only\ be\ in\ use\ on\ one\ triangle."{}}));}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ assimp\_improve\_cache\_locality}
\DoxyCodeLine{00038\ (\textcolor{stringliteral}{"{}assimp-\/improve-\/cache-\/locality"{}},\ \textcolor{keyword}{true},}
\DoxyCodeLine{00039\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Improves\ rendering\ performance\ of\ the\ loaded\ meshes\ by\ reordering\ "{}}}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}triangles\ for\ better\ vertex\ cache\ locality.\ \ Set\ this\ to\ false\ if\ "{}}}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}you\ need\ geometry\ to\ be\ loaded\ in\ the\ exact\ order\ that\ it\ was\ "{}}}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}specified\ in\ the\ file,\ or\ to\ improve\ load\ performance."{}}));}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ assimp\_remove\_redundant\_materials}
\DoxyCodeLine{00045\ (\textcolor{stringliteral}{"{}assimp-\/remove-\/redundant-\/materials"{}},\ \textcolor{keyword}{true},}
\DoxyCodeLine{00046\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Removes\ redundant/unreferenced\ materials\ from\ assets."{}}));}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ assimp\_fix\_infacing\_normals}
\DoxyCodeLine{00049\ (\textcolor{stringliteral}{"{}assimp-\/fix-\/infacing-\/normals"{}},\ \textcolor{keyword}{false},}
\DoxyCodeLine{00050\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Determines\ which\ normal\ vectors\ are\ facing\ inward\ and\ inverts\ them\ "{}}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}so\ that\ they\ are\ facing\ outward."{}}));}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ assimp\_optimize\_meshes}
\DoxyCodeLine{00054\ (\textcolor{stringliteral}{"{}assimp-\/optimize-\/meshes"{}},\ \textcolor{keyword}{true},}
\DoxyCodeLine{00055\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Reduces\ the\ number\ of\ draw\ calls\ by\ unifying\ geometry\ with\ the\ same\ "{}}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}materials.\ \ Especially\ effective\ in\ conjunction\ with\ "{}}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}assimp-\/optimize-\/graph\ and\ assimp-\/remove-\/redundant-\/materials."{}}));}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ assimp\_optimize\_graph}
\DoxyCodeLine{00060\ (\textcolor{stringliteral}{"{}assimp-\/optimize-\/graph"{}},\ \textcolor{keyword}{false},}
\DoxyCodeLine{00061\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Optimizes\ the\ scene\ geometry\ by\ flattening\ the\ scene\ hierarchy.\ \ "{}}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ is\ very\ efficient\ (combined\ with\ assimp-\/optimize-\/meshes),\ but\ "{}}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}it\ may\ result\ the\ hierarchy\ to\ become\ lost,\ so\ it\ is\ disabled\ by\ "{}}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}default."{}}));}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ assimp\_flip\_winding\_order}
\DoxyCodeLine{00067\ (\textcolor{stringliteral}{"{}assimp-\/flip-\/winding-\/order"{}},\ \textcolor{keyword}{false},}
\DoxyCodeLine{00068\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ true\ to\ flip\ the\ winding\ order\ of\ all\ models\ loaded\ via\ "{}}}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}the\ Assimp\ loader.\ \ Note\ that\ you\ may\ need\ to\ clear\ the\ model-\/cache\ "{}}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}after\ changing\ this."{}}));}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ assimp\_gen\_normals}
\DoxyCodeLine{00073\ (\textcolor{stringliteral}{"{}assimp-\/gen-\/normals"{}},\ \textcolor{keyword}{false},}
\DoxyCodeLine{00074\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ true\ to\ generate\ normals\ (if\ absent\ from\ file)\ on\ import.\ "{}}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}See\ assimp-\/smooth-\/normal-\/angle\ for\ more\ information.\ "{}}}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Note\ that\ you\ may\ need\ to\ clear\ the\ model-\/cache\ after\ "{}}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}changing\ this."{}}));}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \mbox{\hyperlink{classConfigVariableDouble}{ConfigVariableDouble}}\ assimp\_smooth\_normal\_angle}
\DoxyCodeLine{00080\ (\textcolor{stringliteral}{"{}assimp-\/smooth-\/normal-\/angle"{}},\ 0.0,}
\DoxyCodeLine{00081\ \ PRC\_DESC(\textcolor{stringliteral}{"{}Set\ this\ to\ anything\ other\ than\ 0.0\ in\ degrees\ (so\ 180.0\ is\ PI)\ to\ "{}}}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}specify\ the\ maximum\ angle\ that\ may\ be\ between\ two\ face\ normals\ at\ "{}}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}the\ same\ vertex\ position\ that\ are\ smoothed\ together.\ Sometimes\ "{}}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}referred\ to\ as\ 'crease\ angle'.\ Only\ has\ effect\ if\ "{}}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}assimp-\/gen-\/normals\ is\ set\ to\ true\ and\ the\ file\ does\ not\ contain\ "{}}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}normals.\ Note\ that\ you\ may\ need\ to\ clear\ the\ model-\/cache\ after\ "{}}}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}changing\ this."{}}));}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \mbox{\hyperlink{classConfigVariableBool}{ConfigVariableBool}}\ assimp\_collapse\_dummy\_root\_node}
\DoxyCodeLine{00090\ (\textcolor{stringliteral}{"{}assimp-\/collapse-\/dummy-\/root-\/node"{}},\ \textcolor{keyword}{true},}
\DoxyCodeLine{00091\ \ PRC\_DESC(\textcolor{stringliteral}{"{}If\ set\ to\ true,\ collapses\ the\ root\ node\ that\ Assimp\ creates,\ if\ it\ "{}}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}appears\ to\ be\ a\ synthetic\ dummy\ root\ node\ and\ contains\ no\ meshes.\ \ "{}}}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ variable\ is\ new\ as\ of\ Panda3D\ 1.10.13\ and\ will\ become\ true\ by\ "{}}}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}default\ as\ of\ Panda3D\ 1.11.0."{}}));}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00102\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00103\ \mbox{\hyperlink{config__assimp_8cxx_a2ba036d9f76c7ecda7e7a3432c3eae1c}{init\_libassimp}}()\ \{}
\DoxyCodeLine{00104\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ initialized\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00105\ \ \ \textcolor{keywordflow}{if}\ (initialized)\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00107\ \ \ \}}
\DoxyCodeLine{00108\ \ \ initialized\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ LoaderFileTypeAssimp::init\_type();}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \mbox{\hyperlink{classLoaderFileTypeRegistry}{LoaderFileTypeRegistry}}\ *reg\ =\ \mbox{\hyperlink{classLoaderFileTypeRegistry_ac6954c075886ef7cfe96564e80e83ed8}{LoaderFileTypeRegistry::get\_global\_ptr}}();}
\DoxyCodeLine{00113\ \ \ reg-\/>\mbox{\hyperlink{classLoaderFileTypeRegistry_a12f2170ebe2987b459dae3613c7f3a52}{register\_type}}(\textcolor{keyword}{new}\ \mbox{\hyperlink{classLoaderFileTypeAssimp}{LoaderFileTypeAssimp}});}
\DoxyCodeLine{00114\ \}}

\end{DoxyCode}
