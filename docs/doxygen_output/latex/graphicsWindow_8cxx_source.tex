\doxysection{graphics\+Window.\+cxx}
\hypertarget{graphicsWindow_8cxx_source}{}\label{graphicsWindow_8cxx_source}\index{panda/src/display/graphicsWindow.cxx@{panda/src/display/graphicsWindow.cxx}}
\mbox{\hyperlink{graphicsWindow_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{graphicsWindow_8h}{graphicsWindow.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{graphicsPipe_8h}{graphicsPipe.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__display_8h}{config\_display.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{mouseButton_8h}{mouseButton.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{keyboardButton_8h}{keyboardButton.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lightMutexHolder_8h}{lightMutexHolder.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lightReMutexHolder_8h}{lightReMutexHolder.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{throw__event_8h}{throw\_event.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{string__utils_8h}{string\_utils.h}}"{}}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ GraphicsWindow::\_type\_handle;}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00032\ \mbox{\hyperlink{classGraphicsWindow_aeb70cfc439a89321d58900be9e19c47e}{GraphicsWindow::}}}
\DoxyCodeLine{00033\ \mbox{\hyperlink{classGraphicsWindow_aeb70cfc439a89321d58900be9e19c47e}{GraphicsWindow}}(\mbox{\hyperlink{classGraphicsEngine}{GraphicsEngine}}\ *engine,\ \mbox{\hyperlink{classGraphicsPipe}{GraphicsPipe}}\ *pipe,}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name,}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ \&fb\_prop,}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \&win\_prop,}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ flags,}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsStateGuardian}{GraphicsStateGuardian}}\ *gsg,}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsOutput}{GraphicsOutput}}\ *host)\ :}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{classGraphicsOutput}{GraphicsOutput}}(engine,\ pipe,\ name,\ fb\_prop,\ win\_prop,\ flags,\ gsg,\ host,\ true),}
\DoxyCodeLine{00041\ \ \ \_input\_lock(\textcolor{stringliteral}{"{}GraphicsWindow::\_input\_lock"{}}),}
\DoxyCodeLine{00042\ \ \ \_latency\_pcollector(name\ +\ \textcolor{stringliteral}{"{}\ latency"{}}),}
\DoxyCodeLine{00043\ \ \ \_properties\_lock(\textcolor{stringliteral}{"{}GraphicsWindow::\_properties\_lock"{}})}
\DoxyCodeLine{00044\ \{}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#ifdef\ DO\_MEMORY\_USAGE}}
\DoxyCodeLine{00046\ \ \ MemoryUsage::update\_type(\textcolor{keyword}{this},\ \textcolor{keyword}{this});}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \textcolor{keywordflow}{if}\ (display\_cat.is\_debug())\ \{}
\DoxyCodeLine{00050\ \ \ \ \ display\_cat.debug()}
\DoxyCodeLine{00051\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Creating\ new\ window\ "{}}\ <<\ get\_name()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00052\ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \_properties.set\_open(\textcolor{keyword}{false});}
\DoxyCodeLine{00055\ \ \ \_properties.set\_undecorated(\textcolor{keyword}{false});}
\DoxyCodeLine{00056\ \ \ \_properties.set\_fullscreen(\textcolor{keyword}{false});}
\DoxyCodeLine{00057\ \ \ \_properties.set\_minimized(\textcolor{keyword}{false});}
\DoxyCodeLine{00058\ \ \ \_properties.set\_maximized(\textcolor{keyword}{false});}
\DoxyCodeLine{00059\ \ \ \_properties.set\_cursor\_hidden(\textcolor{keyword}{false});}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \mbox{\hyperlink{classGraphicsWindow_a7ca77fe6bd7bd33ea9877d68ed6241ae}{request\_properties}}(\mbox{\hyperlink{classWindowProperties_af6ad8ea4f93ac3c901a50ecd0b2aa536}{WindowProperties::get\_default}}());}
\DoxyCodeLine{00062\ \ \ \mbox{\hyperlink{classGraphicsWindow_a7ca77fe6bd7bd33ea9877d68ed6241ae}{request\_properties}}(win\_prop);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \_window\_event\ =\ \textcolor{stringliteral}{"{}window-\/event"{}};}
\DoxyCodeLine{00065\ \ \ \_got\_expose\_event\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00066\ \ \ \_unexposed\_draw\ =\ win\_unexposed\_draw;}
\DoxyCodeLine{00067\ \ \ \mbox{\hyperlink{classDrawableRegion_afccc41c6f07d54f22446baeb870f4568}{set\_pixel\_zoom}}(pixel\_zoom);}
\DoxyCodeLine{00068\ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00073\ GraphicsWindow::}
\DoxyCodeLine{00074\ \string~GraphicsWindow()\ \{}
\DoxyCodeLine{00075\ \ \ \textcolor{comment}{//\ Clean\ up\ python\ event\ handlers.}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#ifdef\ HAVE\_PYTHON}}
\DoxyCodeLine{00077\ \ \ PythonWinProcClasses::iterator\ iter;}
\DoxyCodeLine{00078\ \ \ \textcolor{keywordflow}{for}\ (iter\ =\ \_python\_window\_proc\_classes.begin();}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ iter\ !=\ \_python\_window\_proc\_classes.end();}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ ++iter)\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keyword}{delete}\ *iter;}
\DoxyCodeLine{00082\ \ \ \}}
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00084\ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00089\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \mbox{\hyperlink{classGraphicsWindow_ad6d8bc111442c5588e0d66859a322388}{GraphicsWindow::}}}
\DoxyCodeLine{00090\ \mbox{\hyperlink{classGraphicsWindow_ad6d8bc111442c5588e0d66859a322388}{get\_properties}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00091\ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ result;}
\DoxyCodeLine{00092\ \ \ \{}
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00094\ \ \ \ \ result\ =\ \_properties;}
\DoxyCodeLine{00095\ \ \ \}}
\DoxyCodeLine{00096\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00097\ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00104\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \mbox{\hyperlink{classGraphicsWindow_a5ef33d0ce48875ebc96f222a2eb180dc}{GraphicsWindow::}}}
\DoxyCodeLine{00105\ \mbox{\hyperlink{classGraphicsWindow_a5ef33d0ce48875ebc96f222a2eb180dc}{get\_requested\_properties}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00106\ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ result;}
\DoxyCodeLine{00107\ \ \ \{}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00109\ \ \ \ \ result\ =\ \_requested\_properties;}
\DoxyCodeLine{00110\ \ \ \}}
\DoxyCodeLine{00111\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00112\ \}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00118\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_a22205393b5d750bd90d0b022cb3635ef}{GraphicsWindow::}}}
\DoxyCodeLine{00119\ \mbox{\hyperlink{classGraphicsWindow_a22205393b5d750bd90d0b022cb3635ef}{clear\_rejected\_properties}}()\ \{}
\DoxyCodeLine{00120\ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00121\ \ \ \_rejected\_properties.\mbox{\hyperlink{classWindowProperties_a4d1f3070c100c25f9dfc937be8347fd4}{clear}}();}
\DoxyCodeLine{00122\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00130\ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \mbox{\hyperlink{classGraphicsWindow_ab9afdb50960fc7c99f03c33736e94ff8}{GraphicsWindow::}}}
\DoxyCodeLine{00131\ \mbox{\hyperlink{classGraphicsWindow_ab9afdb50960fc7c99f03c33736e94ff8}{get\_rejected\_properties}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00132\ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ result;}
\DoxyCodeLine{00133\ \ \ \{}
\DoxyCodeLine{00134\ \ \ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00135\ \ \ \ \ result\ =\ \_rejected\_properties;}
\DoxyCodeLine{00136\ \ \ \}}
\DoxyCodeLine{00137\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00138\ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00148\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_a7ca77fe6bd7bd33ea9877d68ed6241ae}{GraphicsWindow::}}}
\DoxyCodeLine{00149\ \mbox{\hyperlink{classGraphicsWindow_a7ca77fe6bd7bd33ea9877d68ed6241ae}{request\_properties}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \&requested\_properties)\ \{}
\DoxyCodeLine{00150\ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00151\ \ \ \_requested\_properties.\mbox{\hyperlink{classWindowProperties_a006f7a4a43281e65a02704ee493c8a95}{add\_properties}}(requested\_properties);}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \textcolor{keywordflow}{if}\ (!\_has\_size\ \&\&\ \_requested\_properties.has\_size())\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{comment}{//\ If\ we\ just\ requested\ a\ particular\ size,\ anticipate\ that\ it\ will\ stick.}}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{comment}{//\ This\ is\ helpful\ for\ the\ MultitexReducer,\ which\ needs\ to\ know\ the\ size}}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{comment}{//\ of\ the\ textures\ that\ it\ will\ be\ working\ with,\ even\ if\ the\ texture}}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{comment}{//\ hasn't\ been\ fully\ generated\ yet.}}
\DoxyCodeLine{00158\ \ \ \ \ \_size\ =\ \_requested\_properties.get\_size();}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{comment}{//\ Don't\ set\ \_has\_size\ yet,\ because\ we\ don't\ really\ know\ yet.}}
\DoxyCodeLine{00161\ \ \ \}}
\DoxyCodeLine{00162\ \}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00167\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsWindow_af8f4d930a83689b1d92a9589cfe9e2b4}{GraphicsWindow::}}}
\DoxyCodeLine{00168\ \mbox{\hyperlink{classGraphicsWindow_af8f4d930a83689b1d92a9589cfe9e2b4}{is\_active}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00169\ \ \ \textcolor{comment}{//\ Make\ this\ smarter?}}
\DoxyCodeLine{00170\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classGraphicsOutput_a95095b8c8c7b7b8ecf7c84062c0e3520}{GraphicsOutput::is\_active}}()\ \&\&\ \_properties.get\_open()\ \&\&\ !\_properties.get\_minimized();}
\DoxyCodeLine{00171\ \}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00181\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_a2f8b297b3ce5c28913f92cde080daa02}{GraphicsWindow::}}}
\DoxyCodeLine{00182\ \mbox{\hyperlink{classGraphicsWindow_a2f8b297b3ce5c28913f92cde080daa02}{set\_window\_event}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&window\_event)\ \{}
\DoxyCodeLine{00183\ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00184\ \ \ \_window\_event\ =\ window\_event;}
\DoxyCodeLine{00185\ \}}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00192\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classGraphicsWindow_a1342910ca208c0a0d55628468cb963e8}{GraphicsWindow::}}}
\DoxyCodeLine{00193\ \mbox{\hyperlink{classGraphicsWindow_a1342910ca208c0a0d55628468cb963e8}{get\_window\_event}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00194\ \ \ \textcolor{keywordtype}{string}\ result;}
\DoxyCodeLine{00195\ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00196\ \ \ result\ =\ \_window\_event;}
\DoxyCodeLine{00197\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00198\ \}}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00217\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_a9e45a345fe6bd320024a438af2cf65d0}{GraphicsWindow::}}}
\DoxyCodeLine{00218\ \mbox{\hyperlink{classGraphicsWindow_a9e45a345fe6bd320024a438af2cf65d0}{set\_close\_request\_event}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&close\_request\_event)\ \{}
\DoxyCodeLine{00219\ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00220\ \ \ \_close\_request\_event\ =\ close\_request\_event;}
\DoxyCodeLine{00221\ \}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00228\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classGraphicsWindow_a32be1f575301c71175ff3750a38b0c01}{GraphicsWindow::}}}
\DoxyCodeLine{00229\ \mbox{\hyperlink{classGraphicsWindow_a32be1f575301c71175ff3750a38b0c01}{get\_close\_request\_event}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00230\ \ \ \textcolor{keywordtype}{string}\ result;}
\DoxyCodeLine{00231\ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00232\ \ \ result\ =\ \_close\_request\_event;}
\DoxyCodeLine{00233\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00234\ \}}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00242\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGraphicsWindow_ac59f11f314cb6010a65e6568aacb7c0c}{GraphicsWindow::}}}
\DoxyCodeLine{00243\ \mbox{\hyperlink{classGraphicsWindow_ac59f11f314cb6010a65e6568aacb7c0c}{get\_num\_input\_devices}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00244\ \ \ \textcolor{keywordtype}{int}\ result;}
\DoxyCodeLine{00245\ \ \ \{}
\DoxyCodeLine{00246\ \ \ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(\_input\_lock);}
\DoxyCodeLine{00247\ \ \ \ \ result\ =\ \_input\_devices.size();}
\DoxyCodeLine{00248\ \ \ \}}
\DoxyCodeLine{00249\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00250\ \}}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00256\ \mbox{\hyperlink{classInputDevice}{InputDevice}}\ *\mbox{\hyperlink{classGraphicsWindow_a2d56c2fa54651a23bc83b23c41680fe2}{GraphicsWindow::}}}
\DoxyCodeLine{00257\ \mbox{\hyperlink{classGraphicsWindow_a2d56c2fa54651a23bc83b23c41680fe2}{get\_input\_device}}(\textcolor{keywordtype}{int}\ device)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00258\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(\_input\_lock);}
\DoxyCodeLine{00259\ \ \ nassertr(device\ >=\ 0\ \&\&\ device\ <\ (\textcolor{keywordtype}{int})\_input\_devices.size(),\ NULL);}
\DoxyCodeLine{00260\ \ \ \textcolor{keywordflow}{return}\ \_input\_devices[device];}
\DoxyCodeLine{00261\ \}}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00266\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classGraphicsWindow_af5187dd2b815bbfcf380b351baa7d71f}{GraphicsWindow::}}}
\DoxyCodeLine{00267\ \mbox{\hyperlink{classGraphicsWindow_af5187dd2b815bbfcf380b351baa7d71f}{get\_input\_device\_name}}(\textcolor{keywordtype}{int}\ device)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00268\ \ \ \textcolor{keywordtype}{string}\ result;}
\DoxyCodeLine{00269\ \ \ \{}
\DoxyCodeLine{00270\ \ \ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(\_input\_lock);}
\DoxyCodeLine{00271\ \ \ \ \ nassertr(device\ >=\ 0\ \&\&\ device\ <\ (\textcolor{keywordtype}{int})\_input\_devices.size(),\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00272\ \ \ \ \ result\ =\ \_input\_devices[device]-\/>get\_name();}
\DoxyCodeLine{00273\ \ \ \}}
\DoxyCodeLine{00274\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00275\ \}}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00281\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsWindow_ac2af60ca03a08d098e8914efe1fc1e9d}{GraphicsWindow::}}}
\DoxyCodeLine{00282\ \mbox{\hyperlink{classGraphicsWindow_ac2af60ca03a08d098e8914efe1fc1e9d}{has\_pointer}}(\textcolor{keywordtype}{int}\ device)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00283\ \ \ \textcolor{keywordtype}{bool}\ result;}
\DoxyCodeLine{00284\ \ \ \{}
\DoxyCodeLine{00285\ \ \ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(\_input\_lock);}
\DoxyCodeLine{00286\ \ \ \ \ nassertr(device\ >=\ 0\ \&\&\ device\ <\ (\textcolor{keywordtype}{int})\_input\_devices.size(),\ \textcolor{keyword}{false});}
\DoxyCodeLine{00287\ \ \ \ \ result\ =\ \_input\_devices[device]-\/>has\_pointer();}
\DoxyCodeLine{00288\ \ \ \}}
\DoxyCodeLine{00289\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00290\ \}}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00295\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsWindow_af7b53d88db4d8aae169ea51d13441825}{GraphicsWindow::}}}
\DoxyCodeLine{00296\ \mbox{\hyperlink{classGraphicsWindow_af7b53d88db4d8aae169ea51d13441825}{has\_keyboard}}(\textcolor{keywordtype}{int}\ device)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00297\ \ \ \textcolor{keywordtype}{bool}\ result;}
\DoxyCodeLine{00298\ \ \ \{}
\DoxyCodeLine{00299\ \ \ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(\_input\_lock);}
\DoxyCodeLine{00300\ \ \ \ \ nassertr(device\ >=\ 0\ \&\&\ device\ <\ (\textcolor{keywordtype}{int})\_input\_devices.size(),\ \textcolor{keyword}{false});}
\DoxyCodeLine{00301\ \ \ \ \ result\ =\ \_input\_devices[device]-\/>has\_keyboard();}
\DoxyCodeLine{00302\ \ \ \}}
\DoxyCodeLine{00303\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00304\ \}}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00310\ \mbox{\hyperlink{classButtonMap}{ButtonMap}}\ *\mbox{\hyperlink{classGraphicsWindow_af42c2aea7300bdcab1409bf6a766728f}{GraphicsWindow::}}}
\DoxyCodeLine{00311\ \mbox{\hyperlink{classGraphicsWindow_af42c2aea7300bdcab1409bf6a766728f}{get\_keyboard\_map}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00312\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00313\ \}}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00318\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_af085ab858948537cedbade179dc15cf6}{GraphicsWindow::}}}
\DoxyCodeLine{00319\ \mbox{\hyperlink{classGraphicsWindow_af085ab858948537cedbade179dc15cf6}{enable\_pointer\_events}}(\textcolor{keywordtype}{int}\ device)\ \{}
\DoxyCodeLine{00320\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(\_input\_lock);}
\DoxyCodeLine{00321\ \ \ nassertv(device\ >=\ 0\ \&\&\ device\ <\ (\textcolor{keywordtype}{int})\_input\_devices.size());}
\DoxyCodeLine{00322\ \ \ \_input\_devices[device]-\/>enable\_pointer\_events();}
\DoxyCodeLine{00323\ \}}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00328\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_a201d0857cdacfcf83119db561e700142}{GraphicsWindow::}}}
\DoxyCodeLine{00329\ \mbox{\hyperlink{classGraphicsWindow_a201d0857cdacfcf83119db561e700142}{disable\_pointer\_events}}(\textcolor{keywordtype}{int}\ device)\ \{}
\DoxyCodeLine{00330\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(\_input\_lock);}
\DoxyCodeLine{00331\ \ \ nassertv(device\ >=\ 0\ \&\&\ device\ <\ (\textcolor{keywordtype}{int})\_input\_devices.size());}
\DoxyCodeLine{00332\ \ \ \_input\_devices[device]-\/>disable\_pointer\_events();}
\DoxyCodeLine{00333\ \}}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00338\ \textcolor{comment}{/*}}
\DoxyCodeLine{00339\ \textcolor{comment}{void\ GraphicsWindow::}}
\DoxyCodeLine{00340\ \textcolor{comment}{enable\_pointer\_mode(int\ device,\ double\ speed)\ \{}}
\DoxyCodeLine{00341\ \textcolor{comment}{\ \ LightMutexHolder\ holder(\_input\_lock);}}
\DoxyCodeLine{00342\ \textcolor{comment}{\ \ nassertv(device\ >=\ 0\ \&\&\ device\ <\ (int)\_input\_devices.size());}}
\DoxyCodeLine{00343\ \textcolor{comment}{\ \ \_input\_devices[device]-\/>enable\_pointer\_mode(speed);}}
\DoxyCodeLine{00344\ \textcolor{comment}{\}*/}}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00349\ \textcolor{comment}{/*}}
\DoxyCodeLine{00350\ \textcolor{comment}{void\ GraphicsWindow::}}
\DoxyCodeLine{00351\ \textcolor{comment}{disable\_pointer\_mode(int\ device)\ \{}}
\DoxyCodeLine{00352\ \textcolor{comment}{\ \ LightMutexHolder\ holder(\_input\_lock);}}
\DoxyCodeLine{00353\ \textcolor{comment}{\ \ nassertv(device\ >=\ 0\ \&\&\ device\ <\ (int)\_input\_devices.size());}}
\DoxyCodeLine{00354\ \textcolor{comment}{\ \ \_input\_devices[device]-\/>disable\_pointer\_mode();}}
\DoxyCodeLine{00355\ \textcolor{comment}{\}*/}}
\DoxyCodeLine{00356\ }
\DoxyCodeLine{00362\ \mbox{\hyperlink{classPointerData}{PointerData}}\ \mbox{\hyperlink{classGraphicsWindow_a738bdbbf23a0bebbaf2914858e73440f}{GraphicsWindow::}}}
\DoxyCodeLine{00363\ \mbox{\hyperlink{classGraphicsWindow_a738bdbbf23a0bebbaf2914858e73440f}{get\_pointer}}(\textcolor{keywordtype}{int}\ device)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00364\ \ \ \mbox{\hyperlink{classPointerData}{PointerData}}\ result;}
\DoxyCodeLine{00365\ \ \ \{}
\DoxyCodeLine{00366\ \ \ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(\_input\_lock);}
\DoxyCodeLine{00367\ \ \ \ \ nassertr(device\ >=\ 0\ \&\&\ device\ <\ (\textcolor{keywordtype}{int})\_input\_devices.size(),\ \mbox{\hyperlink{classPointerData}{PointerData}}());}
\DoxyCodeLine{00368\ \ \ \ \ result\ =\ ((\textcolor{keyword}{const}\ \mbox{\hyperlink{classGraphicsWindowInputDevice}{GraphicsWindowInputDevice}}\ *)\_input\_devices[device].p())-\/>\mbox{\hyperlink{classGraphicsWindow_a738bdbbf23a0bebbaf2914858e73440f}{get\_pointer}}();}
\DoxyCodeLine{00369\ \ \ \}}
\DoxyCodeLine{00370\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00371\ \}}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00381\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsWindow_a23730a7be129d514419f0903b36bed86}{GraphicsWindow::}}}
\DoxyCodeLine{00382\ \mbox{\hyperlink{classGraphicsWindow_a23730a7be129d514419f0903b36bed86}{move\_pointer}}(\textcolor{keywordtype}{int},\ \textcolor{keywordtype}{int},\ \textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{00383\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00384\ \}}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00390\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_a9320c164027366893e4f5494897c1939}{GraphicsWindow::}}}
\DoxyCodeLine{00391\ \mbox{\hyperlink{classGraphicsWindow_a9320c164027366893e4f5494897c1939}{close\_ime}}()\ \{}
\DoxyCodeLine{00392\ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00393\ \}}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00412\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGraphicsWindow_ad5b98a1a4e08071b771d441dcd4ec8b1}{GraphicsWindow::}}}
\DoxyCodeLine{00413\ \mbox{\hyperlink{classGraphicsWindow_ad5b98a1a4e08071b771d441dcd4ec8b1}{verify\_window\_sizes}}(\textcolor{keywordtype}{int}\ numsizes,\ \textcolor{keywordtype}{int}\ *dimen)\ \{}
\DoxyCodeLine{00414\ \ \ \textcolor{keywordflow}{return}\ numsizes;}
\DoxyCodeLine{00415\ \}}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00422\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_a0428c17d1239772a81e2e95df845f200}{GraphicsWindow::}}}
\DoxyCodeLine{00423\ \mbox{\hyperlink{classGraphicsWindow_a0428c17d1239772a81e2e95df845f200}{request\_open}}()\ \{}
\DoxyCodeLine{00424\ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ open\_properties;}
\DoxyCodeLine{00425\ \ \ open\_properties.set\_open(\textcolor{keyword}{true});}
\DoxyCodeLine{00426\ \ \ \mbox{\hyperlink{classGraphicsWindow_a7ca77fe6bd7bd33ea9877d68ed6241ae}{request\_properties}}(open\_properties);}
\DoxyCodeLine{00427\ \}}
\DoxyCodeLine{00428\ }
\DoxyCodeLine{00435\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_add21ae7b685fb2c859c5853d3c636467}{GraphicsWindow::}}}
\DoxyCodeLine{00436\ \mbox{\hyperlink{classGraphicsWindow_add21ae7b685fb2c859c5853d3c636467}{request\_close}}()\ \{}
\DoxyCodeLine{00437\ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ close\_properties;}
\DoxyCodeLine{00438\ \ \ close\_properties.set\_open(\textcolor{keyword}{false});}
\DoxyCodeLine{00439\ \ \ \mbox{\hyperlink{classGraphicsWindow_a7ca77fe6bd7bd33ea9877d68ed6241ae}{request\_properties}}(close\_properties);}
\DoxyCodeLine{00440\ \}}
\DoxyCodeLine{00441\ }
\DoxyCodeLine{00446\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_af01d19f94f9a00b1c62c353f036e4e09}{GraphicsWindow::}}}
\DoxyCodeLine{00447\ \mbox{\hyperlink{classGraphicsWindow_af01d19f94f9a00b1c62c353f036e4e09}{set\_close\_now}}()\ \{}
\DoxyCodeLine{00448\ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ close\_properties;}
\DoxyCodeLine{00449\ \ \ close\_properties.set\_open(\textcolor{keyword}{false});}
\DoxyCodeLine{00450\ \ \ \mbox{\hyperlink{classGraphicsWindow_adeb1896f5f72fd2959b76dbfb8ca1fe9}{set\_properties\_now}}(close\_properties);}
\DoxyCodeLine{00451\ \}}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00460\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_ac73229408c1c588f30e690a8f4947917}{GraphicsWindow::}}}
\DoxyCodeLine{00461\ \mbox{\hyperlink{classGraphicsWindow_ac73229408c1c588f30e690a8f4947917}{process\_events}}()\ \{}
\DoxyCodeLine{00462\ \ \ \textcolor{keywordflow}{if}\ (\_requested\_properties.is\_any\_specified())\ \{}
\DoxyCodeLine{00463\ \ \ \ \ \textcolor{comment}{//\ We\ don't\ bother\ to\ grab\ the\ mutex\ until\ after\ we\ have\ already\ checked}}
\DoxyCodeLine{00464\ \ \ \ \ \textcolor{comment}{//\ whether\ any\ properties\ have\ been\ specified.\ \ This\ is\ technically}}
\DoxyCodeLine{00465\ \ \ \ \ \textcolor{comment}{//\ sloppy,\ but\ it\ ought\ to\ be\ o.k.\ \ since\ it's\ just\ a\ bitmask\ after\ all.}}
\DoxyCodeLine{00466\ \ \ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ properties;}
\DoxyCodeLine{00467\ \ \ \ \ \{}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00469\ \ \ \ \ \ \ properties\ =\ \_requested\_properties;}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \_requested\_properties.\mbox{\hyperlink{classWindowProperties_a4d1f3070c100c25f9dfc937be8347fd4}{clear}}();}
\DoxyCodeLine{00471\ }
\DoxyCodeLine{00472\ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_adeb1896f5f72fd2959b76dbfb8ca1fe9}{set\_properties\_now}}(properties);}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (properties.is\_any\_specified())\ \{}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ display\_cat.info()}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Unable\ to\ set\ window\ properties:\ "{}}\ <<\ properties\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \_rejected\_properties.\mbox{\hyperlink{classWindowProperties_a006f7a4a43281e65a02704ee493c8a95}{add\_properties}}(properties);}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00478\ \ \ \ \ \}}
\DoxyCodeLine{00479\ \ \ \}}
\DoxyCodeLine{00480\ \}}
\DoxyCodeLine{00481\ }
\DoxyCodeLine{00496\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_adeb1896f5f72fd2959b76dbfb8ca1fe9}{GraphicsWindow::}}}
\DoxyCodeLine{00497\ \mbox{\hyperlink{classGraphicsWindow_adeb1896f5f72fd2959b76dbfb8ca1fe9}{set\_properties\_now}}(\mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \&properties)\ \{}
\DoxyCodeLine{00498\ \ \ \textcolor{keywordflow}{if}\ (properties.has\_open()\ \&\&}
\DoxyCodeLine{00499\ \ \ \ \ \ \ properties.get\_open()\ !=\ \_properties.get\_open())\ \{}
\DoxyCodeLine{00500\ \ \ \ \ \textcolor{comment}{//\ Open\ or\ close\ a\ new\ window.\ \ In\ this\ case\ we\ can\ get\ all\ of\ the}}
\DoxyCodeLine{00501\ \ \ \ \ \textcolor{comment}{//\ properties\ at\ once.}}
\DoxyCodeLine{00502\ }
\DoxyCodeLine{00503\ \ \ \ \ \_properties.\mbox{\hyperlink{classWindowProperties_a006f7a4a43281e65a02704ee493c8a95}{add\_properties}}(properties);}
\DoxyCodeLine{00504\ \ \ \ \ properties.\mbox{\hyperlink{classWindowProperties_a4d1f3070c100c25f9dfc937be8347fd4}{clear}}();}
\DoxyCodeLine{00505\ }
\DoxyCodeLine{00506\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_properties.get\_open())\ \{}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classGraphicsWindow_a74bf91d5896d89c13bc7d9c72b7f3009}{open\_window}}())\ \{}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ When\ the\ window\ is\ first\ opened,\ force\ its\ size\ to\ be\ broadcast\ to}}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ its\ display\ regions.}}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \_is\_valid\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsOutput_a9f455a23a8892292bde821580495187e}{set\_size\_and\_recalc}}(\_properties.get\_x\_size(),}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_properties.get\_y\_size());}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Since\ we\ can't\ even\ open\ the\ window,\ tag\ the\ \_rejected\_properties}}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ with\ all\ of\ the\ window\ properties\ that\ failed.}}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \_rejected\_properties.\mbox{\hyperlink{classWindowProperties_a006f7a4a43281e65a02704ee493c8a95}{add\_properties}}(\_properties);}
\DoxyCodeLine{00517\ }
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ And\ mark\ the\ window\ closed.}}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \_properties.set\_open(\textcolor{keyword}{false});}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \_is\_valid\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \textcolor{comment}{//\ We\ used\ to\ resist\ closing\ a\ window\ before\ its\ GSG\ has\ been\ released.}}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \textcolor{comment}{//\ Now\ it\ seems\ we\ never\ release\ a\ GSG,\ so\ go\ ahead\ and\ close\ the}}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \textcolor{comment}{//\ window.}}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_ac9416f2e970aea3f5233c90e79b2a1ff}{close\_window}}();}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \_is\_valid\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00529\ \ \ \ \ \}}
\DoxyCodeLine{00530\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00531\ \ \ \}}
\DoxyCodeLine{00532\ }
\DoxyCodeLine{00533\ \ \ \textcolor{keywordflow}{if}\ (!\_properties.get\_open())\ \{}
\DoxyCodeLine{00534\ \ \ \ \ \textcolor{comment}{//\ The\ window\ is\ not\ currently\ open;\ we\ can\ set\ properties\ at\ will.}}
\DoxyCodeLine{00535\ \ \ \ \ \_properties.\mbox{\hyperlink{classWindowProperties_a006f7a4a43281e65a02704ee493c8a95}{add\_properties}}(properties);}
\DoxyCodeLine{00536\ \ \ \ \ properties.\mbox{\hyperlink{classWindowProperties_a4d1f3070c100c25f9dfc937be8347fd4}{clear}}();}
\DoxyCodeLine{00537\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00538\ \ \ \}}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00540\ \ \ properties.clear\_open();}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00542\ \ \ \textcolor{comment}{//\ The\ window\ is\ already\ open;\ we\ are\ limited\ to\ what\ we\ can\ change\ on\ the}}
\DoxyCodeLine{00543\ \ \ \textcolor{comment}{//\ fly.}}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00545\ \ \ \textcolor{keywordflow}{if}\ (properties.has\_size()\ ||\ properties.has\_origin())\ \{}
\DoxyCodeLine{00546\ \ \ \ \ \textcolor{comment}{//\ Consider\ changing\ the\ window's\ size\ andor\ position.}}
\DoxyCodeLine{00547\ \ \ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ reshape\_props;}
\DoxyCodeLine{00548\ \ \ \ \ \textcolor{keywordflow}{if}\ (properties.has\_size())\ \{}
\DoxyCodeLine{00549\ \ \ \ \ \ \ reshape\_props.set\_size(properties.get\_x\_size(),\ properties.get\_y\_size());}
\DoxyCodeLine{00550\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00551\ \ \ \ \ \ \ reshape\_props.set\_size(\_properties.get\_x\_size(),\ \_properties.get\_y\_size());}
\DoxyCodeLine{00552\ \ \ \ \ \}}
\DoxyCodeLine{00553\ }
\DoxyCodeLine{00554\ \ \ \ \ \textcolor{keywordflow}{if}\ (properties.has\_origin()\ \&\&\ !is\_fullscreen())\ \{}
\DoxyCodeLine{00555\ \ \ \ \ \ \ reshape\_props.set\_origin(properties.get\_x\_origin(),\ properties.get\_y\_origin());}
\DoxyCodeLine{00556\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\_properties.has\_origin())\ \{}
\DoxyCodeLine{00557\ \ \ \ \ \ \ reshape\_props.set\_origin(\_properties.get\_x\_origin(),\ \_properties.get\_y\_origin());}
\DoxyCodeLine{00558\ \ \ \ \ \}}
\DoxyCodeLine{00559\ }
\DoxyCodeLine{00560\ \ \ \ \ \textcolor{keywordtype}{bool}\ has\_origin\ =\ reshape\_props.has\_origin();}
\DoxyCodeLine{00561\ \ \ \ \ \textcolor{keywordtype}{int}\ x\_origin\ =\ 0,\ y\_origin\ =\ 0;}
\DoxyCodeLine{00562\ \ \ \ \ \textcolor{keywordflow}{if}\ (has\_origin)\ \{}
\DoxyCodeLine{00563\ \ \ \ \ \ \ x\_origin\ =\ reshape\_props.get\_x\_origin();}
\DoxyCodeLine{00564\ \ \ \ \ \ \ y\_origin\ =\ reshape\_props.get\_y\_origin();}
\DoxyCodeLine{00565\ \ \ \ \ \}}
\DoxyCodeLine{00566\ }
\DoxyCodeLine{00567\ \ \ \ \ \textcolor{keywordflow}{if}\ (reshape\_props.get\_x\_size()\ !=\ \_properties.get\_x\_size()\ ||}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ reshape\_props.get\_y\_size()\ !=\ \_properties.get\_y\_size()\ ||}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ (has\_origin\ \&\&\ (x\_origin\ !=\ \_properties.get\_x\_origin()\ ||}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ y\_origin\ !=\ \_properties.get\_y\_origin())))\ \{}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classGraphicsWindow_a073386f275477332edaee9e53dc09bf8}{do\_reshape\_request}}(x\_origin,\ y\_origin,\ has\_origin,}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reshape\_props.get\_x\_size(),}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reshape\_props.get\_y\_size()))\ \{}
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ properties.clear\_size();}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ properties.clear\_origin();}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00577\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00578\ \ \ \ \ \ \ properties.clear\_size();}
\DoxyCodeLine{00579\ \ \ \ \ \ \ properties.clear\_origin();}
\DoxyCodeLine{00580\ \ \ \ \ \}}
\DoxyCodeLine{00581\ \ \ \}}
\DoxyCodeLine{00582\ }
\DoxyCodeLine{00583\ \ \ \textcolor{keywordflow}{if}\ (properties.has\_fullscreen()\ \&\&}
\DoxyCodeLine{00584\ \ \ \ \ \ \ properties.get\_fullscreen()\ ==\ \_properties.get\_fullscreen())\ \{}
\DoxyCodeLine{00585\ \ \ \ \ \textcolor{comment}{//\ Fullscreen\ property\ specified,\ but\ unchanged.}}
\DoxyCodeLine{00586\ \ \ \ \ properties.clear\_fullscreen();}
\DoxyCodeLine{00587\ \ \ \}}
\DoxyCodeLine{00588\ \ \ \textcolor{keywordflow}{if}\ (properties.has\_mouse\_mode()\ \&\&}
\DoxyCodeLine{00589\ \ \ \ \ \ \ properties.get\_mouse\_mode()\ ==\ \_properties.get\_mouse\_mode())\ \{}
\DoxyCodeLine{00590\ \ \ \ \ \textcolor{comment}{//\ Mouse\ mode\ specified,\ but\ unchanged.}}
\DoxyCodeLine{00591\ \ \ \ \ properties.clear\_mouse\_mode();}
\DoxyCodeLine{00592\ \ \ \}}
\DoxyCodeLine{00593\ \}}
\DoxyCodeLine{00594\ }
\DoxyCodeLine{00598\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_ac9416f2e970aea3f5233c90e79b2a1ff}{GraphicsWindow::}}}
\DoxyCodeLine{00599\ \mbox{\hyperlink{classGraphicsWindow_ac9416f2e970aea3f5233c90e79b2a1ff}{close\_window}}()\ \{}
\DoxyCodeLine{00600\ \ \ display\_cat.info()}
\DoxyCodeLine{00601\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Closing\ "{}}\ <<\ get\_type()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00602\ }
\DoxyCodeLine{00603\ \ \ \textcolor{comment}{//\ Tell\ our\ parent\ window\ (if\ any)\ that\ we're\ no\ longer\ its\ child.}}
\DoxyCodeLine{00604\ \ \ \textcolor{keywordflow}{if}\ (\_window\_handle\ !=\ \textcolor{keyword}{nullptr}\ \&\&}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \_parent\_window\_handle\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00606\ \ \ \ \ \_parent\_window\_handle-\/>detach\_child(\_window\_handle);}
\DoxyCodeLine{00607\ \ \ \}}
\DoxyCodeLine{00608\ }
\DoxyCodeLine{00609\ \ \ \_window\_handle\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00610\ \ \ \_parent\_window\_handle\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00611\ \ \ \_is\_valid\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00612\ \}}
\DoxyCodeLine{00613\ }
\DoxyCodeLine{00625\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_ab05ffbfae471eb3580d0a25df6f486f1}{GraphicsWindow::}}}
\DoxyCodeLine{00626\ \mbox{\hyperlink{classGraphicsWindow_ab05ffbfae471eb3580d0a25df6f486f1}{begin\_flip}}()\ \{}
\DoxyCodeLine{00627\ \textcolor{preprocessor}{\#ifdef\ DO\_PSTATS}}
\DoxyCodeLine{00628\ \ \ \textcolor{keywordflow}{if}\ (\_gsg-\/>get\_timer\_queries\_active())\ \{}
\DoxyCodeLine{00629\ \ \ \ \ \_gsg-\/>issue\_latency\_query(\_latency\_pcollector.get\_index());}
\DoxyCodeLine{00630\ \ \ \}}
\DoxyCodeLine{00631\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00632\ \}}
\DoxyCodeLine{00633\ }
\DoxyCodeLine{00638\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsWindow_a74bf91d5896d89c13bc7d9c72b7f3009}{GraphicsWindow::}}}
\DoxyCodeLine{00639\ \mbox{\hyperlink{classGraphicsWindow_a74bf91d5896d89c13bc7d9c72b7f3009}{open\_window}}()\ \{}
\DoxyCodeLine{00640\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00641\ \}}
\DoxyCodeLine{00642\ }
\DoxyCodeLine{00647\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_ad9fefb80975b4f06d6a357d13eae3d73}{GraphicsWindow::}}}
\DoxyCodeLine{00648\ \mbox{\hyperlink{classGraphicsWindow_ad9fefb80975b4f06d6a357d13eae3d73}{reset\_window}}(\textcolor{keywordtype}{bool}\ swapchain)\ \{}
\DoxyCodeLine{00649\ \ \ display\_cat.info()}
\DoxyCodeLine{00650\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Resetting\ "{}}\ <<\ get\_type()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00651\ \}}
\DoxyCodeLine{00652\ }
\DoxyCodeLine{00659\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsWindow_a073386f275477332edaee9e53dc09bf8}{GraphicsWindow::}}}
\DoxyCodeLine{00660\ \mbox{\hyperlink{classGraphicsWindow_a073386f275477332edaee9e53dc09bf8}{do\_reshape\_request}}(\textcolor{keywordtype}{int}\ x\_origin,\ \textcolor{keywordtype}{int}\ y\_origin,\ \textcolor{keywordtype}{bool}\ has\_origin,}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ x\_size,\ \textcolor{keywordtype}{int}\ y\_size)\ \{}
\DoxyCodeLine{00662\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00663\ \}}
\DoxyCodeLine{00664\ }
\DoxyCodeLine{00670\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{GraphicsWindow::}}}
\DoxyCodeLine{00671\ \mbox{\hyperlink{classGraphicsWindow_a805ab3e68c6875b5b02ca99143d5de92}{system\_changed\_properties}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ \&properties)\ \{}
\DoxyCodeLine{00672\ \ \ \textcolor{keywordflow}{if}\ (display\_cat.is\_debug())\ \{}
\DoxyCodeLine{00673\ \ \ \ \ display\_cat.debug()}
\DoxyCodeLine{00674\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}system\_changed\_properties("{}}\ <<\ properties\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}};}
\DoxyCodeLine{00675\ \ \ \}}
\DoxyCodeLine{00676\ }
\DoxyCodeLine{00677\ \ \ \mbox{\hyperlink{classLightReMutexHolder}{LightReMutexHolder}}\ holder(\_properties\_lock);}
\DoxyCodeLine{00678\ }
\DoxyCodeLine{00679\ \ \ \textcolor{keywordflow}{if}\ (properties.has\_size())\ \{}
\DoxyCodeLine{00680\ \ \ \ \ \mbox{\hyperlink{classGraphicsWindow_a97d421ce2ee50dca291b8577841c132e}{system\_changed\_size}}(properties.get\_x\_size(),\ properties.get\_y\_size());}
\DoxyCodeLine{00681\ \ \ \}}
\DoxyCodeLine{00682\ }
\DoxyCodeLine{00683\ \ \ \mbox{\hyperlink{classWindowProperties}{WindowProperties}}\ old\_properties\ =\ \_properties;}
\DoxyCodeLine{00684\ \ \ \_properties.\mbox{\hyperlink{classWindowProperties_a006f7a4a43281e65a02704ee493c8a95}{add\_properties}}(properties);}
\DoxyCodeLine{00685\ \ \ \textcolor{keywordflow}{if}\ (\_properties\ !=\ old\_properties)\ \{}
\DoxyCodeLine{00686\ \ \ \ \ throw\_event(\_window\_event,\ \textcolor{keyword}{this});}
\DoxyCodeLine{00687\ \ \ \}}
\DoxyCodeLine{00688\ \}}
\DoxyCodeLine{00689\ }
\DoxyCodeLine{00695\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGraphicsWindow_a97d421ce2ee50dca291b8577841c132e}{GraphicsWindow::}}}
\DoxyCodeLine{00696\ \mbox{\hyperlink{classGraphicsWindow_a97d421ce2ee50dca291b8577841c132e}{system\_changed\_size}}(\textcolor{keywordtype}{int}\ x\_size,\ \textcolor{keywordtype}{int}\ y\_size)\ \{}
\DoxyCodeLine{00697\ \ \ \textcolor{keywordflow}{if}\ (display\_cat.is\_debug())\ \{}
\DoxyCodeLine{00698\ \ \ \ \ display\_cat.debug()}
\DoxyCodeLine{00699\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}system\_changed\_size("{}}\ <<\ x\_size\ <<\ \textcolor{stringliteral}{"{},\ "{}}\ <<\ y\_size\ <<\ \textcolor{stringliteral}{"{})\(\backslash\)n"{}};}
\DoxyCodeLine{00700\ \ \ \}}
\DoxyCodeLine{00701\ }
\DoxyCodeLine{00702\ \ \ \textcolor{keywordflow}{if}\ (!\_properties.has\_size()\ ||\ (x\_size\ !=\ \_properties.get\_x\_size()\ ||}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ y\_size\ !=\ \_properties.get\_y\_size()))\ \{}
\DoxyCodeLine{00704\ \ \ \ \ \mbox{\hyperlink{classGraphicsOutput_a9f455a23a8892292bde821580495187e}{set\_size\_and\_recalc}}(x\_size,\ y\_size);}
\DoxyCodeLine{00705\ \ \ \}}
\DoxyCodeLine{00706\ \}}
\DoxyCodeLine{00707\ }
\DoxyCodeLine{00712\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGraphicsWindow_ae422d07d3d8a06d337448f5fc60ea1c4}{GraphicsWindow::}}}
\DoxyCodeLine{00713\ \mbox{\hyperlink{classGraphicsWindow_ae422d07d3d8a06d337448f5fc60ea1c4}{add\_input\_device}}(\mbox{\hyperlink{classInputDevice}{InputDevice}}\ *device)\ \{}
\DoxyCodeLine{00714\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(\_input\_lock);}
\DoxyCodeLine{00715\ \ \ \textcolor{keywordtype}{int}\ index\ =\ (int)\_input\_devices.size();}
\DoxyCodeLine{00716\ \ \ \_input\_devices.push\_back(device);}
\DoxyCodeLine{00717\ \ \ \textcolor{keywordflow}{return}\ index;}
\DoxyCodeLine{00718\ \}}
\DoxyCodeLine{00719\ }
\DoxyCodeLine{00724\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsWindow_a21c0ba2607b969ea5ce39b5038249308}{GraphicsWindow::}}}
\DoxyCodeLine{00725\ \mbox{\hyperlink{classGraphicsWindow_a21c0ba2607b969ea5ce39b5038249308}{is\_touch\_event}}(\mbox{\hyperlink{classGraphicsWindowProcCallbackData}{GraphicsWindowProcCallbackData}}*\ callbackData)\{}
\DoxyCodeLine{00726\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00727\ \}}
\DoxyCodeLine{00728\ }
\DoxyCodeLine{00733\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGraphicsWindow_a95020e13b5a7bc766099dad1b8a4af64}{GraphicsWindow::}}}
\DoxyCodeLine{00734\ \mbox{\hyperlink{classGraphicsWindow_a95020e13b5a7bc766099dad1b8a4af64}{get\_num\_touches}}()\{}
\DoxyCodeLine{00735\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00736\ \}}
\DoxyCodeLine{00737\ }
\DoxyCodeLine{00742\ \mbox{\hyperlink{classTouchInfo}{TouchInfo}}\ \mbox{\hyperlink{classGraphicsWindow_ae2e8bbc13e7f7c05621b341546c25ea9}{GraphicsWindow::}}}
\DoxyCodeLine{00743\ \mbox{\hyperlink{classGraphicsWindow_ae2e8bbc13e7f7c05621b341546c25ea9}{get\_touch\_info}}(\textcolor{keywordtype}{int}\ index)\{}
\DoxyCodeLine{00744\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classTouchInfo}{TouchInfo}}();}
\DoxyCodeLine{00745\ \}}
\DoxyCodeLine{00746\ }
\DoxyCodeLine{00751\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGraphicsWindow_acf325148fd9ea2be043e0aca9398af29}{GraphicsWindow::supports\_window\_procs}}()\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{00752\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00753\ \}}

\end{DoxyCode}
