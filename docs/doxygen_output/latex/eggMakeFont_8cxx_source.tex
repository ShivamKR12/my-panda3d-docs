\doxysection{egg\+Make\+Font.\+cxx}
\hypertarget{eggMakeFont_8cxx_source}{}\label{eggMakeFont_8cxx_source}\index{pandatool/src/egg-\/mkfont/eggMakeFont.cxx@{pandatool/src/egg-\/mkfont/eggMakeFont.cxx}}
\mbox{\hyperlink{eggMakeFont_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggMakeFont_8h}{eggMakeFont.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{rangeIterator_8h}{rangeIterator.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{palettizer_8h}{palettizer.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{filenameUnifier_8h}{filenameUnifier.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggFile_8h}{eggFile.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{textureImage_8h}{textureImage.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sourceTextureImage_8h}{sourceTextureImage.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pnmTextMaker_8h}{pnmTextMaker.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pnmTextGlyph_8h}{pnmTextGlyph.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggData_8h}{eggData.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggGroup_8h}{eggGroup.h}}"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggPoint_8h}{eggPoint.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggPolygon_8h}{eggPolygon.h}}"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggTexture_8h}{eggTexture.h}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggVertexPool_8h}{eggVertexPool.h}}"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggVertex_8h}{eggVertex.h}}"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{string__utils_8h}{string\_utils.h}}"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dcast_8h}{dcast.h}}"{}}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#include\ <ctype.h>}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00040\ EggMakeFont::}
\DoxyCodeLine{00041\ EggMakeFont()\ :\ \mbox{\hyperlink{classEggWriter}{EggWriter}}(true,\ false)\ \{}
\DoxyCodeLine{00042\ \ \ set\_program\_brief(\textcolor{stringliteral}{"{}generates\ .egg\ files\ with\ rasterized\ font\ glyphs"{}});}
\DoxyCodeLine{00043\ \ \ set\_program\_description}
\DoxyCodeLine{00044\ \ \ \ \ (\textcolor{stringliteral}{"{}egg-\/mkfont\ uses\ the\ FreeType\ library\ to\ generate\ an\ egg\ file\ "{}}}
\DoxyCodeLine{00045\ \ \ \ \ \ \textcolor{stringliteral}{"{}and\ a\ series\ of\ texture\ images\ from\ a\ font\ file\ "{}}}
\DoxyCodeLine{00046\ \ \ \ \ \ \textcolor{stringliteral}{"{}input,\ such\ as\ a\ TTF\ file.\ \ The\ resulting\ egg\ file\ "{}}}
\DoxyCodeLine{00047\ \ \ \ \ \ \textcolor{stringliteral}{"{}can\ be\ loaded\ in\ Panda\ as\ a\ font\ for\ rendering\ text,\ even\ "{}}}
\DoxyCodeLine{00048\ \ \ \ \ \ \textcolor{stringliteral}{"{}if\ FreeType\ is\ not\ compiled\ into\ the\ executing\ Panda.\(\backslash\)n\(\backslash\)n"{}}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \ \textcolor{stringliteral}{"{}egg-\/mkfont\ will\ normally\ run\ the\ generated\ egg\ file\ through\ "{}}}
\DoxyCodeLine{00051\ \ \ \ \ \ \textcolor{stringliteral}{"{}egg-\/palettize\ automatically\ as\ part\ of\ the\ generation\ process.\ \ "{}}}
\DoxyCodeLine{00052\ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ collects\ the\ individual\ glyph\ textures\ into\ a\ small\ number\ "{}}}
\DoxyCodeLine{00053\ \ \ \ \ \ \textcolor{stringliteral}{"{}of\ texture\ maps.\ \ If\ you\ intend\ to\ run\ the\ font\ through\ egg-\/palettize\ "{}}}
\DoxyCodeLine{00054\ \ \ \ \ \ \textcolor{stringliteral}{"{}yourself\ later,\ you\ may\ choose\ to\ omit\ this\ step."{}});}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ clear\_runlines();}
\DoxyCodeLine{00057\ \ \ add\_runline(\textcolor{stringliteral}{"{}[opts]\ -\/o\ output.egg\ font"{}});}
\DoxyCodeLine{00058\ \ \ add\_runline(\textcolor{stringliteral}{"{}[opts]\ font\ output.egg"{}});}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ add\_option}
\DoxyCodeLine{00061\ \ \ \ \ (\textcolor{stringliteral}{"{}fg"{}},\ \textcolor{stringliteral}{"{}r,g,b[,a]"{}},\ 0,}
\DoxyCodeLine{00062\ \ \ \ \ \ \textcolor{stringliteral}{"{}Specifies\ the\ foreground\ color\ of\ the\ generated\ texture\ map.\ \ The\ "{}}}
\DoxyCodeLine{00063\ \ \ \ \ \ \textcolor{stringliteral}{"{}default\ is\ white:\ 1,1,1,1,\ which\ leads\ to\ the\ most\ flexibility\ "{}}}
\DoxyCodeLine{00064\ \ \ \ \ \ \textcolor{stringliteral}{"{}as\ the\ color\ can\ be\ modulated\ at\ runtime\ to\ any\ suitable\ color."{}},}
\DoxyCodeLine{00065\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_ae45794ac32180b0293b22f5faff86028}{EggMakeFont::dispatch\_color}},\ \textcolor{keyword}{nullptr},\ \&\_fg[0]);}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ add\_option}
\DoxyCodeLine{00068\ \ \ \ \ (\textcolor{stringliteral}{"{}bg"{}},\ \textcolor{stringliteral}{"{}r,g,b[,a]"{}},\ 0,}
\DoxyCodeLine{00069\ \ \ \ \ \ \textcolor{stringliteral}{"{}Specifies\ the\ background\ color\ of\ the\ generated\ texture\ map.\ \ The\ "{}}}
\DoxyCodeLine{00070\ \ \ \ \ \ \textcolor{stringliteral}{"{}default\ is\ transparent:\ 1,1,1,0,\ which\ allows\ the\ text\ to\ be\ "{}}}
\DoxyCodeLine{00071\ \ \ \ \ \ \textcolor{stringliteral}{"{}visible\ against\ any\ color\ background\ by\ placing\ a\ polygon\ of\ a\ "{}}}
\DoxyCodeLine{00072\ \ \ \ \ \ \textcolor{stringliteral}{"{}suitable\ color\ behind\ it.\ \ If\ the\ alpha\ component\ of\ either\ -\/fg\ "{}}}
\DoxyCodeLine{00073\ \ \ \ \ \ \textcolor{stringliteral}{"{}or\ -\/bg\ is\ not\ 1,\ the\ generated\ texture\ images\ will\ include\ an\ "{}}}
\DoxyCodeLine{00074\ \ \ \ \ \ \textcolor{stringliteral}{"{}alpha\ component;\ if\ both\ colors\ specify\ an\ alpha\ component\ of\ 1\ "{}}}
\DoxyCodeLine{00075\ \ \ \ \ \ \textcolor{stringliteral}{"{}(or\ do\ not\ specify\ an\ alpha\ compenent),\ then\ the\ generated\ images\ "{}}}
\DoxyCodeLine{00076\ \ \ \ \ \ \textcolor{stringliteral}{"{}will\ not\ include\ an\ alpha\ component."{}},}
\DoxyCodeLine{00077\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_ae45794ac32180b0293b22f5faff86028}{EggMakeFont::dispatch\_color}},\ \textcolor{keyword}{nullptr},\ \&\_bg[0]);}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ add\_option}
\DoxyCodeLine{00080\ \ \ \ \ (\textcolor{stringliteral}{"{}interior"{}},\ \textcolor{stringliteral}{"{}r,g,b[,a]"{}},\ 0,}
\DoxyCodeLine{00081\ \ \ \ \ \ \textcolor{stringliteral}{"{}Specifies\ the\ color\ to\ render\ the\ interior\ part\ of\ a\ hollow\ font.\ \ "{}}}
\DoxyCodeLine{00082\ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ is\ a\ special\ effect\ that\ involves\ analysis\ of\ the\ bitmap\ after\ "{}}}
\DoxyCodeLine{00083\ \ \ \ \ \ \textcolor{stringliteral}{"{}the\ font\ has\ been\ rendered,\ and\ so\ is\ more\ effective\ when\ the\ pixel\ "{}}}
\DoxyCodeLine{00084\ \ \ \ \ \ \textcolor{stringliteral}{"{}size\ is\ large.\ \ It\ also\ implies\ -\/noaa\ (but\ you\ can\ use\ a\ scale\ "{}}}
\DoxyCodeLine{00085\ \ \ \ \ \ \textcolor{stringliteral}{"{}factor\ with\ -\/sf\ to\ achieve\ antialiasing)."{}},}
\DoxyCodeLine{00086\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_ae45794ac32180b0293b22f5faff86028}{EggMakeFont::dispatch\_color}},\ \&\_got\_interior,\ \&\_interior[0]);}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ add\_option}
\DoxyCodeLine{00089\ \ \ \ \ (\textcolor{stringliteral}{"{}chars"{}},\ \textcolor{stringliteral}{"{}range"{}},\ 0,}
\DoxyCodeLine{00090\ \ \ \ \ \ \textcolor{stringliteral}{"{}Specifies\ the\ characters\ of\ the\ font\ that\ are\ used.\ \ The\ range\ "{}}}
\DoxyCodeLine{00091\ \ \ \ \ \ \textcolor{stringliteral}{"{}specification\ may\ include\ combinations\ of\ decimal\ or\ hex\ unicode\ "{}}}
\DoxyCodeLine{00092\ \ \ \ \ \ \textcolor{stringliteral}{"{}values\ (where\ hex\ values\ are\ identified\ with\ a\ leading\ 0x),\ separated\ "{}}}
\DoxyCodeLine{00093\ \ \ \ \ \ \textcolor{stringliteral}{"{}by\ commas\ and\ hyphens\ to\ indicate\ ranges,\ e.g.\ '32-\/126,0xfa0-\/0xfff'.\ \ "{}}}
\DoxyCodeLine{00094\ \ \ \ \ \ \textcolor{stringliteral}{"{}It\ also\ may\ specify\ ranges\ of\ ASCII\ characters\ by\ enclosing\ them\ "{}}}
\DoxyCodeLine{00095\ \ \ \ \ \ \textcolor{stringliteral}{"{}within\ square\ brackets,\ e.g.\ '[A-\/Za-\/z0-\/9]'.\ \ If\ this\ is\ not\ specified,\ "{}}}
\DoxyCodeLine{00096\ \ \ \ \ \ \textcolor{stringliteral}{"{}the\ default\ set\ has\ all\ ASCII\ characters\ and\ an\ assorted\ set\ of\ "{}}}
\DoxyCodeLine{00097\ \ \ \ \ \ \textcolor{stringliteral}{"{}latin-\/1\ characters,\ diacritics\ and\ punctuation\ marks."{}},}
\DoxyCodeLine{00098\ \ \ \ \ \ \&EggMakeFont::dispatch\_range,\ \textcolor{keyword}{nullptr},\ \&\_range);}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ add\_option}
\DoxyCodeLine{00101\ \ \ \ \ (\textcolor{stringliteral}{"{}extra"{}},\ \textcolor{stringliteral}{"{}file.egg"{}},\ 0,}
\DoxyCodeLine{00102\ \ \ \ \ \ \textcolor{stringliteral}{"{}Specifies\ additional\ externally-\/painted\ glyphs\ to\ mix\ into\ the\ "{}}}
\DoxyCodeLine{00103\ \ \ \ \ \ \textcolor{stringliteral}{"{}generated\ egg\ file.\ \ The\ named\ egg\ file\ is\ expected\ to\ contain\ one\ "{}}}
\DoxyCodeLine{00104\ \ \ \ \ \ \textcolor{stringliteral}{"{}or\ more\ groups,\ each\ of\ which\ is\ named\ with\ the\ decimal\ unicode\ "{}}}
\DoxyCodeLine{00105\ \ \ \ \ \ \textcolor{stringliteral}{"{}number\ of\ a\ character\ and\ should\ contain\ one\ polygon.\ \ These\ groups\ "{}}}
\DoxyCodeLine{00106\ \ \ \ \ \ \textcolor{stringliteral}{"{}are\ simply\ copied\ into\ the\ output\ egg\ file\ as\ if\ they\ were\ generated\ "{}}}
\DoxyCodeLine{00107\ \ \ \ \ \ \textcolor{stringliteral}{"{}locally.\ \ This\ option\ may\ be\ repeated."{}},}
\DoxyCodeLine{00108\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_abc3a7ade77b4aefe40e6dcfb652cffac}{EggMakeFont::dispatch\_vector\_string}},\ \textcolor{keyword}{nullptr},\ \&\_extra\_filenames);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ add\_option}
\DoxyCodeLine{00111\ \ \ \ \ (\textcolor{stringliteral}{"{}ppu"{}},\ \textcolor{stringliteral}{"{}pixels"{}},\ 0,}
\DoxyCodeLine{00112\ \ \ \ \ \ \textcolor{stringliteral}{"{}Specify\ the\ pixels\ per\ unit.\ \ This\ is\ the\ number\ of\ pixels\ in\ the\ "{}}}
\DoxyCodeLine{00113\ \ \ \ \ \ \textcolor{stringliteral}{"{}generated\ texture\ map\ that\ are\ used\ for\ each\ onscreen\ unit\ (or\ each\ "{}}}
\DoxyCodeLine{00114\ \ \ \ \ \ \textcolor{stringliteral}{"{}10\ points\ of\ font;\ see\ -\/ps).\ \ Setting\ this\ number\ larger\ results\ in\ "{}}}
\DoxyCodeLine{00115\ \ \ \ \ \ \textcolor{stringliteral}{"{}an\ easier-\/to-\/read\ font,\ but\ at\ the\ cost\ of\ more\ texture\ memory.\ \ "{}}}
\DoxyCodeLine{00116\ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ default\ is\ 40."{}},}
\DoxyCodeLine{00117\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_a1e6c4d958f82100761aec1ff168305b3}{EggMakeFont::dispatch\_double}},\ \textcolor{keyword}{nullptr},\ \&\_pixels\_per\_unit);}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ add\_option}
\DoxyCodeLine{00120\ \ \ \ \ (\textcolor{stringliteral}{"{}ps"{}},\ \textcolor{stringliteral}{"{}size"{}},\ 0,}
\DoxyCodeLine{00121\ \ \ \ \ \ \textcolor{stringliteral}{"{}Specify\ the\ point\ size\ of\ the\ resulting\ font.\ \ This\ controls\ the\ "{}}}
\DoxyCodeLine{00122\ \ \ \ \ \ \textcolor{stringliteral}{"{}apparent\ size\ of\ the\ font\ when\ it\ is\ rendered\ onscreen.\ \ By\ convention,\ "{}}}
\DoxyCodeLine{00123\ \ \ \ \ \ \textcolor{stringliteral}{"{}a\ 10\ point\ font\ is\ 1\ screen\ unit\ high,\ so\ the\ default\ is\ 10."{}},}
\DoxyCodeLine{00124\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_a1e6c4d958f82100761aec1ff168305b3}{EggMakeFont::dispatch\_double}},\ \textcolor{keyword}{nullptr},\ \&\_point\_size);}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ add\_option}
\DoxyCodeLine{00127\ \ \ \ \ (\textcolor{stringliteral}{"{}sdf"{}},\ \textcolor{stringliteral}{"{}"{}},\ 0,}
\DoxyCodeLine{00128\ \ \ \ \ \ \textcolor{stringliteral}{"{}If\ this\ is\ set,\ a\ signed\ distance\ field\ will\ be\ generated,\ which\ "{}}}
\DoxyCodeLine{00129\ \ \ \ \ \ \textcolor{stringliteral}{"{}results\ in\ crisp\ text\ even\ when\ the\ text\ is\ enlarged\ or\ zoomed\ in."{}},}
\DoxyCodeLine{00130\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_af0c5a7f429f936dd6c4928947119946d}{EggMakeFont::dispatch\_true}},\ \textcolor{keyword}{nullptr},\ \&\_generate\_distance\_field);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ add\_option}
\DoxyCodeLine{00133\ \ \ \ \ (\textcolor{stringliteral}{"{}pm"{}},\ \textcolor{stringliteral}{"{}n"{}},\ 0,}
\DoxyCodeLine{00134\ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ number\ of\ extra\ pixels\ around\ a\ single\ character\ in\ the\ "{}}}
\DoxyCodeLine{00135\ \ \ \ \ \ \textcolor{stringliteral}{"{}generated\ polygon.\ \ This\ may\ be\ a\ floating-\/point\ number.\ \ The\ "{}}}
\DoxyCodeLine{00136\ \ \ \ \ \ \textcolor{stringliteral}{"{}default\ is\ 1."{}},}
\DoxyCodeLine{00137\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_a1e6c4d958f82100761aec1ff168305b3}{EggMakeFont::dispatch\_double}},\ \textcolor{keyword}{nullptr},\ \&\_poly\_margin);}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ add\_option}
\DoxyCodeLine{00140\ \ \ \ \ (\textcolor{stringliteral}{"{}tm"{}},\ \textcolor{stringliteral}{"{}n"{}},\ 0,}
\DoxyCodeLine{00141\ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ number\ of\ extra\ pixels\ around\ each\ character\ in\ the\ texture\ map.\ \ "{}}}
\DoxyCodeLine{00142\ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ may\ only\ be\ an\ integer.\ \ The\ default\ is\ 2.\ \ This\ is\ meaningful\ "{}}}
\DoxyCodeLine{00143\ \ \ \ \ \ \textcolor{stringliteral}{"{}when\ -\/nopal\ is\ also\ used;\ in\ the\ normal\ case,\ use\ -\/pm\ to\ control\ "{}}}
\DoxyCodeLine{00144\ \ \ \ \ \ \textcolor{stringliteral}{"{}both\ the\ polygon\ size\ and\ the\ texture\ map\ spacing."{}},}
\DoxyCodeLine{00145\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_a7ee663294fb0c41caed1d9045ccf750d}{EggMakeFont::dispatch\_int}},\ \textcolor{keyword}{nullptr},\ \&\_tex\_margin);}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ add\_option}
\DoxyCodeLine{00148\ \ \ \ \ (\textcolor{stringliteral}{"{}rm"{}},\ \textcolor{stringliteral}{"{}n"{}},\ 0,}
\DoxyCodeLine{00149\ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ amount\ of\ padding\ in\ screen\ units\ to\ place\ around\ the\ glyph\ when\ "{}}}
\DoxyCodeLine{00150\ \ \ \ \ \ \textcolor{stringliteral}{"{}rendered.\ \ This\ differs\ from\ -\/pm\ in\ that\ it\ has\ no\ effect\ on\ the\ "{}}}
\DoxyCodeLine{00151\ \ \ \ \ \ \textcolor{stringliteral}{"{}generated\ texture\ map,\ only\ on\ the\ generated\ egg.\ \ Use\ this\ in\ order\ to\ "{}}}
\DoxyCodeLine{00152\ \ \ \ \ \ \textcolor{stringliteral}{"{}space\ the\ characters\ out\ in\ case\ they\ appear\ to\ be\ too\ close\ together\ "{}}}
\DoxyCodeLine{00153\ \ \ \ \ \ \textcolor{stringliteral}{"{}when\ rendered.\ The\ default\ is\ 0."{}},}
\DoxyCodeLine{00154\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_a1e6c4d958f82100761aec1ff168305b3}{EggMakeFont::dispatch\_double}},\ \textcolor{keyword}{nullptr},\ \&\_render\_margin);}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ add\_option}
\DoxyCodeLine{00157\ \ \ \ \ (\textcolor{stringliteral}{"{}sf"{}},\ \textcolor{stringliteral}{"{}factor"{}},\ 0,}
\DoxyCodeLine{00158\ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ scale\ factor\ of\ the\ generated\ image.\ \ This\ is\ the\ factor\ by\ which\ "{}}}
\DoxyCodeLine{00159\ \ \ \ \ \ \textcolor{stringliteral}{"{}the\ font\ image\ is\ generated\ oversized,\ then\ reduced\ to\ its\ final\ size,\ "{}}}
\DoxyCodeLine{00160\ \ \ \ \ \ \textcolor{stringliteral}{"{}to\ improve\ antialiasing.\ \ If\ the\ specified\ font\ contains\ one\ "{}}}
\DoxyCodeLine{00161\ \ \ \ \ \ \textcolor{stringliteral}{"{}or\ more\ fixed-\/size\ fonts\ instead\ of\ a\ scalable\ font,\ the\ scale\ factor\ "{}}}
\DoxyCodeLine{00162\ \ \ \ \ \ \textcolor{stringliteral}{"{}may\ be\ automatically\ adjusted\ as\ necessary\ to\ scale\ the\ closest-\/"{}}}
\DoxyCodeLine{00163\ \ \ \ \ \ \textcolor{stringliteral}{"{}matching\ font\ to\ the\ desired\ pixel\ size.\ \ The\ default\ is\ 2."{}},}
\DoxyCodeLine{00164\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_a1e6c4d958f82100761aec1ff168305b3}{EggMakeFont::dispatch\_double}},\ \&\_got\_scale\_factor,\ \&\_scale\_factor);}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ add\_option}
\DoxyCodeLine{00167\ \ \ \ \ (\textcolor{stringliteral}{"{}noaa"{}},\ \textcolor{stringliteral}{"{}"{}},\ 0,}
\DoxyCodeLine{00168\ \ \ \ \ \ \textcolor{stringliteral}{"{}Disable\ low-\/level\ antialiasing\ by\ the\ Freetype\ library.\ \ "{}}}
\DoxyCodeLine{00169\ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ is\ unrelated\ to\ the\ antialiasing\ that\ is\ applied\ due\ to\ the\ "{}}}
\DoxyCodeLine{00170\ \ \ \ \ \ \textcolor{stringliteral}{"{}scale\ factor\ specified\ by\ -\/sf;\ you\ may\ have\ either\ one,\ neither,\ or\ "{}}}
\DoxyCodeLine{00171\ \ \ \ \ \ \textcolor{stringliteral}{"{}both\ kinds\ of\ antialiasing\ enabled."{}},}
\DoxyCodeLine{00172\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_adee8119b08abbc9fe0645d79e1a6031b}{EggMakeFont::dispatch\_none}},\ \&\_no\_native\_aa);}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ add\_option}
\DoxyCodeLine{00175\ \ \ \ \ (\textcolor{stringliteral}{"{}nopal"{}},\ \textcolor{stringliteral}{"{}"{}},\ 0,}
\DoxyCodeLine{00176\ \ \ \ \ \ \textcolor{stringliteral}{"{}Don't\ run\ egg-\/palettize\ automatically\ on\ the\ output\ file,\ but\ "{}}}
\DoxyCodeLine{00177\ \ \ \ \ \ \textcolor{stringliteral}{"{}just\ output\ the\ raw\ egg\ file\ and\ all\ of\ its\ individual\ texture\ "{}}}
\DoxyCodeLine{00178\ \ \ \ \ \ \textcolor{stringliteral}{"{}images,\ one\ for\ each\ glyph."{}},}
\DoxyCodeLine{00179\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_adee8119b08abbc9fe0645d79e1a6031b}{EggMakeFont::dispatch\_none}},\ \&\_no\_palettize);}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ add\_option}
\DoxyCodeLine{00182\ \ \ \ \ (\textcolor{stringliteral}{"{}nr"{}},\ \textcolor{stringliteral}{"{}"{}},\ 0,}
\DoxyCodeLine{00183\ \ \ \ \ \ \textcolor{stringliteral}{"{}Don't\ actually\ reduce\ the\ images\ after\ applying\ the\ scale\ factor,\ but\ "{}}}
\DoxyCodeLine{00184\ \ \ \ \ \ \textcolor{stringliteral}{"{}leave\ them\ at\ their\ inflated\ sizes.\ \ Presumably\ you\ will\ reduce\ "{}}}
\DoxyCodeLine{00185\ \ \ \ \ \ \textcolor{stringliteral}{"{}them\ later,\ for\ instance\ with\ egg-\/palettize."{}},}
\DoxyCodeLine{00186\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_adee8119b08abbc9fe0645d79e1a6031b}{EggMakeFont::dispatch\_none}},\ \&\_no\_reduce);}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ add\_option}
\DoxyCodeLine{00189\ \ \ \ \ (\textcolor{stringliteral}{"{}gp"{}},\ \textcolor{stringliteral}{"{}pattern"{}},\ 0,}
\DoxyCodeLine{00190\ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ pattern\ to\ be\ used\ to\ generate\ the\ glyph\ texture\ images.\ \ This\ "{}}}
\DoxyCodeLine{00191\ \ \ \ \ \ \textcolor{stringliteral}{"{}string\ will\ be\ passed\ to\ sprintf\ to\ generate\ the\ actual\ file\ name;\ it\ "{}}}
\DoxyCodeLine{00192\ \ \ \ \ \ \textcolor{stringliteral}{"{}should\ contain\ the\ string\ \%d\ or\ \%x\ (or\ some\ variant\ such\ as\ \%03d)\ "{}}}
\DoxyCodeLine{00193\ \ \ \ \ \ \textcolor{stringliteral}{"{}which\ will\ be\ filled\ in\ with\ the\ Unicode\ number\ of\ each\ symbol.\ \ "{}}}
\DoxyCodeLine{00194\ \ \ \ \ \ \textcolor{stringliteral}{"{}If\ it\ is\ omitted,\ the\ default\ is\ based\ on\ the\ name\ of\ the\ egg\ file.\ \ "{}}}
\DoxyCodeLine{00195\ \ \ \ \ \ \textcolor{stringliteral}{"{}This\ is\ used\ only\ if\ -\/nopal\ is\ specified;\ in\ the\ normal\ case,\ "{}}}
\DoxyCodeLine{00196\ \ \ \ \ \ \textcolor{stringliteral}{"{}without\ -\/nopal,\ use\ -\/pp\ instead."{}},}
\DoxyCodeLine{00197\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_a82b1e1e9fcc37d8a6830d78c986e0995}{EggMakeFont::dispatch\_string}},\ \textcolor{keyword}{nullptr},\ \&\_output\_glyph\_pattern);}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ add\_option}
\DoxyCodeLine{00200\ \ \ \ \ (\textcolor{stringliteral}{"{}pp"{}},\ \textcolor{stringliteral}{"{}pattern"{}},\ 0,}
\DoxyCodeLine{00201\ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ pattern\ to\ be\ used\ to\ generate\ the\ palette\ texture\ images.\ \ This\ "{}}}
\DoxyCodeLine{00202\ \ \ \ \ \ \textcolor{stringliteral}{"{}string\ is\ effectively\ passed\ to\ egg-\/palettize\ as\ the\ -\/tn\ option,\ and\ "{}}}
\DoxyCodeLine{00203\ \ \ \ \ \ \textcolor{stringliteral}{"{}thus\ should\ contain\ \%i\ for\ the\ palette\ index\ number.\ \ This\ is\ used\ "{}}}
\DoxyCodeLine{00204\ \ \ \ \ \ \textcolor{stringliteral}{"{}if\ -\/nopal\ is\ not\ specified."{}},}
\DoxyCodeLine{00205\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_a82b1e1e9fcc37d8a6830d78c986e0995}{EggMakeFont::dispatch\_string}},\ \textcolor{keyword}{nullptr},\ \&\_output\_palette\_pattern);}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ add\_option}
\DoxyCodeLine{00208\ \ \ \ \ (\textcolor{stringliteral}{"{}palsize"{}},\ \textcolor{stringliteral}{"{}xsize,ysize"{}},\ 0,}
\DoxyCodeLine{00209\ \ \ \ \ \ \textcolor{stringliteral}{"{}Specify\ the\ size\ of\ the\ palette\ texture\ images.\ \ This\ is\ used\ if\ "{}}}
\DoxyCodeLine{00210\ \ \ \ \ \ \textcolor{stringliteral}{"{}-\/nopal\ is\ not\ specified."{}},}
\DoxyCodeLine{00211\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_a7b06ecee9a56d2e7eac8ea92d5971c7d}{EggMakeFont::dispatch\_int\_pair}},\ \textcolor{keyword}{nullptr},\ \_palette\_size);}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ add\_option}
\DoxyCodeLine{00214\ \ \ \ \ (\textcolor{stringliteral}{"{}face"{}},\ \textcolor{stringliteral}{"{}index"{}},\ 0,}
\DoxyCodeLine{00215\ \ \ \ \ \ \textcolor{stringliteral}{"{}Specify\ the\ face\ index\ of\ the\ particular\ face\ within\ the\ font\ file\ "{}}}
\DoxyCodeLine{00216\ \ \ \ \ \ \textcolor{stringliteral}{"{}to\ use.\ \ Some\ font\ files\ contain\ multiple\ faces,\ indexed\ beginning\ "{}}}
\DoxyCodeLine{00217\ \ \ \ \ \ \textcolor{stringliteral}{"{}at\ 0.\ \ The\ default\ is\ face\ 0."{}},}
\DoxyCodeLine{00218\ \ \ \ \ \ \&\mbox{\hyperlink{classProgramBase_a7ee663294fb0c41caed1d9045ccf750d}{EggMakeFont::dispatch\_int}},\ \textcolor{keyword}{nullptr},\ \&\_face\_index);}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \_fg.set(1.0,\ 1.0,\ 1.0,\ 1.0);}
\DoxyCodeLine{00221\ \ \ \_bg.set(1.0,\ 1.0,\ 1.0,\ 0.0);}
\DoxyCodeLine{00222\ \ \ \_interior.set(1.0,\ 1.0,\ 1.0,\ 1.0);}
\DoxyCodeLine{00223\ \ \ \_pixels\_per\_unit\ =\ 40.0;}
\DoxyCodeLine{00224\ \ \ \_point\_size\ =\ 10.0;}
\DoxyCodeLine{00225\ \ \ \_poly\_margin\ =\ 1.0;}
\DoxyCodeLine{00226\ \ \ \_tex\_margin\ =\ 2;}
\DoxyCodeLine{00227\ \ \ \_render\_margin\ =\ 0.0;}
\DoxyCodeLine{00228\ \ \ \_palette\_size[0]\ =\ \_palette\_size[1]\ =\ 512;}
\DoxyCodeLine{00229\ \ \ \_face\_index\ =\ 0;}
\DoxyCodeLine{00230\ \ \ \_generate\_distance\_field\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \_text\_maker\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00233\ \ \ \_vpool\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00234\ \ \ \_group\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00235\ \}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00243\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEggMakeFont_a43223d2618567fe1122c3ca416edc826}{EggMakeFont::}}}
\DoxyCodeLine{00244\ \mbox{\hyperlink{classEggMakeFont_a43223d2618567fe1122c3ca416edc826}{handle\_args}}(\mbox{\hyperlink{classpdeque}{ProgramBase::Args}}\ \&args)\ \{}
\DoxyCodeLine{00245\ \ \ \textcolor{keywordflow}{if}\ (args.empty())\ \{}
\DoxyCodeLine{00246\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Must\ specify\ name\ of\ font\ file\ on\ command\ line.\(\backslash\)n"{}};}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00248\ \ \ \}}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \ \ \_input\_font\_filename\ =\ args[0];}
\DoxyCodeLine{00251\ \ \ args.pop\_front();}
\DoxyCodeLine{00252\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEggWriter_a6e8fab71df5d5a062287fe9f84c2f769}{EggWriter::handle\_args}}(args);}
\DoxyCodeLine{00253\ \}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00258\ \textcolor{keywordtype}{void}\ EggMakeFont::}
\DoxyCodeLine{00259\ run()\ \{}
\DoxyCodeLine{00260\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classWithOutputFile_acd5039b8e878fefc32d7ecc780e4cfa9}{has\_output\_filename}}()\ \&\&\ !\mbox{\hyperlink{classWithOutputFile_a4c2299fef0437b67a951f4f7a3ccf937}{get\_output\_filename}}().get\_dirname().empty())\ \{}
\DoxyCodeLine{00261\ \ \ \ \ \mbox{\hyperlink{classFilenameUnifier_a76efabe6474d7bb0c1e66646cd361a48}{FilenameUnifier::set\_rel\_dirname}}(\mbox{\hyperlink{classWithOutputFile_a4c2299fef0437b67a951f4f7a3ccf937}{get\_output\_filename}}().get\_dirname());}
\DoxyCodeLine{00262\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00263\ \ \ \ \ \mbox{\hyperlink{classFilenameUnifier_a76efabe6474d7bb0c1e66646cd361a48}{FilenameUnifier::set\_rel\_dirname}}(\textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00264\ \ \ \}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \ \ \_text\_maker\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classPNMTextMaker}{PNMTextMaker}}(\_input\_font\_filename,\ \_face\_index);}
\DoxyCodeLine{00267\ \ \ \textcolor{keywordflow}{if}\ (!\_text\_maker-\/>is\_valid())\ \{}
\DoxyCodeLine{00268\ \ \ \ \ exit(1);}
\DoxyCodeLine{00269\ \ \ \}}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \ \ \textcolor{keywordflow}{if}\ (\_got\_interior)\ \{}
\DoxyCodeLine{00272\ \ \ \ \ \_no\_native\_aa\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00273\ \ \ \}}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \textcolor{keywordflow}{if}\ (!\_got\_scale\_factor)\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{comment}{//\ The\ default\ scale\ factor\ is\ 4\ if\ we\ are\ not\ using\ FreeType's\ antialias,}}
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{comment}{//\ or\ 2\ if\ we\ are.}}
\DoxyCodeLine{00278\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_generate\_distance\_field)\ \{}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \_scale\_factor\ =\ 1.0;}
\DoxyCodeLine{00280\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\_no\_native\_aa)\ \{}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \_scale\_factor\ =\ 4.0;}
\DoxyCodeLine{00282\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \_scale\_factor\ =\ 2.0;}
\DoxyCodeLine{00284\ \ \ \ \ \}}
\DoxyCodeLine{00285\ \ \ \}}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \_text\_maker-\/>set\_point\_size(\_point\_size);}
\DoxyCodeLine{00288\ \ \ \_text\_maker-\/>set\_native\_antialias(!\_no\_native\_aa);}
\DoxyCodeLine{00289\ \ \ \_text\_maker-\/>set\_interior\_flag(\_got\_interior);}
\DoxyCodeLine{00290\ \ \ \_text\_maker-\/>set\_pixels\_per\_unit(\_pixels\_per\_unit);}
\DoxyCodeLine{00291\ \ \ \_text\_maker-\/>set\_scale\_factor(\_scale\_factor);}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \ \ \textcolor{comment}{//\ The\ text\_maker\ may\ have\ had\ to\ adjust\ the\ pixels\ per\ unit\ and\ the\ scale}}
\DoxyCodeLine{00294\ \ \ \textcolor{comment}{//\ factor\ according\ to\ what\ the\ font\ supports.}}
\DoxyCodeLine{00295\ \ \ \_pixels\_per\_unit\ =\ \_text\_maker-\/>get\_pixels\_per\_unit();}
\DoxyCodeLine{00296\ \ \ \_scale\_factor\ =\ \_text\_maker-\/>get\_scale\_factor();}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \textcolor{keywordflow}{if}\ (\_text\_maker-\/>get\_font\_pixel\_size()\ !=\ 0)\ \{}
\DoxyCodeLine{00299\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Using\ "{}}\ <<\ \_text\_maker-\/>get\_font\_pixel\_size()\ <<\ \textcolor{stringliteral}{"{}-\/pixel\ font.\(\backslash\)n"{}};}
\DoxyCodeLine{00300\ \ \ \}}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ \textcolor{comment}{//\ Now\ we\ may\ want\ to\ tweak\ the\ scale\ factor\ so\ that\ fonts\ will\ actually\ be}}
\DoxyCodeLine{00303\ \ \ \textcolor{comment}{//\ generated\ big.\ \ We\ have\ to\ do\ this\ after\ we\ have\ already\ send\ the\ current}}
\DoxyCodeLine{00304\ \ \ \textcolor{comment}{//\ \_scale\_factor\ through\ the\ \_text\_maker\ for\ validation.}}
\DoxyCodeLine{00305\ \ \ \_palettize\_scale\_factor\ =\ \_scale\_factor;}
\DoxyCodeLine{00306\ \ \ \textcolor{keywordflow}{if}\ (\_scale\_factor\ !=\ 1.0\ \&\&\ (\_no\_reduce\ ||\ !\_no\_palettize))\ \{}
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{comment}{//\ If\ \_no\_reduce\ is\ true\ (-\/nr\ was\ specified),\ we\ want\ to\ keep\ the\ glyph}}
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{comment}{//\ textures\ full-\/sized,\ because\ the\ user\ asked\ for\ that.}}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \ \ \ \ \textcolor{comment}{//\ If\ \_no\_palettize\ is\ false\ (-\/nopal\ was\ not\ specified),\ we\ still\ want\ to}}
\DoxyCodeLine{00311\ \ \ \ \ \textcolor{comment}{//\ keep\ the\ glyph\ textures\ full-\/sized,\ because\ the\ palettizer\ will\ reduce}}
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{comment}{//\ them\ later.}}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00314\ \ \ \ \ \_tex\_margin\ =\ (int)(\_tex\_margin\ *\ \_scale\_factor);}
\DoxyCodeLine{00315\ \ \ \ \ \_poly\_margin\ *=\ \_scale\_factor;}
\DoxyCodeLine{00316\ \ \ \ \ \_pixels\_per\_unit\ *=\ \_scale\_factor;}
\DoxyCodeLine{00317\ \ \ \ \ \_scale\_factor\ =\ 1.0;}
\DoxyCodeLine{00318\ \ \ \ \ \_text\_maker-\/>set\_pixels\_per\_unit(\_pixels\_per\_unit);}
\DoxyCodeLine{00319\ \ \ \ \ \_text\_maker-\/>set\_scale\_factor(1.0);}
\DoxyCodeLine{00320\ \ \ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ \textcolor{keywordflow}{if}\ (\_no\_reduce)\ \{}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{comment}{//\ If\ -\/nr\ was\ specified,\ but\ we're\ still\ palettizing,\ we\ don't\ even\ want}}
\DoxyCodeLine{00324\ \ \ \ \ \textcolor{comment}{//\ to\ reduce\ the\ palette\ images.\ \ Instead,\ we'll\ generate\ extra-\/large}}
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{comment}{//\ palette\ images.}}
\DoxyCodeLine{00326\ \ \ \ \ \_palette\_size[0]\ =\ (int)(\_palette\_size[0]\ *\ \_palettize\_scale\_factor);}
\DoxyCodeLine{00327\ \ \ \ \ \_palette\_size[1]\ =\ (int)(\_palette\_size[1]\ *\ \_palettize\_scale\_factor);}
\DoxyCodeLine{00328\ \ \ \ \ \_palettize\_scale\_factor\ =\ 1.0;}
\DoxyCodeLine{00329\ \ \ \}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \textcolor{keywordflow}{if}\ (\_range.is\_empty())\ \{}
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{comment}{//\ If\ there's\ no\ specified\ range,\ the\ default\ is\ the\ entire\ ASCII\ set.}}
\DoxyCodeLine{00333\ \ \ \ \ \_range.add\_range(0x20,\ 0x7e);}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \ \ \_range.add\_singleton(0xa1);\ \textcolor{comment}{//\ Upside\ down\ exclamation\ mark}}
\DoxyCodeLine{00336\ \ \ \ \ \_range.add\_singleton(0xa9);\ \textcolor{comment}{//\ Copyright\ sign}}
\DoxyCodeLine{00337\ \ \ \ \ \_range.add\_singleton(0xab);\ \textcolor{comment}{//\ Left\ double\ angle\ quote}}
\DoxyCodeLine{00338\ \ \ \ \ \textcolor{comment}{//\ \_range.add\_singleton(0xae);\ \ Registered\ sign}}
\DoxyCodeLine{00339\ \ \ \ \ \_range.add\_singleton(0xb0);\ \textcolor{comment}{//\ Degree\ symbol}}
\DoxyCodeLine{00340\ \ \ \ \ \_range.add\_singleton(0xb5);\ \textcolor{comment}{//\ Mu/micro}}
\DoxyCodeLine{00341\ \ \ \ \ \_range.add\_singleton(0xb8);\ \textcolor{comment}{//\ Cedilla}}
\DoxyCodeLine{00342\ \ \ \ \ \_range.add\_singleton(0xbb);\ \textcolor{comment}{//\ Right\ double\ angle\ quote}}
\DoxyCodeLine{00343\ \ \ \ \ \_range.add\_singleton(0xbf);\ \textcolor{comment}{//\ Upside\ down\ question\ mark}}
\DoxyCodeLine{00344\ }
\DoxyCodeLine{00345\ \ \ \ \ \_range.add\_singleton(0xc6);\ \textcolor{comment}{//\ AE\ ligature}}
\DoxyCodeLine{00346\ \ \ \ \ \_range.add\_singleton(0xc7);\ \textcolor{comment}{//\ C\ cedilla}}
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{comment}{//\ \_range.add\_singleton(0xd0);\ \ Upper-\/case\ Eth\ \_range.add\_singleton(0xd8);}}
\DoxyCodeLine{00348\ \ \ \ \ \textcolor{comment}{//\ Upper-\/case\ O\ with\ line\ \_range.add\_singleton(0xde);\ \ Upper-\/case\ Thorn}}
\DoxyCodeLine{00349\ \ \ \ \ \_range.add\_singleton(0xdf);\ \textcolor{comment}{//\ German\ Eszet}}
\DoxyCodeLine{00350\ \ \ \ \ \_range.add\_singleton(0xe6);\ \textcolor{comment}{//\ ae\ ligature}}
\DoxyCodeLine{00351\ \ \ \ \ \_range.add\_singleton(0xe7);\ \textcolor{comment}{//\ c\ cedilla}}
\DoxyCodeLine{00352\ \ \ \ \ \_range.add\_singleton(0xf0);\ \textcolor{comment}{//\ Lower-\/case\ Eth}}
\DoxyCodeLine{00353\ \ \ \ \ \_range.add\_singleton(0xf8);\ \textcolor{comment}{//\ Lower-\/case\ O\ with\ line}}
\DoxyCodeLine{00354\ \ \ \ \ \_range.add\_singleton(0xfe);\ \textcolor{comment}{//\ Lower-\/case\ Thorn}}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{comment}{//\ \_range.add\_singleton(0x03c0);\ \ pi}}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{comment}{//\ Dotless\ i\ and\ j,\ for\ combining\ purposes.}}
\DoxyCodeLine{00359\ \ \ \ \ \_range.add\_singleton(0x0131);}
\DoxyCodeLine{00360\ \ \ \ \ \_range.add\_singleton(0x0237);}
\DoxyCodeLine{00361\ }
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{comment}{//\ And\ general\ punctuation.\ \ These\ don't\ take\ up\ much\ space\ anyway.}}
\DoxyCodeLine{00363\ \ \ \ \ \_range.add\_range(0x2018,\ 0x201f);}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \ \ \ \ \_range.add\_singleton(0x2026);\ \textcolor{comment}{//\ Ellipses}}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{comment}{//\ Also\ add\ all\ the\ combining\ diacritic\ marks.}}
\DoxyCodeLine{00368\ \ \ \ \ \_range.add\_range(0x0300,\ 0x030f);}
\DoxyCodeLine{00369\ \ \ \}}
\DoxyCodeLine{00370\ \ \ \textcolor{keywordflow}{if}\ (\_output\_glyph\_pattern.empty())\ \{}
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{comment}{//\ Create\ a\ default\ texture\ filename\ pattern.}}
\DoxyCodeLine{00372\ \ \ \ \ \_output\_glyph\_pattern\ =\ \mbox{\hyperlink{classWithOutputFile_a4c2299fef0437b67a951f4f7a3ccf937}{get\_output\_filename}}().get\_fullpath\_wo\_extension()\ +\ \textcolor{stringliteral}{"{}\%03d.png"{}};}
\DoxyCodeLine{00373\ \ \ \}}
\DoxyCodeLine{00374\ \ \ \textcolor{keywordflow}{if}\ (\_output\_palette\_pattern.empty())\ \{}
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{comment}{//\ Create\ a\ default\ texture\ filename\ pattern.}}
\DoxyCodeLine{00376\ \ \ \ \ \_output\_palette\_pattern\ =\ \mbox{\hyperlink{classWithOutputFile_a4c2299fef0437b67a951f4f7a3ccf937}{get\_output\_filename}}().get\_fullpath\_wo\_extension()\ +\ \textcolor{stringliteral}{"{}\_\%i"{}};}
\DoxyCodeLine{00377\ \ \ \}}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \ \ \textcolor{comment}{//\ Figure\ out\ how\ many\ channels\ we\ need\ based\ on\ the\ foreground\ and}}
\DoxyCodeLine{00380\ \ \ \textcolor{comment}{//\ background\ colors.}}
\DoxyCodeLine{00381\ \ \ \textcolor{keywordtype}{bool}\ needs\_alpha\ =\ (\_fg[3]\ !=\ 1.0\ ||\ \_bg[3]\ !=\ 1.0\ ||\ \_interior[3]\ !=\ 1.0);}
\DoxyCodeLine{00382\ \ \ \textcolor{keywordtype}{bool}\ needs\_color\ =\ (\_fg[0]\ !=\ \_fg[1]\ ||\ \_fg[1]\ !=\ \_fg[2]\ ||}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_bg[0]\ !=\ \_bg[1]\ ||\ \_bg[1]\ !=\ \_bg[2]\ ||}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_interior[0]\ !=\ \_interior[1]\ ||\ \_interior[1]\ !=\ \_interior[2]);}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00386\ \ \ \textcolor{keywordflow}{if}\ (needs\_alpha)\ \{}
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_color)\ \{}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \_num\_channels\ =\ 4;}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \_format\ =\ EggTexture::F\_rgba;}
\DoxyCodeLine{00390\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_fg[0]\ ==\ 1.0\ \&\&\ \_bg[0]\ ==\ 1.0\ \&\&\ \_interior[0]\ ==\ 1.0)\ \{}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ A\ special\ case:\ we\ only\ need\ an\ alpha\ channel.\ \ Copy\ the\ alpha\ data}}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ into\ the\ color\ channels\ so\ we\ can\ write\ out\ a\ one-\/channel\ image.}}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \_fg[0]\ =\ \_fg[1]\ =\ \_fg[2]\ =\ \_fg[3];}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \_bg[0]\ =\ \_bg[1]\ =\ \_bg[2]\ =\ \_bg[3];}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \_interior[0]\ =\ \_interior[1]\ =\ \_interior[2]\ =\ \_interior[3];}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \_num\_channels\ =\ 1;}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \_format\ =\ EggTexture::F\_alpha;}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \_num\_channels\ =\ 2;}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \_format\ =\ EggTexture::F\_luminance\_alpha;}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00403\ \ \ \ \ \}}
\DoxyCodeLine{00404\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00405\ \ \ \ \ \textcolor{keywordflow}{if}\ (needs\_color)\ \{}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \_num\_channels\ =\ 3;}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \_format\ =\ EggTexture::F\_rgb;}
\DoxyCodeLine{00408\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \_num\_channels\ =\ 1;}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \_format\ =\ EggTexture::F\_luminance;}
\DoxyCodeLine{00411\ \ \ \ \ \}}
\DoxyCodeLine{00412\ \ \ \}}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \ \ \textcolor{comment}{//\ Create\ a\ global\ Palettizer\ object.\ \ We'll\ use\ this\ even\ if\ the\ user}}
\DoxyCodeLine{00415\ \ \ \textcolor{comment}{//\ specified\ -\/nopal,\ if\ nothing\ else\ just\ to\ hold\ all\ of\ the\ TextureImage}}
\DoxyCodeLine{00416\ \ \ \textcolor{comment}{//\ pointers.}}
\DoxyCodeLine{00417\ \ \ pal\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classPalettizer}{Palettizer}};}
\DoxyCodeLine{00418\ \ \ pal-\/>\_generated\_image\_pattern\ =\ \_output\_palette\_pattern;}
\DoxyCodeLine{00419\ \ \ pal-\/>\_omit\_solitary\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00420\ \ \ pal-\/>\_round\_uvs\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00421\ }
\DoxyCodeLine{00422\ \ \ \textcolor{comment}{//\ Generate\ a\ txa\ script\ for\ the\ palettizer.\ \ We\ have\ the\ palettizer\ reduce}}
\DoxyCodeLine{00423\ \ \ \textcolor{comment}{//\ all\ of\ the\ texture\ images\ by\ the\ inverse\ of\ our\ scale\ factor.}}
\DoxyCodeLine{00424\ \ \ \textcolor{keywordtype}{char}\ buffer[1024];}
\DoxyCodeLine{00425\ \ \ sprintf(buffer,\ \textcolor{stringliteral}{"{}:margin\ 0;:coverage\ 1000;:background\ \%f\ \%f\ \%f\ \%f;:palette\ \%d\ \%d;*:\ \%f\%\%\ keep-\/format"{}},}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \_bg[0],\ \_bg[1],\ \_bg[2],\ \_bg[3],}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \_palette\_size[0],\ \_palette\_size[1],}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ 100.0\ /\ \_palettize\_scale\_factor);}
\DoxyCodeLine{00429\ \ \ \mbox{\hyperlink{classstd_1_1istringstream}{std::istringstream}}\ txa\_script(buffer);}
\DoxyCodeLine{00430\ \ \ pal-\/>\mbox{\hyperlink{classPalettizer_aaed625539ae3bb1efdccc7544794204a}{read\_txa\_file}}(txa\_script,\ \textcolor{stringliteral}{"{}default\ script"{}});}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00432\ \ \ pal-\/>\mbox{\hyperlink{classPalettizer_a5a6a01270bf7b8a662f2d9a232ad96ff}{all\_params\_set}}();}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \ \ \textcolor{comment}{//\ Now\ create\ all\ the\ egg\ structures.\ \ We\ can't\ use\ \_data,\ since\ we\ want\ to}}
\DoxyCodeLine{00435\ \ \ \textcolor{comment}{//\ pass\ this\ object\ to\ the\ palettizer,\ which\ will\ try\ to\ up\ its\ reference}}
\DoxyCodeLine{00436\ \ \ \textcolor{comment}{//\ count.}}
\DoxyCodeLine{00437\ \ \ PT(\mbox{\hyperlink{classEggData}{EggData}})\ egg\_data\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggData}{EggData}};}
\DoxyCodeLine{00438\ \ \ \_group\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggGroup}{EggGroup}}();}
\DoxyCodeLine{00439\ \ \ egg\_data-\/>add\_child(\_group);}
\DoxyCodeLine{00440\ \ \ \mbox{\hyperlink{classEggBase_a2f150df5babcf501334c6ce59a91d9f3}{append\_command\_comment}}(egg\_data);}
\DoxyCodeLine{00441\ }
\DoxyCodeLine{00442\ \ \ \_vpool\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggVertexPool}{EggVertexPool}}(\textcolor{stringliteral}{"{}vpool"{}});}
\DoxyCodeLine{00443\ \ \ \_group-\/>\mbox{\hyperlink{classEggGroupNode_a5ddaeb0aa17a0740e0ce94586f862625}{add\_child}}(\_vpool);}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \ \ \textcolor{comment}{//\ Make\ the\ group\ a\ sequence,\ as\ a\ convenience.\ \ If\ we\ view\ the\ egg\ file}}
\DoxyCodeLine{00446\ \ \ \textcolor{comment}{//\ directly\ we\ can\ see\ all\ the\ characters\ one\ at\ a\ time.}}
\DoxyCodeLine{00447\ \ \ \_group-\/>set\_switch\_flag(\textcolor{keyword}{true});}
\DoxyCodeLine{00448\ \ \ \_group-\/>set\_switch\_fps(2.0);}
\DoxyCodeLine{00449\ }
\DoxyCodeLine{00450\ \ \ \textcolor{keywordtype}{double}\ margin\ =\ \_poly\_margin;}
\DoxyCodeLine{00451\ \ \ \textcolor{keywordflow}{if}\ (\_generate\_distance\_field)\ \{}
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{comment}{//\ Distance\ fields\ are\ always\ rendered\ with\ binary\ alpha.}}
\DoxyCodeLine{00453\ \ \ \ \ \_group-\/>set\_alpha\_mode(EggRenderMode::AM\_binary);}
\DoxyCodeLine{00454\ }
\DoxyCodeLine{00455\ \ \ \ \ \textcolor{comment}{//\ Fudged\ to\ make\ most\ fonts\ fit\ on\ 512x256.}}
\DoxyCodeLine{00456\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_poly\_margin\ >=\ 1)\ \{}
\DoxyCodeLine{00457\ \ \ \ \ \ \ margin\ +=\ 3.5;}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \_poly\_margin\ -\/=\ 0.5;}
\DoxyCodeLine{00459\ \ \ \ \ \}}
\DoxyCodeLine{00460\ }
\DoxyCodeLine{00461\ \ \ \ \ \_text\_maker-\/>set\_distance\_field\_radius(4);}
\DoxyCodeLine{00462\ \ \ \}}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \ \ \textcolor{comment}{//\ Also\ create\ an\ egg\ group\ indicating\ the\ font's\ design\ size\ and\ poly}}
\DoxyCodeLine{00465\ \ \ \textcolor{comment}{//\ margin.}}
\DoxyCodeLine{00466\ \ \ \mbox{\hyperlink{classEggGroup}{EggGroup}}\ *ds\_group\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggGroup}{EggGroup}}(\textcolor{stringliteral}{"{}ds"{}});}
\DoxyCodeLine{00467\ \ \ \_group-\/>\mbox{\hyperlink{classEggGroupNode_a5ddaeb0aa17a0740e0ce94586f862625}{add\_child}}(ds\_group);}
\DoxyCodeLine{00468\ \ \ \mbox{\hyperlink{classEggVertex}{EggVertex}}\ *vtx\ =\ make\_vertex(LPoint2d(margin\ /\ \_pixels\_per\_unit,\ \_text\_maker-\/>get\_line\_height()));}
\DoxyCodeLine{00469\ \ \ \mbox{\hyperlink{classEggPoint}{EggPoint}}\ *point\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggPoint}{EggPoint}};}
\DoxyCodeLine{00470\ \ \ ds\_group-\/>\mbox{\hyperlink{classEggGroupNode_a5ddaeb0aa17a0740e0ce94586f862625}{add\_child}}(point);}
\DoxyCodeLine{00471\ \ \ point-\/>\mbox{\hyperlink{classEggPrimitive_a77bb4e987b18a54bbabfc068a325506a}{add\_vertex}}(vtx);}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \textcolor{comment}{//\ Finally,\ add\ the\ characters,\ one\ at\ a\ time.}}
\DoxyCodeLine{00474\ \ \ \mbox{\hyperlink{classRangeIterator}{RangeIterator}}\ ri(\_range);}
\DoxyCodeLine{00475\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{00476\ \ \ \ \ add\_character(ri.get\_code());}
\DoxyCodeLine{00477\ \ \ \}\ \textcolor{keywordflow}{while}\ (ri.next());}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \ \ \textcolor{comment}{//\ If\ there\ are\ extra\ glyphs,\ pick\ them\ up.}}
\DoxyCodeLine{00480\ \ \ \textcolor{keywordflow}{if}\ (!\_extra\_filenames.empty())\ \{}
\DoxyCodeLine{00481\ \ \ \ \ vector\_string::const\_iterator\ si;}
\DoxyCodeLine{00482\ \ \ \ \ \textcolor{keywordflow}{for}\ (si\ =\ \_extra\_filenames.begin();\ si\ !=\ \_extra\_filenames.end();\ ++si)\ \{}
\DoxyCodeLine{00483\ \ \ \ \ \ \ add\_extra\_glyphs(*si);}
\DoxyCodeLine{00484\ \ \ \ \ \}}
\DoxyCodeLine{00485\ \ \ \}}
\DoxyCodeLine{00486\ }
\DoxyCodeLine{00487\ \ \ \textcolor{keywordflow}{if}\ (\_no\_palettize)\ \{}
\DoxyCodeLine{00488\ \ \ \ \ \textcolor{comment}{//\ Ok,\ no\ palettize\ step;\ just\ write\ out\ the\ egg\ file\ and\ all\ of\ the}}
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{comment}{//\ textures.}}
\DoxyCodeLine{00490\ \ \ \ \ Textures::iterator\ ti;}
\DoxyCodeLine{00491\ \ \ \ \ \textcolor{keywordflow}{for}\ (ti\ =\ \_textures.begin();\ ti\ !=\ \_textures.end();\ ++ti)\ \{}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \mbox{\hyperlink{classTextureImage}{TextureImage}}\ *texture\ =\ (*ti);}
\DoxyCodeLine{00493\ \ \ \ \ \ \ texture-\/>\mbox{\hyperlink{classImageFile_a16e0af799f35acf2c0169e6bf6f61d1c}{write}}(texture-\/>read\_source\_image());}
\DoxyCodeLine{00494\ \ \ \ \ \}}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \ \ \ \ egg\_data-\/>write\_egg(\mbox{\hyperlink{classWithOutputFile_ad21e9bc43bef4f2742d6ef3992ff22a4}{get\_output}}());}
\DoxyCodeLine{00497\ }
\DoxyCodeLine{00498\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00499\ \ \ \ \ \textcolor{comment}{//\ Pass\ the\ generated\ egg\ structure\ through\ egg-\/palettize,\ without\ writing}}
\DoxyCodeLine{00500\ \ \ \ \ \textcolor{comment}{//\ it\ to\ disk\ first.}}
\DoxyCodeLine{00501\ \ \ \ \ \textcolor{keywordtype}{string}\ name\ =\ \mbox{\hyperlink{classWithOutputFile_a4c2299fef0437b67a951f4f7a3ccf937}{get\_output\_filename}}().get\_basename();}
\DoxyCodeLine{00502\ \ \ \ \ \mbox{\hyperlink{classEggFile}{EggFile}}\ *egg\_file\ =\ pal-\/>\mbox{\hyperlink{classPalettizer_a6fda6d4633524f01a4272001b9fdeb2a}{get\_egg\_file}}(name);}
\DoxyCodeLine{00503\ \ \ \ \ egg\_file-\/>\mbox{\hyperlink{classEggFile_a0ed4c82ad007a8a408e8290d889fcd18}{from\_command\_line}}(egg\_data,\ \textcolor{stringliteral}{"{}"{}},\ \mbox{\hyperlink{classWithOutputFile_a4c2299fef0437b67a951f4f7a3ccf937}{get\_output\_filename}}(),}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classProgramBase_a5ac2669b6fd3b3e884177c64cd99ce42}{get\_exec\_command}}());}
\DoxyCodeLine{00505\ }
\DoxyCodeLine{00506\ \ \ \ \ pal-\/>\mbox{\hyperlink{classPalettizer_a8e9cc9158a2d102c06703be643ec5f8e}{add\_command\_line\_egg}}(egg\_file);}
\DoxyCodeLine{00507\ \ \ \ \ pal-\/>\mbox{\hyperlink{classPalettizer_a08533615e1e5c83003d364ce854ad573}{process\_all}}(\textcolor{keyword}{true},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00508\ \ \ \ \ pal-\/>\mbox{\hyperlink{classPalettizer_a31bf816236161e877d1a12d8bea94451}{optimal\_resize}}();}
\DoxyCodeLine{00509\ \ \ \ \ pal-\/>\mbox{\hyperlink{classPalettizer_acc52fa7fcf07d670a2f3d5c0aa62ccbe}{generate\_images}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00510\ \ \ \ \ \textcolor{keywordflow}{if}\ (!pal-\/>\mbox{\hyperlink{classPalettizer_a91e51d0df47bfb5e2ec96de07e7e3902}{write\_eggs}}())\ \{}
\DoxyCodeLine{00511\ \ \ \ \ \ \ exit(1);}
\DoxyCodeLine{00512\ \ \ \ \ \}}
\DoxyCodeLine{00513\ \ \ \ \ \textcolor{comment}{//\ pal-\/>report\_pi();}}
\DoxyCodeLine{00514\ \ \ \}}
\DoxyCodeLine{00515\ \}}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00520\ \textcolor{keywordtype}{bool}\ EggMakeFont::}
\DoxyCodeLine{00521\ dispatch\_range(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&arg,\ \textcolor{keywordtype}{void}\ *var)\ \{}
\DoxyCodeLine{00522\ \ \ \mbox{\hyperlink{classRangeDescription}{RangeDescription}}\ *ip\ =\ (\mbox{\hyperlink{classRangeDescription}{RangeDescription}}\ *)var;}
\DoxyCodeLine{00523\ \ \ \textcolor{keywordflow}{return}\ ip-\/>\mbox{\hyperlink{classRangeDescription_a2ccc45879f829d8c05cb0cd83e8b01b0}{parse\_parameter}}(arg);}
\DoxyCodeLine{00524\ \}}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00530\ \mbox{\hyperlink{classEggVertex}{EggVertex}}\ *EggMakeFont::}
\DoxyCodeLine{00531\ make\_vertex(\textcolor{keyword}{const}\ LPoint2d\ \&xy)\ \{}
\DoxyCodeLine{00532\ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{00533\ \ \ \ \ \_vpool-\/>make\_new\_vertex(LPoint3d::origin(\_coordinate\_system)\ +}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LVector3d::rfu(xy[0],\ 0.0,\ xy[1],\ \_coordinate\_system));}
\DoxyCodeLine{00535\ \}}
\DoxyCodeLine{00536\ }
\DoxyCodeLine{00540\ \textcolor{keywordtype}{void}\ EggMakeFont::}
\DoxyCodeLine{00541\ add\_character(\textcolor{keywordtype}{int}\ code)\ \{}
\DoxyCodeLine{00542\ \ \ \mbox{\hyperlink{classPNMTextGlyph}{PNMTextGlyph}}\ *glyph\ =\ \_text\_maker-\/>get\_glyph(code);}
\DoxyCodeLine{00543\ \ \ \textcolor{keywordflow}{if}\ (glyph\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00544\ \ \ \ \ nout\ <<\ \textcolor{stringliteral}{"{}No\ definition\ in\ font\ for\ character\ "{}}\ <<\ code\ <<\ \textcolor{stringliteral}{"{}.\(\backslash\)n"{}};}
\DoxyCodeLine{00545\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00546\ \ \ \}}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00548\ \ \ make\_geom(glyph,\ code);}
\DoxyCodeLine{00549\ \}}
\DoxyCodeLine{00550\ }
\DoxyCodeLine{00551\ }
\DoxyCodeLine{00555\ \textcolor{keywordtype}{void}\ EggMakeFont::}
\DoxyCodeLine{00556\ make\_geom(\mbox{\hyperlink{classPNMTextGlyph}{PNMTextGlyph}}\ *glyph,\ \textcolor{keywordtype}{int}\ character)\ \{}
\DoxyCodeLine{00557\ \ \ \textcolor{comment}{//\ Create\ an\ egg\ group\ to\ hold\ the\ polygon.}}
\DoxyCodeLine{00558\ \ \ \textcolor{keywordtype}{string}\ group\_name\ =\ format\_string(character);}
\DoxyCodeLine{00559\ \ \ \mbox{\hyperlink{classEggGroup}{EggGroup}}\ *group\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggGroup}{EggGroup}}(group\_name);}
\DoxyCodeLine{00560\ \ \ \_group-\/>\mbox{\hyperlink{classEggGroupNode_a5ddaeb0aa17a0740e0ce94586f862625}{add\_child}}(group);}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00562\ \ \ \textcolor{keywordflow}{if}\ (glyph-\/>get\_width()\ !=\ 0\ \&\&\ glyph-\/>get\_height()\ !=\ 0)\ \{}
\DoxyCodeLine{00563\ \ \ \ \ \textcolor{keywordtype}{int}\ bitmap\_top\ =\ glyph-\/>get\_top();}
\DoxyCodeLine{00564\ \ \ \ \ \textcolor{keywordtype}{int}\ bitmap\_left\ =\ glyph-\/>get\_left();}
\DoxyCodeLine{00565\ \ \ \ \ \textcolor{keywordtype}{double}\ tex\_x\_size\ =\ glyph-\/>get\_width();}
\DoxyCodeLine{00566\ \ \ \ \ \textcolor{keywordtype}{double}\ tex\_y\_size\ =\ glyph-\/>get\_height();}
\DoxyCodeLine{00567\ }
\DoxyCodeLine{00568\ \ \ \ \ \textcolor{keywordtype}{double}\ poly\_margin\ =\ \_poly\_margin;}
\DoxyCodeLine{00569\ \ \ \ \ \textcolor{keywordtype}{double}\ x\_origin\ =\ \_tex\_margin;}
\DoxyCodeLine{00570\ \ \ \ \ \textcolor{keywordtype}{double}\ y\_origin\ =\ \_tex\_margin;}
\DoxyCodeLine{00571\ \ \ \ \ \textcolor{keywordtype}{double}\ page\_y\_size\ =\ tex\_y\_size\ +\ \_tex\_margin\ *\ 2;}
\DoxyCodeLine{00572\ \ \ \ \ \textcolor{keywordtype}{double}\ page\_x\_size\ =\ tex\_x\_size\ +\ \_tex\_margin\ *\ 2;}
\DoxyCodeLine{00573\ }
\DoxyCodeLine{00574\ \ \ \ \ \textcolor{comment}{//\ Determine\ the\ corners\ of\ the\ rectangle\ in\ geometric\ units.}}
\DoxyCodeLine{00575\ \ \ \ \ \textcolor{keywordtype}{double}\ tex\_poly\_margin\ =\ poly\_margin\ /\ \_pixels\_per\_unit;}
\DoxyCodeLine{00576\ \ \ \ \ \textcolor{keywordtype}{double}\ origin\_y\ =\ bitmap\_top\ /\ \_pixels\_per\_unit;}
\DoxyCodeLine{00577\ \ \ \ \ \textcolor{keywordtype}{double}\ origin\_x\ =\ bitmap\_left\ /\ \_pixels\_per\_unit;}
\DoxyCodeLine{00578\ \ \ \ \ \textcolor{keywordtype}{double}\ top\ =\ origin\_y\ +\ tex\_poly\_margin;}
\DoxyCodeLine{00579\ \ \ \ \ \textcolor{keywordtype}{double}\ left\ =\ origin\_x\ -\/\ tex\_poly\_margin;}
\DoxyCodeLine{00580\ \ \ \ \ \textcolor{keywordtype}{double}\ bottom\ =\ origin\_y\ -\/\ tex\_y\_size\ /\ \_pixels\_per\_unit\ -\/\ tex\_poly\_margin;}
\DoxyCodeLine{00581\ \ \ \ \ \textcolor{keywordtype}{double}\ right\ =\ origin\_x\ +\ tex\_x\_size\ /\ \_pixels\_per\_unit\ +\ tex\_poly\_margin;}
\DoxyCodeLine{00582\ }
\DoxyCodeLine{00583\ \ \ \ \ \textcolor{comment}{//\ And\ the\ corresponding\ corners\ in\ UV\ units.}}
\DoxyCodeLine{00584\ \ \ \ \ \textcolor{keywordtype}{double}\ uv\_top\ =\ 1.0f\ -\/\ (double)(y\_origin\ -\/\ poly\_margin)\ /\ page\_y\_size;}
\DoxyCodeLine{00585\ \ \ \ \ \textcolor{keywordtype}{double}\ uv\_left\ =\ (double)(x\_origin\ -\/\ poly\_margin)\ /\ page\_x\_size;}
\DoxyCodeLine{00586\ \ \ \ \ \textcolor{keywordtype}{double}\ uv\_bottom\ =\ 1.0f\ -\/\ (double)(y\_origin\ +\ poly\_margin\ +\ tex\_y\_size)\ /\ page\_y\_size;}
\DoxyCodeLine{00587\ \ \ \ \ \textcolor{keywordtype}{double}\ uv\_right\ =\ (double)(x\_origin\ +\ poly\_margin\ +\ tex\_x\_size)\ /\ page\_x\_size;}
\DoxyCodeLine{00588\ }
\DoxyCodeLine{00589\ \ \ \ \ \textcolor{comment}{//\ Create\ the\ vertices\ for\ the\ polygon.}}
\DoxyCodeLine{00590\ \ \ \ \ \mbox{\hyperlink{classEggVertex}{EggVertex}}\ *v1\ =\ make\_vertex(LPoint2d(left,\ bottom));}
\DoxyCodeLine{00591\ \ \ \ \ \mbox{\hyperlink{classEggVertex}{EggVertex}}\ *v2\ =\ make\_vertex(LPoint2d(right,\ bottom));}
\DoxyCodeLine{00592\ \ \ \ \ \mbox{\hyperlink{classEggVertex}{EggVertex}}\ *v3\ =\ make\_vertex(LPoint2d(right,\ top));}
\DoxyCodeLine{00593\ \ \ \ \ \mbox{\hyperlink{classEggVertex}{EggVertex}}\ *v4\ =\ make\_vertex(LPoint2d(left,\ top));}
\DoxyCodeLine{00594\ }
\DoxyCodeLine{00595\ \ \ \ \ v1-\/>set\_uv(LTexCoordd(uv\_left,\ uv\_bottom));}
\DoxyCodeLine{00596\ \ \ \ \ v2-\/>set\_uv(LTexCoordd(uv\_right,\ uv\_bottom));}
\DoxyCodeLine{00597\ \ \ \ \ v3-\/>set\_uv(LTexCoordd(uv\_right,\ uv\_top));}
\DoxyCodeLine{00598\ \ \ \ \ v4-\/>set\_uv(LTexCoordd(uv\_left,\ uv\_top));}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \ \ \ \ \mbox{\hyperlink{classEggPolygon}{EggPolygon}}\ *poly\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggPolygon}{EggPolygon}}();}
\DoxyCodeLine{00601\ \ \ \ \ group-\/>add\_child(poly);}
\DoxyCodeLine{00602\ \ \ \ \ poly-\/>set\_texture(get\_tref(glyph,\ character));}
\DoxyCodeLine{00603\ }
\DoxyCodeLine{00604\ \ \ \ \ poly-\/>\mbox{\hyperlink{classEggPrimitive_a77bb4e987b18a54bbabfc068a325506a}{add\_vertex}}(v1);}
\DoxyCodeLine{00605\ \ \ \ \ poly-\/>\mbox{\hyperlink{classEggPrimitive_a77bb4e987b18a54bbabfc068a325506a}{add\_vertex}}(v2);}
\DoxyCodeLine{00606\ \ \ \ \ poly-\/>\mbox{\hyperlink{classEggPrimitive_a77bb4e987b18a54bbabfc068a325506a}{add\_vertex}}(v3);}
\DoxyCodeLine{00607\ \ \ \ \ poly-\/>\mbox{\hyperlink{classEggPrimitive_a77bb4e987b18a54bbabfc068a325506a}{add\_vertex}}(v4);}
\DoxyCodeLine{00608\ \ \ \}}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \ \ \textcolor{comment}{//\ Now\ create\ a\ single\ point\ where\ the\ origin\ of\ the\ next\ character\ will\ be.}}
\DoxyCodeLine{00611\ }
\DoxyCodeLine{00612\ \ \ \mbox{\hyperlink{classEggVertex}{EggVertex}}\ *v0\ =\ make\_vertex(LPoint2d(glyph-\/>get\_advance()\ /\ \_pixels\_per\_unit\ +\ \_render\_margin,\ 0.0));}
\DoxyCodeLine{00613\ \ \ \mbox{\hyperlink{classEggPoint}{EggPoint}}\ *point\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggPoint}{EggPoint}};}
\DoxyCodeLine{00614\ \ \ group-\/>add\_child(point);}
\DoxyCodeLine{00615\ \ \ point-\/>\mbox{\hyperlink{classEggPrimitive_a77bb4e987b18a54bbabfc068a325506a}{add\_vertex}}(v0);}
\DoxyCodeLine{00616\ \}}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00622\ \mbox{\hyperlink{classEggTexture}{EggTexture}}\ *EggMakeFont::}
\DoxyCodeLine{00623\ get\_tref(\mbox{\hyperlink{classPNMTextGlyph}{PNMTextGlyph}}\ *glyph,\ \textcolor{keywordtype}{int}\ character)\ \{}
\DoxyCodeLine{00624\ \ \ TRefs::iterator\ ti\ =\ \_trefs.find(glyph);}
\DoxyCodeLine{00625\ \ \ \textcolor{keywordflow}{if}\ (ti\ !=\ \_trefs.end())\ \{}
\DoxyCodeLine{00626\ \ \ \ \ \textcolor{keywordflow}{return}\ (*ti).second;}
\DoxyCodeLine{00627\ \ \ \}}
\DoxyCodeLine{00628\ }
\DoxyCodeLine{00629\ \ \ \mbox{\hyperlink{classEggTexture}{EggTexture}}\ *tref\ =\ make\_tref(glyph,\ character);}
\DoxyCodeLine{00630\ \ \ \_trefs[glyph]\ =\ tref;}
\DoxyCodeLine{00631\ \ \ \textcolor{keywordflow}{return}\ tref;}
\DoxyCodeLine{00632\ \}}
\DoxyCodeLine{00633\ }
\DoxyCodeLine{00638\ \mbox{\hyperlink{classEggTexture}{EggTexture}}\ *EggMakeFont::}
\DoxyCodeLine{00639\ make\_tref(\mbox{\hyperlink{classPNMTextGlyph}{PNMTextGlyph}}\ *glyph,\ \textcolor{keywordtype}{int}\ character)\ \{}
\DoxyCodeLine{00640\ \ \ \textcolor{keywordtype}{char}\ buffer[1024];}
\DoxyCodeLine{00641\ \ \ sprintf(buffer,\ \_output\_glyph\_pattern.c\_str(),\ character);}
\DoxyCodeLine{00642\ }
\DoxyCodeLine{00643\ \ \ \mbox{\hyperlink{classFilename}{Filename}}\ texture\_filename\ =\ buffer;}
\DoxyCodeLine{00644\ \ \ \mbox{\hyperlink{classPNMImage}{PNMImage}}\ image(glyph-\/>get\_width()\ +\ \_tex\_margin\ *\ 2,}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ glyph-\/>get\_height()\ +\ \_tex\_margin\ *\ 2,\ \_num\_channels);}
\DoxyCodeLine{00646\ \ \ image.fill(\_bg[0],\ \_bg[1],\ \_bg[2]);}
\DoxyCodeLine{00647\ \ \ \textcolor{keywordflow}{if}\ (image.has\_alpha())\ \{}
\DoxyCodeLine{00648\ \ \ \ \ image.alpha\_fill(\_bg[3]);}
\DoxyCodeLine{00649\ \ \ \}}
\DoxyCodeLine{00650\ \ \ \textcolor{keywordflow}{if}\ (\_got\_interior)\ \{}
\DoxyCodeLine{00651\ \ \ \ \ glyph-\/>place(image,\ -\/glyph-\/>get\_left()\ +\ \_tex\_margin,}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ glyph-\/>get\_top()\ +\ \_tex\_margin,\ \_fg,\ \_interior);}
\DoxyCodeLine{00653\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00654\ \ \ \ \ glyph-\/>place(image,\ -\/glyph-\/>get\_left()\ +\ \_tex\_margin,}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ glyph-\/>get\_top()\ +\ \_tex\_margin,\ \_fg);}
\DoxyCodeLine{00656\ \ \ \}}
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00658\ \ \ \textcolor{comment}{//\ We\ don't\ write\ the\ image\ to\ disk\ immediately,\ since\ it\ might\ just\ get}}
\DoxyCodeLine{00659\ \ \ \textcolor{comment}{//\ palettized.\ \ But\ we\ do\ record\ it\ in\ a\ TextureImage\ object\ within\ the}}
\DoxyCodeLine{00660\ \ \ \textcolor{comment}{//\ global\ Palettizer,\ so\ that\ it\ may\ be\ written\ out\ later.}}
\DoxyCodeLine{00661\ }
\DoxyCodeLine{00662\ \ \ \textcolor{keywordtype}{string}\ name\ =\ texture\_filename.get\_basename\_wo\_extension();}
\DoxyCodeLine{00663\ \ \ \mbox{\hyperlink{classTextureImage}{TextureImage}}\ *texture\ =\ pal-\/>\mbox{\hyperlink{classPalettizer_a2ab1ac977bcde9df2b49a1eeaf6d3a2a}{get\_texture}}(name);}
\DoxyCodeLine{00664\ \ \ \_textures.push\_back(texture);}
\DoxyCodeLine{00665\ \ \ texture-\/>set\_filename(\textcolor{stringliteral}{"{}"{}},\ texture\_filename);}
\DoxyCodeLine{00666\ \ \ \mbox{\hyperlink{classSourceTextureImage}{SourceTextureImage}}\ *source\ =\ texture-\/>get\_source(texture\_filename,\ \textcolor{stringliteral}{"{}"{}},\ 0);}
\DoxyCodeLine{00667\ \ \ texture-\/>set\_source\_image(image);}
\DoxyCodeLine{00668\ \ \ source-\/>\mbox{\hyperlink{classSourceTextureImage_ae834cc596c1cdef19b87821ddd8838e7}{set\_header}}(image);}
\DoxyCodeLine{00669\ }
\DoxyCodeLine{00670\ \ \ \mbox{\hyperlink{classEggTexture}{EggTexture}}\ *tref\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggTexture}{EggTexture}}(name,\ texture\_filename);}
\DoxyCodeLine{00671\ \ \ tref-\/>set\_format(\_format);}
\DoxyCodeLine{00672\ \ \ tref-\/>set\_wrap\_mode(EggTexture::WM\_clamp);}
\DoxyCodeLine{00673\ \ \ tref-\/>set\_minfilter(EggTexture::FT\_linear\_mipmap\_linear);}
\DoxyCodeLine{00674\ \ \ tref-\/>set\_magfilter(EggTexture::FT\_linear);}
\DoxyCodeLine{00675\ \ \ tref-\/>set\_quality\_level(EggTexture::QL\_best);}
\DoxyCodeLine{00676\ }
\DoxyCodeLine{00677\ \ \ \textcolor{keywordflow}{return}\ tref;}
\DoxyCodeLine{00678\ \}}
\DoxyCodeLine{00679\ }
\DoxyCodeLine{00684\ \textcolor{keywordtype}{void}\ EggMakeFont::}
\DoxyCodeLine{00685\ add\_extra\_glyphs(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFilename}{Filename}}\ \&extra\_filename)\ \{}
\DoxyCodeLine{00686\ \ \ PT(\mbox{\hyperlink{classEggData}{EggData}})\ extra\_data\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggData}{EggData}};}
\DoxyCodeLine{00687\ }
\DoxyCodeLine{00688\ \ \ \textcolor{keywordflow}{if}\ (!extra\_data-\/>read(extra\_filename))\ \{}
\DoxyCodeLine{00689\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00690\ \ \ \}}
\DoxyCodeLine{00691\ }
\DoxyCodeLine{00692\ \ \ \_group-\/>\mbox{\hyperlink{classEggGroupNode_af49aa127ccfb939e738ddbaddaeb6c4a}{steal\_children}}(*extra\_data);}
\DoxyCodeLine{00693\ \}}
\DoxyCodeLine{00694\ }
\DoxyCodeLine{00699\ \textcolor{keywordtype}{void}\ EggMakeFont::}
\DoxyCodeLine{00700\ r\_add\_extra\_glyphs(\mbox{\hyperlink{classEggGroupNode}{EggGroupNode}}\ *egg\_group)\ \{}
\DoxyCodeLine{00701\ \ \ \textcolor{keywordflow}{if}\ (egg\_group-\/>is\_of\_type(EggGroup::get\_class\_type()))\ \{}
\DoxyCodeLine{00702\ \ \ \ \ \mbox{\hyperlink{classEggGroup}{EggGroup}}\ *group\ =\ DCAST(\mbox{\hyperlink{classEggGroup}{EggGroup}},\ egg\_group);}
\DoxyCodeLine{00703\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_numeric(group-\/>get\_name()))\ \{}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \mbox{\hyperlink{classEggGroup}{EggGroup}}\ *new\_group\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classEggGroup}{EggGroup}}(group-\/>get\_name());}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \_group-\/>\mbox{\hyperlink{classEggGroupNode_a5ddaeb0aa17a0740e0ce94586f862625}{add\_child}}(new\_group);}
\DoxyCodeLine{00706\ \ \ \ \ \ \ new\_group-\/>\mbox{\hyperlink{classEggGroupNode_af49aa127ccfb939e738ddbaddaeb6c4a}{steal\_children}}(*group);}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00708\ \ \ \ \ \}}
\DoxyCodeLine{00709\ \ \ \}}
\DoxyCodeLine{00710\ }
\DoxyCodeLine{00711\ \ \ EggGroupNode::iterator\ ci;}
\DoxyCodeLine{00712\ \ \ \textcolor{keywordflow}{for}\ (ci\ =\ egg\_group-\/>begin();\ ci\ !=\ egg\_group-\/>end();\ ++ci)\ \{}
\DoxyCodeLine{00713\ \ \ \ \ \mbox{\hyperlink{classEggNode}{EggNode}}\ *child\ =\ (*ci);}
\DoxyCodeLine{00714\ \ \ \ \ \textcolor{keywordflow}{if}\ (child-\/>is\_of\_type(EggGroupNode::get\_class\_type()))\ \{}
\DoxyCodeLine{00715\ \ \ \ \ \ \ r\_add\_extra\_glyphs(DCAST(\mbox{\hyperlink{classEggGroupNode}{EggGroupNode}},\ child));}
\DoxyCodeLine{00716\ \ \ \ \ \}}
\DoxyCodeLine{00717\ \ \ \}}
\DoxyCodeLine{00718\ \}}
\DoxyCodeLine{00719\ }
\DoxyCodeLine{00724\ \textcolor{keywordtype}{bool}\ EggMakeFont::}
\DoxyCodeLine{00725\ is\_numeric(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&str)\ \{}
\DoxyCodeLine{00726\ \ \ \textcolor{keywordflow}{if}\ (str.empty())\ \{}
\DoxyCodeLine{00727\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00728\ \ \ \}}
\DoxyCodeLine{00729\ }
\DoxyCodeLine{00730\ \ \ string::const\_iterator\ si;}
\DoxyCodeLine{00731\ \ \ \textcolor{keywordflow}{for}\ (si\ =\ str.begin();\ si\ !=\ str.end();\ ++si)\ \{}
\DoxyCodeLine{00732\ \ \ \ \ \textcolor{keywordflow}{if}\ (!isdigit(*si))\ \{}
\DoxyCodeLine{00733\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00734\ \ \ \ \ \}}
\DoxyCodeLine{00735\ \ \ \}}
\DoxyCodeLine{00736\ }
\DoxyCodeLine{00737\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00738\ \}}
\DoxyCodeLine{00739\ }
\DoxyCodeLine{00740\ \textcolor{keywordtype}{int}\ main(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}\ *argv[])\ \{}
\DoxyCodeLine{00741\ \ \ \mbox{\hyperlink{classEggMakeFont}{EggMakeFont}}\ prog;}
\DoxyCodeLine{00742\ \ \ prog.\mbox{\hyperlink{classProgramBase_a913a6fb59976859148d117c3f65b8a2d}{parse\_command\_line}}(argc,\ argv);}
\DoxyCodeLine{00743\ \ \ prog.run();}
\DoxyCodeLine{00744\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00745\ \}}

\end{DoxyCode}
