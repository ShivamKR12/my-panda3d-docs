\doxysection{Light Class Reference}
\hypertarget{classLight}{}\label{classLight}\index{Light@{Light}}


{\ttfamily \#include $<$light.\+h$>$}

Inheritance diagram for Light\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classLight}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classLight_a6a3d2cf9f7cf89c89e51b1adf814ec82}{attrib\+\_\+ref}} ()
\item 
virtual void \mbox{\hyperlink{classLight_ae010fdd974ea227f0aecf223d57ed4d3}{attrib\+\_\+unref}} ()
\item 
\Hypertarget{classLight_ace37414c5d73ac0a5841353d1b600a82}\label{classLight_ace37414c5d73ac0a5841353d1b600a82} 
virtual void {\bfseries output} (std\+::ostream \&out) const =0
\item 
\Hypertarget{classLight_a526b2124e22acc28be78ad2a31468253}\label{classLight_a526b2124e22acc28be78ad2a31468253} 
virtual void {\bfseries write} (std\+::ostream \&out, int indent\+\_\+level) const =0
\item 
\Hypertarget{classLight_a2b1187bc7a7a38dc0baacde5762293d4}\label{classLight_a2b1187bc7a7a38dc0baacde5762293d4} 
virtual void {\bfseries bind} (\mbox{\hyperlink{classGraphicsStateGuardianBase}{Graphics\+State\+Guardian\+Base}} \texorpdfstring{$\ast$}{*}gsg, const \mbox{\hyperlink{classNodePath}{Node\+Path}} \&light, int light\+\_\+id)=0
\item 
virtual bool \mbox{\hyperlink{classLight_a034816e0c15ca32edb162df8677f3ff6}{get\+\_\+vector\+\_\+to\+\_\+light}} (LVector3 \&result, const LPoint3 \&from\+\_\+object\+\_\+point, const LMatrix4 \&to\+\_\+object\+\_\+space)
\item 
\mbox{\hyperlink{classGeomNode}{Geom\+Node}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classLight_af5c9d509ddafffaae5cfea3f3d1966c7}{get\+\_\+viz}} ()
\item 
\Hypertarget{classLight_a57f755c86de726108b45fe1ca20b4d71}\label{classLight_a57f755c86de726108b45fe1ca20b4d71} 
virtual \mbox{\hyperlink{classTypeHandle}{Type\+Handle}} {\bfseries get\+\_\+type} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classLight_af9595ab9a8a76ff1bb4c98ae5844b3df}\label{classLight_af9595ab9a8a76ff1bb4c98ae5844b3df} 
static INLINE \mbox{\hyperlink{classUpdateSeq}{Update\+Seq}} {\bfseries get\+\_\+sort\+\_\+seq} ()
\item 
\Hypertarget{classLight_a90fab4c38af294e3e1917dcdd7a577ef}\label{classLight_a90fab4c38af294e3e1917dcdd7a577ef} 
static \mbox{\hyperlink{classTypeHandle}{Type\+Handle}} {\bfseries get\+\_\+class\+\_\+type} ()
\item 
\Hypertarget{classLight_a0f15428133dfaa2a6d85bd55d019b849}\label{classLight_a0f15428133dfaa2a6d85bd55d019b849} 
static void {\bfseries init\+\_\+type} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classLight_a90337dbec2838083258a4b1196d6deb4}\label{classLight_a90337dbec2838083258a4b1196d6deb4} 
enum {\bfseries Class\+Priority} \{ \newline
{\bfseries CP\+\_\+ambient\+\_\+priority}
, {\bfseries CP\+\_\+point\+\_\+priority}
, {\bfseries CP\+\_\+directional\+\_\+priority}
, {\bfseries CP\+\_\+spot\+\_\+priority}
, \newline
{\bfseries CP\+\_\+area\+\_\+priority}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classLight_a2fc89dca4c5b21a8b52deae02cf29e90}{fill\+\_\+viz\+\_\+geom}} (\mbox{\hyperlink{classGeomNode}{Geom\+Node}} \texorpdfstring{$\ast$}{*}viz\+\_\+geom)
\item 
\Hypertarget{classLight_a4b985591a92fdfeae2cff0f99dade0c4}\label{classLight_a4b985591a92fdfeae2cff0f99dade0c4} 
INLINE void {\bfseries mark\+\_\+viz\+\_\+stale} ()
\item 
void \mbox{\hyperlink{classLight_a3f0a4539ddc437f9a4aa758332ab8d8a}{write\+\_\+datagram}} (\mbox{\hyperlink{classBamWriter}{Bam\+Writer}} \texorpdfstring{$\ast$}{*}manager, \mbox{\hyperlink{classDatagram}{Datagram}} \&dg)
\item 
void \mbox{\hyperlink{classLight_ad59407a4013a87a130f2e52d8ed93997}{fillin}} (\mbox{\hyperlink{classDatagramIterator}{Datagram\+Iterator}} \&scan, \mbox{\hyperlink{classBamReader}{Bam\+Reader}} \texorpdfstring{$\ast$}{*}manager)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The abstract interface to all kinds of lights. The actual light objects also inherit from \doxylink{classPandaNode}{Panda\+Node}, and can therefore be added to the scene graph at some arbitrary point to define the coordinate system of effect. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classLight_a6a3d2cf9f7cf89c89e51b1adf814ec82}\label{classLight_a6a3d2cf9f7cf89c89e51b1adf814ec82} 
\index{Light@{Light}!attrib\_ref@{attrib\_ref}}
\index{attrib\_ref@{attrib\_ref}!Light@{Light}}
\doxysubsubsection{\texorpdfstring{attrib\_ref()}{attrib\_ref()}}
{\footnotesize\ttfamily void Light\+::attrib\+\_\+ref (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This is called when the light is added to a \doxylink{classLightAttrib}{Light\+Attrib}. 

Reimplemented in \mbox{\hyperlink{classLightLensNode_abb267a251e5b76800287e908d248c682}{Light\+Lens\+Node}}.

\Hypertarget{classLight_ae010fdd974ea227f0aecf223d57ed4d3}\label{classLight_ae010fdd974ea227f0aecf223d57ed4d3} 
\index{Light@{Light}!attrib\_unref@{attrib\_unref}}
\index{attrib\_unref@{attrib\_unref}!Light@{Light}}
\doxysubsubsection{\texorpdfstring{attrib\_unref()}{attrib\_unref()}}
{\footnotesize\ttfamily void Light\+::attrib\+\_\+unref (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

This is called when the light is removed from a \doxylink{classLightAttrib}{Light\+Attrib}. 

Reimplemented in \mbox{\hyperlink{classLightLensNode_a5ec29e85f957e6e63923925727e9086c}{Light\+Lens\+Node}}.

\Hypertarget{classLight_a2fc89dca4c5b21a8b52deae02cf29e90}\label{classLight_a2fc89dca4c5b21a8b52deae02cf29e90} 
\index{Light@{Light}!fill\_viz\_geom@{fill\_viz\_geom}}
\index{fill\_viz\_geom@{fill\_viz\_geom}!Light@{Light}}
\doxysubsubsection{\texorpdfstring{fill\_viz\_geom()}{fill\_viz\_geom()}}
{\footnotesize\ttfamily void Light\+::fill\+\_\+viz\+\_\+geom (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classGeomNode}{Geom\+Node}} \texorpdfstring{$\ast$}{*}}]{viz\+\_\+geom }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Fills the indicated \doxylink{classGeomNode}{Geom\+Node} up with Geoms suitable for rendering this light. 

Reimplemented in \mbox{\hyperlink{classSpotlight_ac63e0b459644b17e70965a47838fa2c4}{Spotlight}}.

\Hypertarget{classLight_ad59407a4013a87a130f2e52d8ed93997}\label{classLight_ad59407a4013a87a130f2e52d8ed93997} 
\index{Light@{Light}!fillin@{fillin}}
\index{fillin@{fillin}!Light@{Light}}
\doxysubsubsection{\texorpdfstring{fillin()}{fillin()}}
{\footnotesize\ttfamily void Light\+::fillin (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classDatagramIterator}{Datagram\+Iterator}} \&}]{scan,  }\item[{\mbox{\hyperlink{classBamReader}{Bam\+Reader}} \texorpdfstring{$\ast$}{*}}]{manager }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

This internal function is called by make\+\_\+from\+\_\+bam to read in all of the relevant data from the \doxylink{classBamFile}{Bam\+File} for the new \doxylink{classLight}{Light}. \Hypertarget{classLight_a034816e0c15ca32edb162df8677f3ff6}\label{classLight_a034816e0c15ca32edb162df8677f3ff6} 
\index{Light@{Light}!get\_vector\_to\_light@{get\_vector\_to\_light}}
\index{get\_vector\_to\_light@{get\_vector\_to\_light}!Light@{Light}}
\doxysubsubsection{\texorpdfstring{get\_vector\_to\_light()}{get\_vector\_to\_light()}}
{\footnotesize\ttfamily bool Light\+::get\+\_\+vector\+\_\+to\+\_\+light (\begin{DoxyParamCaption}\item[{LVector3 \&}]{result,  }\item[{const LPoint3 \&}]{from\+\_\+object\+\_\+point,  }\item[{const LMatrix4 \&}]{to\+\_\+object\+\_\+space }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Computes the vector from a particular vertex to this light. The exact vector depends on the type of light (e.\+g. point lights return a different result than directional lights).

The input parameters are the vertex position in question, expressed in object space, and the matrix which converts from light space to object space. The result is expressed in object space.

The return value is true if the result is successful, or false if it cannot be computed (e.\+g. for an ambient light). 

Reimplemented in \mbox{\hyperlink{classDirectionalLight_a91af1557b97a4bac4eb4023bb2a2bbbf}{Directional\+Light}}, \mbox{\hyperlink{classPointLight_a29b8a0fcb2d179a11a29557d47a6832d}{Point\+Light}}, and \mbox{\hyperlink{classSpotlight_aa7654ed47297d8ff13658533b7427132}{Spotlight}}.

\Hypertarget{classLight_af5c9d509ddafffaae5cfea3f3d1966c7}\label{classLight_af5c9d509ddafffaae5cfea3f3d1966c7} 
\index{Light@{Light}!get\_viz@{get\_viz}}
\index{get\_viz@{get\_viz}!Light@{Light}}
\doxysubsubsection{\texorpdfstring{get\_viz()}{get\_viz()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classGeomNode}{Geom\+Node}} \texorpdfstring{$\ast$}{*} Light\+::get\+\_\+viz (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns a \doxylink{classGeomNode}{Geom\+Node} that may be rendered to visualize the \doxylink{classLight}{Light}. This is used during the cull traversal to render the Lights that have been made visible. \Hypertarget{classLight_a3f0a4539ddc437f9a4aa758332ab8d8a}\label{classLight_a3f0a4539ddc437f9a4aa758332ab8d8a} 
\index{Light@{Light}!write\_datagram@{write\_datagram}}
\index{write\_datagram@{write\_datagram}!Light@{Light}}
\doxysubsubsection{\texorpdfstring{write\_datagram()}{write\_datagram()}}
{\footnotesize\ttfamily void Light\+::write\+\_\+datagram (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classBamWriter}{Bam\+Writer}} \texorpdfstring{$\ast$}{*}}]{manager,  }\item[{\mbox{\hyperlink{classDatagram}{Datagram}} \&}]{dg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Writes the contents of this object to the datagram for shipping out to a Bam file. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
panda/src/pgraph/\mbox{\hyperlink{light_8h}{light.\+h}}\item 
panda/src/pgraph/\mbox{\hyperlink{light_8cxx}{light.\+cxx}}\end{DoxyCompactItemize}
