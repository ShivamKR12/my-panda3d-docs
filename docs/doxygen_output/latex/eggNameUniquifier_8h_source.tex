\doxysection{egg\+Name\+Uniquifier.\+h}
\hypertarget{eggNameUniquifier_8h_source}{}\label{eggNameUniquifier_8h_source}\index{panda/src/egg/eggNameUniquifier.h@{panda/src/egg/eggNameUniquifier.h}}
\mbox{\hyperlink{eggNameUniquifier_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ EGGNAMEUNIQUIFIER\_H}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ EGGNAMEUNIQUIFIER\_H}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{comment}{/*}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ EggNameUniquifier\ This\ is\ a\ utility\ class\ for\ renaming\ nodes\ in\ an\ egg}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ hierarchy\ so\ that\ no\ two\ nodes\ share\ the\ same\ name.\ \ It's\ useful,\ for}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ instance,\ as\ a\ preprocess\ before\ translating\ the\ egg\ hierarchy\ to\ a\ scene}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ graph\ format\ that\ doesn't\ tolerate\ two\ identically-\/named\ nodes;\ it's\ also}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ particularly\ useful\ for\ guaranteeing\ that\ VertexPools\ and\ Textures\ do\ not}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ have\ conflicting\ names.\ \ This\ is\ actually\ an\ abstract\ class;\ in\ order\ to}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *\ use\ it,\ you\ must\ derive\ your\ own\ class\ and\ redefine\ some\ key\ functions\ (but}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ see\ EggPoolUniquifier\ and\ EggGroupUniquifier).\ You\ must\ define\ at\ least\ the}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ *\ following\ function:\ virtual\ string\ get\_category(EggNode\ *node);\ This}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ function\ defines\ the\ particular\ category\ that\ the\ particular\ node\ should\ be}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *\ grouped\ into.\ \ All\ nodes\ that\ share\ the\ same\ category\ name\ will\ be}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ *\ considered\ in\ the\ same\ name\ pool\ and\ may\ not\ have\ the\ same\ name;\ two\ nodes}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ *\ that\ have\ different\ categories\ will\ be\ allowed\ to\ keep\ the\ same\ name.\ \ If}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ *\ the\ category\ is\ the\ empty\ string,\ the\ node\ will\ not\ be\ considered\ for}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ *\ uniquification.\ \ You\ may\ also\ define\ the\ following\ function:\ virtual\ string}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ *\ filter\_name(EggNode\ *node);\ This\ returns\ the\ name\ of\ the\ node,\ or\ at\ least}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ *\ the\ name\ it\ ought\ to\ be.\ \ This\ provides\ a\ hook\ for,\ for\ instance,\ filtering}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ *\ out\ invalid\ characters\ before\ the\ node\ name\ is\ uniquified.\ \ virtual\ string}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ *\ generate\_name(EggNode\ *node,\ const\ string\ \&category,\ int\ index);\ This}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ *\ returns\ a\ new\ name\ for\ the\ given\ node,\ once\ a\ node\ has\ been\ identified\ as}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ *\ having\ the\ same\ name\ as\ another\ node.\ \ It\ may\ use\ any\ algorithm\ you\ please}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ *\ to\ generate\ a\ new\ name,\ using\ any\ combination\ of\ the\ node's\ original\ name,}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ *\ the\ category\ (as\ returned\ by\ get\_category()),\ andor\ the\ supplied\ unique}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ *\ index\ number.\ \ If\ this\ function\ returns\ a\ name\ that\ happens\ to\ collide\ with}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ *\ some\ other\ already-\/existing\ node,\ it\ will\ simply\ be\ called\ again\ (with\ a}}
\DoxyCodeLine{00043\ \textcolor{comment}{\ *\ new\ index\ number)\ until\ it\ finally\ returns\ a\ unique\ name.}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandabase_8h}{pandabase.h}}"{}}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{eggObject_8h}{eggObject.h}}"{}}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pmap_8h}{pmap.h}}"{}}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEggNode}{EggNode}};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00059\ \textcolor{keyword}{class\ }EXPCL\_PANDA\_EGG\ \mbox{\hyperlink{classEggNameUniquifier}{EggNameUniquifier}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classEggObject}{EggObject}}\ \{}
\DoxyCodeLine{00060\ PUBLISHED:}
\DoxyCodeLine{00061\ \ \ \mbox{\hyperlink{classEggNameUniquifier}{EggNameUniquifier}}();}
\DoxyCodeLine{00062\ \ \ \mbox{\hyperlink{classEggNameUniquifier}{\string~EggNameUniquifier}}();}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \textcolor{keywordtype}{void}\ clear();}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \textcolor{keywordtype}{void}\ uniquify(\mbox{\hyperlink{classEggNode}{EggNode}}\ *node);}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \mbox{\hyperlink{classEggNode}{EggNode}}\ *get\_node(\textcolor{keyword}{const}\ std::string\ \&category,\ \textcolor{keyword}{const}\ std::string\ \&name)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00069\ \ \ \textcolor{keywordtype}{bool}\ has\_name(\textcolor{keyword}{const}\ std::string\ \&category,\ \textcolor{keyword}{const}\ std::string\ \&name)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00070\ \ \ \textcolor{keywordtype}{bool}\ add\_name(\textcolor{keyword}{const}\ std::string\ \&category,\ \textcolor{keyword}{const}\ std::string\ \&name,}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEggNode}{EggNode}}\ *node\ =\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \textcolor{keyword}{virtual}\ std::string\ get\_category(\mbox{\hyperlink{classEggNode}{EggNode}}\ *node)=0;}
\DoxyCodeLine{00074\ \ \ \textcolor{keyword}{virtual}\ std::string\ filter\_name(\mbox{\hyperlink{classEggNode}{EggNode}}\ *node);}
\DoxyCodeLine{00075\ \ \ \textcolor{keyword}{virtual}\ std::string\ generate\_name(\mbox{\hyperlink{classEggNode}{EggNode}}\ *node,}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\ \&category,\ \textcolor{keywordtype}{int}\ index);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00079\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classpmap}{pmap<std::string,\ EggNode\ *>}}\ \mbox{\hyperlink{classpmap}{UsedNames}};}
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classpmap}{pmap<std::string,\ UsedNames>}}\ \mbox{\hyperlink{classpmap}{Categories}};}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \mbox{\hyperlink{classpmap}{Categories}}\ \_categories;}
\DoxyCodeLine{00083\ \ \ \textcolor{keywordtype}{int}\ \_index;}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ get\_class\_type()\ \{}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordflow}{return}\ \_type\_handle;}
\DoxyCodeLine{00089\ \ \ \}}
\DoxyCodeLine{00090\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ init\_type()\ \{}
\DoxyCodeLine{00091\ \ \ \ \ EggObject::init\_type();}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{register__type_8h_a54fc7cae2908ec9e8da7174a8d027735}{register\_type}}(\_type\_handle,\ \textcolor{stringliteral}{"{}EggNameUniquifier"{}},}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ EggObject::get\_class\_type());}
\DoxyCodeLine{00094\ \ \ \}}
\DoxyCodeLine{00095\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ get\_type()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordflow}{return}\ get\_class\_type();}
\DoxyCodeLine{00097\ \ \ \}}
\DoxyCodeLine{00098\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ force\_init\_type()\ \{init\_type();\ \textcolor{keywordflow}{return}\ get\_class\_type();\}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00101\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ \_type\_handle;}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
