\doxysection{panda/src/dxgsg9/dx\+Graphics\+State\+Guardian9.cxx File Reference}
\hypertarget{dxGraphicsStateGuardian9_8cxx}{}\label{dxGraphicsStateGuardian9_8cxx}\index{panda/src/dxgsg9/dxGraphicsStateGuardian9.cxx@{panda/src/dxgsg9/dxGraphicsStateGuardian9.cxx}}
{\ttfamily \#include "{}dx\+Graphics\+State\+Guardian9.\+h"{}}\newline
{\ttfamily \#include "{}config\+\_\+dxgsg9.\+h"{}}\newline
{\ttfamily \#include "{}display\+Region.\+h"{}}\newline
{\ttfamily \#include "{}render\+Buffer.\+h"{}}\newline
{\ttfamily \#include "{}geom.\+h"{}}\newline
{\ttfamily \#include "{}graphics\+Window.\+h"{}}\newline
{\ttfamily \#include "{}graphics\+Engine.\+h"{}}\newline
{\ttfamily \#include "{}lens.\+h"{}}\newline
{\ttfamily \#include "{}ambient\+Light.\+h"{}}\newline
{\ttfamily \#include "{}directional\+Light.\+h"{}}\newline
{\ttfamily \#include "{}point\+Light.\+h"{}}\newline
{\ttfamily \#include "{}spotlight.\+h"{}}\newline
{\ttfamily \#include "{}texture\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}tex\+Gen\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}shade\+Model\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}cull\+Face\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}transparency\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}alpha\+Test\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}depth\+Test\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}depth\+Write\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}color\+Write\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}tex\+Matrix\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}material\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}render\+Mode\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}rescale\+Normal\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}fog\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}depth\+Offset\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}light\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}stencil\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}scissor\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}clip\+Plane\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}fog.\+h"{}}\newline
{\ttfamily \#include "{}throw\+\_\+event.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Format.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Data.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Triangles.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Tristrips.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Trifans.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Lines.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Linestrips.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Points.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Reader.\+h"{}}\newline
{\ttfamily \#include "{}dx\+Geom\+Munger9.\+h"{}}\newline
{\ttfamily \#include "{}config\+\_\+gobj.\+h"{}}\newline
{\ttfamily \#include "{}dx\+Vertex\+Buffer\+Context9.\+h"{}}\newline
{\ttfamily \#include "{}dx\+Index\+Buffer\+Context9.\+h"{}}\newline
{\ttfamily \#include "{}dx\+Occlusion\+Query\+Context9.\+h"{}}\newline
{\ttfamily \#include "{}p\+Stat\+Timer.\+h"{}}\newline
{\ttfamily \#include "{}p\+Stat\+Collector.\+h"{}}\newline
{\ttfamily \#include "{}wdx\+Graphics\+Buffer9.\+h"{}}\newline
{\ttfamily \#include "{}config\+\_\+pgraph.\+h"{}}\newline
{\ttfamily \#include "{}shader\+Generator.\+h"{}}\newline
{\ttfamily \#include $<$mmsystem.\+h$>$}\newline
{\ttfamily \#include $<$dxsdkver.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct__KEY__ELEMENT}{\+\_\+\+KEY\+\_\+\+ELEMENT}}
\item 
struct \mbox{\hyperlink{struct__KEY__LIST}{\+\_\+\+KEY\+\_\+\+LIST}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a9f81ae923657cf01e169d4c6f0ae2735}\label{dxGraphicsStateGuardian9_8cxx_a9f81ae923657cf01e169d4c6f0ae2735} 
\#define {\bfseries tostring}(x)~\#x
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_af7c292f126ae996fa548bda1aed1d23b}\label{dxGraphicsStateGuardian9_8cxx_af7c292f126ae996fa548bda1aed1d23b} 
\#define {\bfseries SDK\+\_\+\+VERSION}(major,  minor)~tostring(major) $<$$<$ "{}."{} $<$$<$ tostring(minor)
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a0abcdf04f1cc2e0ced1d2873a8685dbd}\label{dxGraphicsStateGuardian9_8cxx_a0abcdf04f1cc2e0ced1d2873a8685dbd} 
\#define {\bfseries DIRECTX\+\_\+\+SDK\+\_\+\+VERSION}~SDK\+\_\+\+VERSION (\+\_\+\+DXSDK\+\_\+\+PRODUCT\+\_\+\+MAJOR, \+\_\+\+DXSDK\+\_\+\+PRODUCT\+\_\+\+MINOR) $<$$<$ "{}."{} $<$$<$ SDK\+\_\+\+VERSION (\+\_\+\+DXSDK\+\_\+\+BUILD\+\_\+\+MAJOR, \+\_\+\+DXSDK\+\_\+\+BUILD\+\_\+\+MINOR)
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a9fbd02a217d08f7b66ac044615634807}\label{dxGraphicsStateGuardian9_8cxx_a9fbd02a217d08f7b66ac044615634807} 
\#define {\bfseries \+\_\+\+\_\+\+D3\+DLIGHT\+\_\+\+RANGE\+\_\+\+MAX}~((PN\+\_\+stdfloat)sqrt(FLT\+\_\+\+MAX))
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_ac86607d74c3e3dc4c53a01bfef1feba4}\label{dxGraphicsStateGuardian9_8cxx_ac86607d74c3e3dc4c53a01bfef1feba4} 
\#define {\bfseries MY\+\_\+\+D3\+DRGBA}(r,  g,  b,  a)~((D3\+DCOLOR) D3\+DCOLOR\+\_\+\+COLORVALUE(r, g, b, a))
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a3c616a0b74d090f1be635d16a16c1dfe}\label{dxGraphicsStateGuardian9_8cxx_a3c616a0b74d090f1be635d16a16c1dfe} 
\#define {\bfseries TOTAL\+\_\+\+RENDER\+\_\+\+TO\+\_\+\+TEXTURE\+\_\+\+FORMATS}~3
\item 
\#define \mbox{\hyperlink{dxGraphicsStateGuardian9_8cxx_a8e287a8a406dbf8e636cd1b44f4eb1ea}{CHECK\+\_\+\+COMPRESSED\+\_\+\+FMT}}(mode,  fmt)
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a74112c203866963db49d697c0847aef3}\label{dxGraphicsStateGuardian9_8cxx_a74112c203866963db49d697c0847aef3} 
\#define {\bfseries GAMMA\+\_\+1}~(255.\+0 \texorpdfstring{$\ast$}{*} 256.\+0)
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a24246a5708a8645043c8c033e66fcecc}\label{dxGraphicsStateGuardian9_8cxx_a24246a5708a8645043c8c033e66fcecc} 
typedef std\+::string {\bfseries KEY}
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a3ba505f1880b7a60ac4f4c3f45ad8c64}\label{dxGraphicsStateGuardian9_8cxx_a3ba505f1880b7a60ac4f4c3f45ad8c64} 
typedef struct \mbox{\hyperlink{struct__KEY__ELEMENT}{\+\_\+\+KEY\+\_\+\+ELEMENT}} {\bfseries KEY\+\_\+\+ELEMENT}
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_ac0d44394e6d31b3a2b0488bb3537b086}\label{dxGraphicsStateGuardian9_8cxx_ac0d44394e6d31b3a2b0488bb3537b086} 
typedef struct \mbox{\hyperlink{struct__KEY__LIST}{\+\_\+\+KEY\+\_\+\+LIST}} {\bfseries KEY\+\_\+\+LIST}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{dxGraphicsStateGuardian9_8cxx_a352439ebfa83309cde0d909e6ab11b07}{PT}} (\mbox{\hyperlink{classOcclusionQueryContext}{Occlusion\+Query\+Context}}) \mbox{\hyperlink{classDXGraphicsStateGuardian9}{DXGraphics\+State\+Guardian9}}
\item 
\mbox{\hyperlink{dxGraphicsStateGuardian9_8cxx_a7d1c9202df33ae5d78817ee842a3f665}{PT}} (\mbox{\hyperlink{classGeomMunger}{Geom\+Munger}}) \mbox{\hyperlink{classDXGraphicsStateGuardian9}{DXGraphics\+State\+Guardian9}}
\item 
\mbox{\hyperlink{dxGraphicsStateGuardian9_8cxx_a61b1009ed35ee72a3ca2b6d586449935}{CPT}} (\mbox{\hyperlink{classTransformState}{Transform\+State}}) \mbox{\hyperlink{classDXGraphicsStateGuardian9}{DXGraphics\+State\+Guardian9}}
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_ab798b5bd7509052a0bbece1e583b2c3b}\label{dxGraphicsStateGuardian9_8cxx_ab798b5bd7509052a0bbece1e583b2c3b} 
void {\bfseries \+\_\+create\+\_\+gamma\+\_\+table\+\_\+dx9} (PN\+\_\+stdfloat gamma, unsigned short \texorpdfstring{$\ast$}{*}original\+\_\+red\+\_\+table, unsigned short \texorpdfstring{$\ast$}{*}original\+\_\+green\+\_\+table, unsigned short \texorpdfstring{$\ast$}{*}original\+\_\+blue\+\_\+table, unsigned short \texorpdfstring{$\ast$}{*}red\+\_\+table, unsigned short \texorpdfstring{$\ast$}{*}green\+\_\+table, unsigned short \texorpdfstring{$\ast$}{*}blue\+\_\+table)
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_aa8c3c788cdf818747b1b60a7faf2d161}\label{dxGraphicsStateGuardian9_8cxx_aa8c3c788cdf818747b1b60a7faf2d161} 
\mbox{\hyperlink{struct__KEY__ELEMENT}{KEY\+\_\+\+ELEMENT}} \texorpdfstring{$\ast$}{*} {\bfseries new\+\_\+key\+\_\+element} (KEY key, \mbox{\hyperlink{struct__KEY__LIST}{KEY\+\_\+\+LIST}} \texorpdfstring{$\ast$}{*}key\+\_\+list)
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a1aef3d3345cc45cb15b729be273d42bc}\label{dxGraphicsStateGuardian9_8cxx_a1aef3d3345cc45cb15b729be273d42bc} 
\mbox{\hyperlink{struct__KEY__ELEMENT}{KEY\+\_\+\+ELEMENT}} \texorpdfstring{$\ast$}{*} {\bfseries first\+\_\+key\+\_\+element} (\mbox{\hyperlink{struct__KEY__LIST}{KEY\+\_\+\+LIST}} \texorpdfstring{$\ast$}{*}key\+\_\+list)
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a531ca782a5604e019195e174d7038c22}\label{dxGraphicsStateGuardian9_8cxx_a531ca782a5604e019195e174d7038c22} 
\mbox{\hyperlink{struct__KEY__ELEMENT}{KEY\+\_\+\+ELEMENT}} \texorpdfstring{$\ast$}{*} {\bfseries next\+\_\+key\+\_\+element} (\mbox{\hyperlink{struct__KEY__ELEMENT}{KEY\+\_\+\+ELEMENT}} \texorpdfstring{$\ast$}{*}key\+\_\+element)
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_ac985f9b0e61a5877b55dc2a17dcc082c}\label{dxGraphicsStateGuardian9_8cxx_ac985f9b0e61a5877b55dc2a17dcc082c} 
void {\bfseries delete\+\_\+key\+\_\+list} (\mbox{\hyperlink{struct__KEY__LIST}{KEY\+\_\+\+LIST}} \texorpdfstring{$\ast$}{*}key\+\_\+list)
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a46fd0ab5dfa4122cff09de5adcfafba6}\label{dxGraphicsStateGuardian9_8cxx_a46fd0ab5dfa4122cff09de5adcfafba6} 
\mbox{\hyperlink{struct__KEY__LIST}{KEY\+\_\+\+LIST}} \texorpdfstring{$\ast$}{*} {\bfseries new\+\_\+key\+\_\+list} (void)
\item 
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a08a7cea4e8535ad512947bd05e817ccb}\label{dxGraphicsStateGuardian9_8cxx_a08a7cea4e8535ad512947bd05e817ccb} 
\mbox{\hyperlink{struct__KEY__ELEMENT}{KEY\+\_\+\+ELEMENT}} \texorpdfstring{$\ast$}{*} {\bfseries add\+\_\+to\+\_\+key\+\_\+list} (KEY key, \mbox{\hyperlink{struct__KEY__LIST}{KEY\+\_\+\+LIST}} \texorpdfstring{$\ast$}{*}key\+\_\+list)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PANDA 3D SOFTWARE Copyright (c) Carnegie Mellon University. All rights reserved.

All use of this software is subject to the terms of the revised BSD license. You should have received a copy of this license along with this source code in a file named "{}\+LICENSE."{}

\begin{DoxyAuthor}{Author}
mike 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
1999-\/02-\/02 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
fperazzi, Panda\+SE 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2010-\/05-\/05 
\end{DoxyDate}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a8e287a8a406dbf8e636cd1b44f4eb1ea}\label{dxGraphicsStateGuardian9_8cxx_a8e287a8a406dbf8e636cd1b44f4eb1ea} 
\index{dxGraphicsStateGuardian9.cxx@{dxGraphicsStateGuardian9.cxx}!CHECK\_COMPRESSED\_FMT@{CHECK\_COMPRESSED\_FMT}}
\index{CHECK\_COMPRESSED\_FMT@{CHECK\_COMPRESSED\_FMT}!dxGraphicsStateGuardian9.cxx@{dxGraphicsStateGuardian9.cxx}}
\doxysubsubsection{\texorpdfstring{CHECK\_COMPRESSED\_FMT}{CHECK\_COMPRESSED\_FMT}}
{\footnotesize\ttfamily \#define CHECK\+\_\+\+COMPRESSED\+\_\+\+FMT(\begin{DoxyParamCaption}\item[{}]{mode,  }\item[{}]{fmt }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{if}\ (\_screen-\/>\_supported\_tex\_formats\_mask\ \&\ fmt\#\#\_FLAG)\ \{\(\backslash\)}
\DoxyCodeLine{\ \ \ \ if\ (dxgsg9\_cat.is\_debug())\ \{\(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ dxgsg9\_cat.debug()\ <<\ \textcolor{stringliteral}{"{}Compressed\ texture\ format\ "{}}\ <<\ \#fmt\ <<\ \textcolor{stringliteral}{"{}\ supported\(\backslash\)n"{}};\(\backslash\)}
\DoxyCodeLine{\ \ \ \ \}\(\backslash\)}
\DoxyCodeLine{\ \ \ \ \_supports\_compressed\_texture\ =\ \textcolor{keyword}{true};\(\backslash\)}
\DoxyCodeLine{\ \ \ \ \_compressed\_texture\_formats.set\_bit(Texture::mode);\(\backslash\)}
\DoxyCodeLine{\ \ \}}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\Hypertarget{dxGraphicsStateGuardian9_8cxx_a61b1009ed35ee72a3ca2b6d586449935}\label{dxGraphicsStateGuardian9_8cxx_a61b1009ed35ee72a3ca2b6d586449935} 
\index{dxGraphicsStateGuardian9.cxx@{dxGraphicsStateGuardian9.cxx}!CPT@{CPT}}
\index{CPT@{CPT}!dxGraphicsStateGuardian9.cxx@{dxGraphicsStateGuardian9.cxx}}
\doxysubsubsection{\texorpdfstring{CPT()}{CPT()}}
{\footnotesize\ttfamily CPT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTransformState}{Transform\+State}}}]{ }\end{DoxyParamCaption})}

Given a lens, calculates the appropriate projection matrix for use with this gsg. Note that the projection matrix depends a lot upon the coordinate system of the rendering API.

The return value is a \doxylink{classTransformState}{Transform\+State} if the lens is acceptable, NULL if it is not. \Hypertarget{dxGraphicsStateGuardian9_8cxx_a7d1c9202df33ae5d78817ee842a3f665}\label{dxGraphicsStateGuardian9_8cxx_a7d1c9202df33ae5d78817ee842a3f665} 
\index{dxGraphicsStateGuardian9.cxx@{dxGraphicsStateGuardian9.cxx}!PT@{PT}}
\index{PT@{PT}!dxGraphicsStateGuardian9.cxx@{dxGraphicsStateGuardian9.cxx}}
\doxysubsubsection{\texorpdfstring{PT()}{PT()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily PT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classGeomMunger}{Geom\+Munger}}}]{ }\end{DoxyParamCaption})}

Creates a new \doxylink{classGeomMunger}{Geom\+Munger} object to munge vertices appropriate to this GSG for the indicated state. \Hypertarget{dxGraphicsStateGuardian9_8cxx_a352439ebfa83309cde0d909e6ab11b07}\label{dxGraphicsStateGuardian9_8cxx_a352439ebfa83309cde0d909e6ab11b07} 
\index{dxGraphicsStateGuardian9.cxx@{dxGraphicsStateGuardian9.cxx}!PT@{PT}}
\index{PT@{PT}!dxGraphicsStateGuardian9.cxx@{dxGraphicsStateGuardian9.cxx}}
\doxysubsubsection{\texorpdfstring{PT()}{PT()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily PT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classOcclusionQueryContext}{Occlusion\+Query\+Context}}}]{ }\end{DoxyParamCaption})}

Ends a previous call to begin\+\_\+occlusion\+\_\+query(). This call returns the \doxylink{classOcclusionQueryContext}{Occlusion\+Query\+Context} object that will (eventually) report the number of pixels that passed the depth test between the call to begin\+\_\+occlusion\+\_\+query() and end\+\_\+occlusion\+\_\+query(). 