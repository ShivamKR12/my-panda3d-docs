\doxysection{uv\+Scroll\+Node.\+cxx}
\hypertarget{uvScrollNode_8cxx_source}{}\label{uvScrollNode_8cxx_source}\index{panda/src/pgraphnodes/uvScrollNode.cxx@{panda/src/pgraphnodes/uvScrollNode.cxx}}
\mbox{\hyperlink{uvScrollNode_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{uvScrollNode_8h}{uvScrollNode.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamReader_8h}{bamReader.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cullTraverserData_8h}{cullTraverserData.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagram_8h}{datagram.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagramIterator_8h}{datagramIterator.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{luse_8h}{luse.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{renderState_8h}{renderState.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{texMatrixAttrib_8h}{texMatrixAttrib.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{textureStage_8h}{textureStage.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{transformState_8h}{transformState.h}}"{}}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ UvScrollNode::\_type\_handle;}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00034\ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *\mbox{\hyperlink{classUvScrollNode_ad00a4acc908e7fd9548d3eace7b0a64f}{UvScrollNode::}}}
\DoxyCodeLine{00035\ \mbox{\hyperlink{classUvScrollNode_ad00a4acc908e7fd9548d3eace7b0a64f}{make\_copy}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00036\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classUvScrollNode}{UvScrollNode}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{00037\ \}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00042\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classUvScrollNode_a756f1af0bdc14f302700ec4466a3f081}{UvScrollNode::}}}
\DoxyCodeLine{00043\ \mbox{\hyperlink{classUvScrollNode_a756f1af0bdc14f302700ec4466a3f081}{register\_with\_read\_factory}}()\ \{}
\DoxyCodeLine{00044\ \ \ BamReader::get\_factory()-\/>register\_factory(get\_class\_type(),\ \mbox{\hyperlink{classUvScrollNode_a87c0762809a99dd0801815d5b3e89d13}{make\_from\_bam}});}
\DoxyCodeLine{00045\ \}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00051\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classUvScrollNode_aa2e34e58f597849f42776960e19265e2}{UvScrollNode::}}}
\DoxyCodeLine{00052\ \mbox{\hyperlink{classUvScrollNode_aa2e34e58f597849f42776960e19265e2}{write\_datagram}}(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg)\ \{}
\DoxyCodeLine{00053\ \ \ \mbox{\hyperlink{classPandaNode_ae9b3055297ade9bbf4a3b4dfc77e4506}{PandaNode::write\_datagram}}(manager,\ dg);}
\DoxyCodeLine{00054\ \ \ dg.add\_stdfloat(\_u\_speed);}
\DoxyCodeLine{00055\ \ \ dg.add\_stdfloat(\_v\_speed);}
\DoxyCodeLine{00056\ \ \ \textcolor{keywordflow}{if}\ (manager-\/>get\_file\_minor\_ver()\ >=\ 33)\ \{}
\DoxyCodeLine{00057\ \ \ \ \ dg.add\_stdfloat(\_w\_speed);}
\DoxyCodeLine{00058\ \ \ \}}
\DoxyCodeLine{00059\ \ \ \textcolor{keywordflow}{if}\ (manager-\/>get\_file\_minor\_ver()\ >=\ 22)\ \{}
\DoxyCodeLine{00060\ \ \ \ \ dg.add\_stdfloat(\_r\_speed);}
\DoxyCodeLine{00061\ \ \ \}}
\DoxyCodeLine{00062\ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00069\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *\mbox{\hyperlink{classUvScrollNode_a87c0762809a99dd0801815d5b3e89d13}{UvScrollNode::}}}
\DoxyCodeLine{00070\ \mbox{\hyperlink{classUvScrollNode_a87c0762809a99dd0801815d5b3e89d13}{make\_from\_bam}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFactoryParams}{FactoryParams}}\ \&params)\ \{}
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{classUvScrollNode}{UvScrollNode}}\ *node\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classUvScrollNode}{UvScrollNode}}(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00072\ \ \ \mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ scan;}
\DoxyCodeLine{00073\ \ \ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager;}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ parse\_params(params,\ scan,\ manager);}
\DoxyCodeLine{00076\ \ \ node-\/>\mbox{\hyperlink{classUvScrollNode_a5d8deb24c7ac54b689f0f8723aacb238}{fillin}}(scan,\ manager);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \textcolor{keywordflow}{return}\ node;}
\DoxyCodeLine{00079\ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00085\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classUvScrollNode_a5d8deb24c7ac54b689f0f8723aacb238}{UvScrollNode::}}}
\DoxyCodeLine{00086\ \mbox{\hyperlink{classUvScrollNode_a5d8deb24c7ac54b689f0f8723aacb238}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00087\ \ \ \mbox{\hyperlink{classPandaNode_a924d7f721627231f4504db71809ad2c2}{PandaNode::fillin}}(scan,\ manager);}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \_u\_speed\ =\ scan.get\_stdfloat();}
\DoxyCodeLine{00090\ \ \ \_v\_speed\ =\ scan.get\_stdfloat();}
\DoxyCodeLine{00091\ \ \ \textcolor{keywordflow}{if}\ (manager-\/>get\_file\_minor\_ver()\ >=\ 33)\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \_w\_speed\ =\ scan.get\_stdfloat();}
\DoxyCodeLine{00093\ \ \ \}}
\DoxyCodeLine{00094\ \ \ \textcolor{keywordflow}{if}\ (manager-\/>get\_file\_minor\_ver()\ >=\ 22)\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \_r\_speed\ =\ scan.get\_stdfloat();}
\DoxyCodeLine{00096\ \ \ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00118\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classUvScrollNode_a5282c49fda08e4cb5cc75f95c1ff39e2}{UvScrollNode::}}}
\DoxyCodeLine{00119\ \mbox{\hyperlink{classUvScrollNode_a5282c49fda08e4cb5cc75f95c1ff39e2}{cull\_callback}}(\mbox{\hyperlink{classCullTraverser}{CullTraverser}}\ *\ trav,\ \mbox{\hyperlink{classCullTraverserData}{CullTraverserData}}\ \&data)\ \{}
\DoxyCodeLine{00120\ \ \ \textcolor{keywordtype}{double}\ elapsed\ =\ ClockObject::get\_global\_clock()-\/>get\_frame\_time()\ -\/\ \_start\_time;}
\DoxyCodeLine{00121\ \ \ CPT(\mbox{\hyperlink{classTransformState}{TransformState}})\ ts\ =\ TransformState::make\_pos\_hpr(}
\DoxyCodeLine{00122\ \ \ \ \ LVecBase3(cmod(elapsed\ *\ \_u\_speed,\ 1.0)\ /\ 1.0,}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cmod(elapsed\ *\ \_v\_speed,\ 1.0)\ /\ 1.0,}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cmod(elapsed\ *\ \_w\_speed,\ 1.0)\ /\ 1.0),}
\DoxyCodeLine{00125\ \ \ \ \ LVecBase3((cmod(elapsed\ *\ \_r\_speed,\ 1.0)\ /\ 1.0)\ *\ 360,\ 0,\ 0));}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ CPT(\mbox{\hyperlink{classRenderAttrib}{RenderAttrib}})\ tm\ =\ TexMatrixAttrib::make(TextureStage::get\_default(),\ ts);}
\DoxyCodeLine{00128\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ rs\ =\ RenderState::make\_empty()-\/>set\_attrib(tm);}
\DoxyCodeLine{00129\ \ \ data.\_state\ =\ data.\_state-\/>compose(rs);}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00132\ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00140\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classUvScrollNode_a31827a21e3b8d4072141a3e37b067272}{UvScrollNode::}}}
\DoxyCodeLine{00141\ \mbox{\hyperlink{classUvScrollNode_a31827a21e3b8d4072141a3e37b067272}{safe\_to\_flatten}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00142\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00143\ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00149\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classUvScrollNode_a217fc7696ac61587aee5a57885a90373}{UvScrollNode::}}}
\DoxyCodeLine{00150\ \mbox{\hyperlink{classUvScrollNode_a217fc7696ac61587aee5a57885a90373}{safe\_to\_combine}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00151\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00152\ \}}

\end{DoxyCode}
