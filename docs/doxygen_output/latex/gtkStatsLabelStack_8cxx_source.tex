\doxysection{gtk\+Stats\+Label\+Stack.\+cxx}
\hypertarget{gtkStatsLabelStack_8cxx_source}{}\label{gtkStatsLabelStack_8cxx_source}\index{pandatool/src/gtk-\/stats/gtkStatsLabelStack.cxx@{pandatool/src/gtk-\/stats/gtkStatsLabelStack.cxx}}
\mbox{\hyperlink{gtkStatsLabelStack_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsLabelStack_8h}{gtkStatsLabelStack.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsLabel_8h}{gtkStatsLabel.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pnotify_8h}{pnotify.h}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00021\ GtkStatsLabelStack::}
\DoxyCodeLine{00022\ GtkStatsLabelStack()\ \{}
\DoxyCodeLine{00023\ \ \ \_widget\ =\ gtk\_box\_new(GTK\_ORIENTATION\_VERTICAL,\ 0);}
\DoxyCodeLine{00024\ \ \ \_highlight\_label\ =\ -\/1;}
\DoxyCodeLine{00025\ \}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00030\ GtkStatsLabelStack::}
\DoxyCodeLine{00031\ \string~GtkStatsLabelStack()\ \{}
\DoxyCodeLine{00032\ \ \ \mbox{\hyperlink{classGtkStatsLabelStack_a8d9cca92be268640161e958aded25e54}{clear\_labels}}();}
\DoxyCodeLine{00033\ \}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00038\ GtkWidget\ *\mbox{\hyperlink{classGtkStatsLabelStack_a19b9352616529cd13a3c38828399e6fc}{GtkStatsLabelStack::}}}
\DoxyCodeLine{00039\ \mbox{\hyperlink{classGtkStatsLabelStack_a19b9352616529cd13a3c38828399e6fc}{get\_widget}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00040\ \ \ \textcolor{keywordflow}{return}\ \_widget;}
\DoxyCodeLine{00041\ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00047\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGtkStatsLabelStack_ae6e60603bf79ce784c4be3e4b1124582}{GtkStatsLabelStack::}}}
\DoxyCodeLine{00048\ \mbox{\hyperlink{classGtkStatsLabelStack_ae6e60603bf79ce784c4be3e4b1124582}{get\_label\_y}}(\textcolor{keywordtype}{int}\ label\_index,\ GtkWidget\ *target\_widget)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00049\ \ \ nassertr(label\_index\ >=\ 0\ \&\&\ label\_index\ <\ (\textcolor{keywordtype}{int})\_labels.size(),\ 0);}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *label\ =\ \_labels[label\_index];}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{keywordtype}{int}\ x,\ y;}
\DoxyCodeLine{00054\ \ \ gtk\_widget\_translate\_coordinates(label-\/>get\_widget(),\ target\_widget,}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0,\ 0,\ \&x,\ \&y);}
\DoxyCodeLine{00056\ \ \ y\ +=\ label-\/>get\_height();}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{return}\ y;}
\DoxyCodeLine{00058\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00063\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGtkStatsLabelStack_a8b1a382a559dd9f362eb4832a84597fd}{GtkStatsLabelStack::}}}
\DoxyCodeLine{00064\ \mbox{\hyperlink{classGtkStatsLabelStack_a8b1a382a559dd9f362eb4832a84597fd}{get\_label\_height}}(\textcolor{keywordtype}{int}\ label\_index)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00065\ \ \ nassertr(label\_index\ >=\ 0\ \&\&\ label\_index\ <\ (\textcolor{keywordtype}{int})\_labels.size(),\ 0);}
\DoxyCodeLine{00066\ \ \ \textcolor{keywordflow}{return}\ \_labels[label\_index]-\/>get\_height();}
\DoxyCodeLine{00067\ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00072\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGtkStatsLabelStack_a872841681413d0eba82aeb725837ce3c}{GtkStatsLabelStack::}}}
\DoxyCodeLine{00073\ \mbox{\hyperlink{classGtkStatsLabelStack_a872841681413d0eba82aeb725837ce3c}{get\_label\_collector\_index}}(\textcolor{keywordtype}{int}\ label\_index)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00074\ \ \ nassertr(label\_index\ >=\ 0\ \&\&\ label\_index\ <\ (\textcolor{keywordtype}{int})\_labels.size(),\ -\/1);}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{return}\ \_labels[label\_index]-\/>get\_collector\_index();}
\DoxyCodeLine{00076\ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00081\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsLabelStack_a8d9cca92be268640161e958aded25e54}{GtkStatsLabelStack::}}}
\DoxyCodeLine{00082\ \mbox{\hyperlink{classGtkStatsLabelStack_a8d9cca92be268640161e958aded25e54}{clear\_labels}}(\textcolor{keywordtype}{bool}\ delete\_widgets)\ \{}
\DoxyCodeLine{00083\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *label\ :\ \_labels)\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{if}\ (delete\_widgets)\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ gtk\_container\_remove(GTK\_CONTAINER(\_widget),\ label-\/>get\_widget());}
\DoxyCodeLine{00086\ \ \ \ \ \}}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keyword}{delete}\ label;}
\DoxyCodeLine{00088\ \ \ \}}
\DoxyCodeLine{00089\ \ \ \_labels.clear();}
\DoxyCodeLine{00090\ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00095\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGtkStatsLabelStack_a0b7f41102ef42abacaf4c904c0f58f28}{GtkStatsLabelStack::}}}
\DoxyCodeLine{00096\ \mbox{\hyperlink{classGtkStatsLabelStack_a0b7f41102ef42abacaf4c904c0f58f28}{add\_label}}(\mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *monitor,\ \mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph,}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ thread\_index,\ \textcolor{keywordtype}{int}\ collector\_index,\ \textcolor{keywordtype}{bool}\ use\_fullname)\ \{}
\DoxyCodeLine{00098\ \ \ \mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *label\ =}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}(monitor,\ graph,\ thread\_index,\ collector\_index,\ use\_fullname);}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ gtk\_box\_pack\_end(GTK\_BOX(\_widget),\ label-\/>get\_widget(),}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ FALSE,\ FALSE,\ 0);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \textcolor{keywordtype}{int}\ label\_index\ =\ (int)\_labels.size();}
\DoxyCodeLine{00105\ \ \ \_labels.push\_back(label);}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{keywordflow}{return}\ label\_index;}
\DoxyCodeLine{00108\ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00113\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGtkStatsLabelStack_ae84179e0aa3a6a5cbeb8f45ee0127554}{GtkStatsLabelStack::}}}
\DoxyCodeLine{00114\ \mbox{\hyperlink{classGtkStatsLabelStack_ae84179e0aa3a6a5cbeb8f45ee0127554}{get\_num\_labels}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00115\ \ \ \textcolor{keywordflow}{return}\ \_labels.size();}
\DoxyCodeLine{00116\ \}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00123\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsLabelStack_aa63faf14812118c7dfb2f5d8653d6dda}{GtkStatsLabelStack::}}}
\DoxyCodeLine{00124\ \mbox{\hyperlink{classGtkStatsLabelStack_aa63faf14812118c7dfb2f5d8653d6dda}{highlight\_label}}(\textcolor{keywordtype}{int}\ collector\_index)\ \{}
\DoxyCodeLine{00125\ \ \ \textcolor{keywordflow}{if}\ (\_highlight\_label\ !=\ collector\_index)\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \_highlight\_label\ =\ collector\_index;}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *label\ :\ \_labels)\ \{}
\DoxyCodeLine{00128\ \ \ \ \ \ \ label-\/>set\_highlight(label-\/>get\_collector\_index()\ ==\ \_highlight\_label);}
\DoxyCodeLine{00129\ \ \ \ \ \}}
\DoxyCodeLine{00130\ \ \ \}}
\DoxyCodeLine{00131\ \}}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00136\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsLabelStack_ae24f5479ef332f7d3bd60dd7b1448eb3}{GtkStatsLabelStack::}}}
\DoxyCodeLine{00137\ \mbox{\hyperlink{classGtkStatsLabelStack_ae24f5479ef332f7d3bd60dd7b1448eb3}{update\_label\_color}}(\textcolor{keywordtype}{int}\ collector\_index)\ \{}
\DoxyCodeLine{00138\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *label\ :\ \_labels)\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordflow}{if}\ (label-\/>get\_collector\_index()\ ==\ collector\_index)\ \{}
\DoxyCodeLine{00140\ \ \ \ \ \ \ label-\/>update\_color();}
\DoxyCodeLine{00141\ \ \ \ \ \}}
\DoxyCodeLine{00142\ \ \ \}}
\DoxyCodeLine{00143\ \}}

\end{DoxyCode}
