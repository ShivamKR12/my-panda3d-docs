\doxysection{display\+Region\+Draw\+Callback\+Data.\+cxx}
\hypertarget{displayRegionDrawCallbackData_8cxx_source}{}\label{displayRegionDrawCallbackData_8cxx_source}\index{panda/src/display/displayRegionDrawCallbackData.cxx@{panda/src/display/displayRegionDrawCallbackData.cxx}}
\mbox{\hyperlink{displayRegionDrawCallbackData_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{displayRegionDrawCallbackData_8h}{displayRegionDrawCallbackData.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__display_8h}{config\_display.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cullResult_8h}{cullResult.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{displayRegion_8h}{displayRegion.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{graphicsOutput_8h}{graphicsOutput.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{graphicsStateGuardian_8h}{graphicsStateGuardian.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sceneSetup_8h}{sceneSetup.h}}"{}}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ DisplayRegionDrawCallbackData::\_type\_handle;}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00029\ DisplayRegionDrawCallbackData::}
\DoxyCodeLine{00030\ DisplayRegionDrawCallbackData(\mbox{\hyperlink{classCullResult}{CullResult}}\ *cull\_result,\ \mbox{\hyperlink{classSceneSetup}{SceneSetup}}\ *scene\_setup)\ :}
\DoxyCodeLine{00031\ \ \ \_cull\_result(cull\_result),}
\DoxyCodeLine{00032\ \ \ \_scene\_setup(scene\_setup)}
\DoxyCodeLine{00033\ \{}
\DoxyCodeLine{00034\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00039\ \textcolor{keywordtype}{void}\ DisplayRegionDrawCallbackData::}
\DoxyCodeLine{00040\ output(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00041\ \ \ out\ <<\ get\_type()\ <<\ \textcolor{stringliteral}{"{}("{}}\ <<\ (\textcolor{keywordtype}{void}\ *)\_cull\_result\ <<\ \textcolor{stringliteral}{"{},\ "{}}}
\DoxyCodeLine{00042\ \ \ \ \ \ \ <<\ (\textcolor{keywordtype}{void}\ *)\_scene\_setup\ <<\ \textcolor{stringliteral}{"{})"{}};}
\DoxyCodeLine{00043\ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00054\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDisplayRegionDrawCallbackData_ae2ca198892e4f4d2fb50b0d77e564837}{DisplayRegionDrawCallbackData::}}}
\DoxyCodeLine{00055\ \mbox{\hyperlink{classDisplayRegionDrawCallbackData_ae2ca198892e4f4d2fb50b0d77e564837}{upcall}}()\ \{}
\DoxyCodeLine{00056\ \ \ \mbox{\hyperlink{classThread}{Thread}}\ *current\_thread\ =\ Thread::get\_current\_thread();}
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{classDisplayRegion}{DisplayRegion}}\ *dr\ =\ \_scene\_setup-\/>get\_display\_region();}
\DoxyCodeLine{00058\ \ \ \mbox{\hyperlink{classGraphicsStateGuardian}{GraphicsStateGuardian}}\ *gsg\ =\ dr-\/>get\_window()-\/>get\_gsg();}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{keywordflow}{if}\ (\_cull\_result\ ==\ \textcolor{keyword}{nullptr}\ ||\ \_scene\_setup\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{//\ Nothing\ to\ see\ here.}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (dr-\/>\mbox{\hyperlink{classDisplayRegion_ab5ec04c0765e71a669b52a3b01d2629a}{is\_stereo}}())\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ We\ don't\ actually\ draw\ the\ stereo\ DisplayRegions.\ \ These\ are\ just}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//\ placeholders;\ we\ draw\ the\ individual\ left\ and\ right\ eyes\ instead.\ \ (We}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{comment}{//\ might\ still\ clear\ the\ stereo\ DisplayRegions,\ though,\ since\ it's}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{comment}{//\ probably\ faster\ to\ clear\ right\ and\ left\ channels\ in\ one\ pass,\ than\ to}}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{comment}{//\ clear\ them\ in\ two\ separate\ passes.)}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!gsg-\/>\mbox{\hyperlink{classGraphicsStateGuardian_a24396aa9a8df4057bce0ddb5bbfb41dc}{set\_scene}}(\_scene\_setup))\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{comment}{//\ The\ scene\ or\ lens\ is\ inappropriate\ somehow.}}
\DoxyCodeLine{00072\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00073\ \ \ \ \ \ \ <<\ gsg-\/>get\_type()\ <<\ \textcolor{stringliteral}{"{}\ cannot\ render\ scene\ with\ specified\ lens.\(\backslash\)n"{}};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{//\ Tell\ the\ GSG\ to\ forget\ its\ state.}}
\DoxyCodeLine{00077\ \ \ \ \ gsg-\/>\mbox{\hyperlink{classGraphicsStateGuardian_a5765d9a3a172b3dc26c1d4487c0da72d}{clear\_state\_and\_transform}}();}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{if}\ (gsg-\/>begin\_scene())\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \_cull\_result-\/>\mbox{\hyperlink{classCullResult_a72f91e62781ba0a7dc45eea631febfac}{draw}}(current\_thread);}
\DoxyCodeLine{00081\ \ \ \ \ \ \ gsg-\/>\mbox{\hyperlink{classGraphicsStateGuardian_ab8d7bc997a78e7a442fcdb920cce0af4}{end\_scene}}();}
\DoxyCodeLine{00082\ \ \ \ \ \}}
\DoxyCodeLine{00083\ \ \ \}}
\DoxyCodeLine{00084\ \}}

\end{DoxyCode}
