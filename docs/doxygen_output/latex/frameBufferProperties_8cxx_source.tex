\doxysection{frame\+Buffer\+Properties.\+cxx}
\hypertarget{frameBufferProperties_8cxx_source}{}\label{frameBufferProperties_8cxx_source}\index{panda/src/display/frameBufferProperties.cxx@{panda/src/display/frameBufferProperties.cxx}}
\mbox{\hyperlink{frameBufferProperties_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{frameBufferProperties_8h}{frameBufferProperties.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{string__utils_8h}{string\_utils.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{renderBuffer_8h}{renderBuffer.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__display_8h}{config\_display.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{texture_8h}{texture.h}}"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00024\ \textcolor{keywordtype}{bool}\ FrameBufferProperties::}
\DoxyCodeLine{00025\ subsumes(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ \&other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00026\ \ \ \textcolor{keywordflow}{if}\ (((other.\_flags\ \&\ other.\_flags\_specified)\ \&\ \string~(\_flags\ \&\ \_flags\_specified))\ !=\ 0)\ \{}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{comment}{//\ The\ other\ has\ bits\ enabled\ that\ we\ don't\ have\ enabled.}}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00029\ \ \ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ FBP\_COUNT;\ ++i)\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordflow}{if}\ (other.\_property[i]\ >\ \_property[i])\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00034\ \ \ \ \ \}}
\DoxyCodeLine{00035\ \ \ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00038\ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00044\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ \&FrameBufferProperties::}
\DoxyCodeLine{00045\ get\_default()\ \{}
\DoxyCodeLine{00046\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ default\_ready\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00047\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ default\_props;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \textcolor{keywordflow}{if}\ (default\_ready)\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{return}\ default\_props;}
\DoxyCodeLine{00051\ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ default\_props.set\_rgb\_color(\textcolor{keyword}{true});}
\DoxyCodeLine{00054\ \ \ default\_props.set\_back\_buffers(back\_buffers);}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{keywordtype}{int}\ num\_words\ =\ framebuffer\_mode.get\_num\_words();}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordflow}{if}\ (num\_words\ >\ 0)\ \{}
\DoxyCodeLine{00058\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00059\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}The\ config-\/variable\ 'framebuffer-\/mode'\ no\ longer\ functions.\(\backslash\)n"{}};}
\DoxyCodeLine{00060\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00061\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Instead,\ use\ one\ or\ more\ of\ these:\(\backslash\)n"{}};}
\DoxyCodeLine{00062\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ framebuffer-\/hardware\ \#t\(\backslash\)n"{}};}
\DoxyCodeLine{00063\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ framebuffer-\/software\ \#t\(\backslash\)n"{}};}
\DoxyCodeLine{00064\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ framebuffer-\/depth\ \#t\(\backslash\)n"{}};}
\DoxyCodeLine{00065\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ framebuffer-\/alpha\ \#t\(\backslash\)n"{}};}
\DoxyCodeLine{00066\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ framebuffer-\/stencil\ \#t\(\backslash\)n"{}};}
\DoxyCodeLine{00067\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ framebuffer-\/multisample\ \#t\(\backslash\)n"{}};}
\DoxyCodeLine{00068\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ framebuffer-\/stereo\ \#t\(\backslash\)n"{}};}
\DoxyCodeLine{00069\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ depth-\/bits\ N\(\backslash\)n"{}};}
\DoxyCodeLine{00070\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ color-\/bits\ N\(\backslash\)n"{}};}
\DoxyCodeLine{00071\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ red-\/bits\ N\(\backslash\)n"{}};}
\DoxyCodeLine{00072\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ green-\/bits\ N\(\backslash\)n"{}};}
\DoxyCodeLine{00073\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ blue-\/bits\ N\(\backslash\)n"{}};}
\DoxyCodeLine{00074\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ alpha-\/bits\ N\(\backslash\)n"{}};}
\DoxyCodeLine{00075\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ stencil-\/bits\ N\(\backslash\)n"{}};}
\DoxyCodeLine{00076\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ multisamples\ N\(\backslash\)n"{}};}
\DoxyCodeLine{00077\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ coverage-\/samples\ N\(\backslash\)n"{}};}
\DoxyCodeLine{00078\ \ \ \ \ display\_cat.error()\ <<\ \textcolor{stringliteral}{"{}\ \ back-\/buffers\ N\(\backslash\)n"{}};}
\DoxyCodeLine{00079\ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{if}\ (framebuffer\_hardware)\ \{}
\DoxyCodeLine{00082\ \ \ \ \ default\_props.set\_force\_hardware(\textcolor{keyword}{true});}
\DoxyCodeLine{00083\ \ \ \}}
\DoxyCodeLine{00084\ \ \ \textcolor{keywordflow}{if}\ (framebuffer\_software)\ \{}
\DoxyCodeLine{00085\ \ \ \ \ default\_props.set\_force\_software(\textcolor{keyword}{true});}
\DoxyCodeLine{00086\ \ \ \}}
\DoxyCodeLine{00087\ \ \ \textcolor{keywordflow}{if}\ (framebuffer\_depth)\ \{}
\DoxyCodeLine{00088\ \ \ \ \ default\_props.set\_depth\_bits(1);}
\DoxyCodeLine{00089\ \ \ \}}
\DoxyCodeLine{00090\ \ \ \textcolor{keywordflow}{if}\ (framebuffer\_alpha)\ \{}
\DoxyCodeLine{00091\ \ \ \ \ default\_props.set\_alpha\_bits(1);}
\DoxyCodeLine{00092\ \ \ \}}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{if}\ (framebuffer\_stencil)\ \{}
\DoxyCodeLine{00094\ \ \ \ \ default\_props.set\_stencil\_bits(1);}
\DoxyCodeLine{00095\ \ \ \}}
\DoxyCodeLine{00096\ \ \ \textcolor{keywordflow}{if}\ (framebuffer\_accum)\ \{}
\DoxyCodeLine{00097\ \ \ \ \ default\_props.set\_accum\_bits(1);}
\DoxyCodeLine{00098\ \ \ \}}
\DoxyCodeLine{00099\ \ \ \textcolor{keywordflow}{if}\ (framebuffer\_multisample)\ \{}
\DoxyCodeLine{00100\ \ \ \ \ default\_props.set\_multisamples(1);}
\DoxyCodeLine{00101\ \ \ \}}
\DoxyCodeLine{00102\ \ \ \textcolor{keywordflow}{if}\ (framebuffer\_stereo)\ \{}
\DoxyCodeLine{00103\ \ \ \ \ default\_props.set\_stereo(\textcolor{keyword}{true});}
\DoxyCodeLine{00104\ \ \ \}}
\DoxyCodeLine{00105\ \ \ \textcolor{keywordflow}{if}\ (framebuffer\_srgb)\ \{}
\DoxyCodeLine{00106\ \ \ \ \ default\_props.set\_srgb\_color(\textcolor{keyword}{true});}
\DoxyCodeLine{00107\ \ \ \}}
\DoxyCodeLine{00108\ \ \ \textcolor{keywordflow}{if}\ (framebuffer\_float)\ \{}
\DoxyCodeLine{00109\ \ \ \ \ default\_props.set\_float\_color(\textcolor{keyword}{true});}
\DoxyCodeLine{00110\ \ \ \}}
\DoxyCodeLine{00111\ \ \ \textcolor{keywordflow}{if}\ (depth\_bits\ >\ 0)\ \{}
\DoxyCodeLine{00112\ \ \ \ \ default\_props.set\_depth\_bits(depth\_bits);}
\DoxyCodeLine{00113\ \ \ \}}
\DoxyCodeLine{00114\ \ \ \textcolor{keywordflow}{switch}\ (color\_bits.size())\ \{}
\DoxyCodeLine{00115\ \ \ \textcolor{keywordflow}{case}\ 0:}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00117\ \ \ \textcolor{keywordflow}{case}\ 1:}
\DoxyCodeLine{00118\ \ \ \ \ default\_props.set\_color\_bits(color\_bits[0]);}
\DoxyCodeLine{00119\ \ \ \ \ default\_props.set\_red\_bits(1);}
\DoxyCodeLine{00120\ \ \ \ \ default\_props.set\_green\_bits(1);}
\DoxyCodeLine{00121\ \ \ \ \ default\_props.set\_blue\_bits(1);}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00123\ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00124\ \ \ \ \ default\_props.set\_color\_bits(color\_bits[0]\ +\ color\_bits[1]\ +\ color\_bits[2]);}
\DoxyCodeLine{00125\ \ \ \ \ default\_props.set\_red\_bits(color\_bits[0]);}
\DoxyCodeLine{00126\ \ \ \ \ default\_props.set\_green\_bits(color\_bits[1]);}
\DoxyCodeLine{00127\ \ \ \ \ default\_props.set\_blue\_bits(color\_bits[2]);}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00129\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00130\ \ \ \ \ default\_props.set\_color\_bits(color\_bits[0]);}
\DoxyCodeLine{00131\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00132\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Configuration\ variable\ color-\/bits\ takes\ either\ 1\ or\ 3\ values,\ not\ "{}}}
\DoxyCodeLine{00133\ \ \ \ \ \ \ <<\ color\_bits.size()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00135\ \ \ \}}
\DoxyCodeLine{00136\ \ \ \textcolor{keywordflow}{if}\ (alpha\_bits\ >\ 0)\ \{}
\DoxyCodeLine{00137\ \ \ \ \ default\_props.set\_alpha\_bits(alpha\_bits);}
\DoxyCodeLine{00138\ \ \ \}}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{if}\ (stencil\_bits\ >\ 0)\ \{}
\DoxyCodeLine{00140\ \ \ \ \ default\_props.set\_stencil\_bits(stencil\_bits);}
\DoxyCodeLine{00141\ \ \ \}}
\DoxyCodeLine{00142\ \ \ \textcolor{keywordflow}{if}\ (accum\_bits\ >\ 0)\ \{}
\DoxyCodeLine{00143\ \ \ \ \ default\_props.set\_accum\_bits(accum\_bits);}
\DoxyCodeLine{00144\ \ \ \}}
\DoxyCodeLine{00145\ \ \ \textcolor{keywordflow}{if}\ (multisamples\ >\ 0)\ \{}
\DoxyCodeLine{00146\ \ \ \ \ default\_props.set\_multisamples(multisamples);}
\DoxyCodeLine{00147\ \ \ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \textcolor{keywordflow}{if}\ ((default\_props.\_flags\ \&\ FBF\_force\_software)\ !=\ 0\ \&\&}
\DoxyCodeLine{00150\ \ \ \ \ \ \ (default\_props.\_flags\ \&\ FBF\_force\_hardware)\ !=\ 0)\{}
\DoxyCodeLine{00151\ \ \ \ \ default\_props.\_flags\ \&=\ \string~(FBF\_force\_software\ |\ FBF\_force\_hardware);}
\DoxyCodeLine{00152\ \ \ \}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ default\_ready\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00155\ \ \ \textcolor{keywordflow}{return}\ default\_props;}
\DoxyCodeLine{00156\ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00161\ \textcolor{keywordtype}{bool}\ FrameBufferProperties::}
\DoxyCodeLine{00162\ operator\ ==\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ \&other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00163\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ \_flags\_specified)\ !=\ (other.\_flags\ \&\ other.\_flags\_specified))\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00165\ \ \ \}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \textcolor{keywordflow}{if}\ (\_specified\ !=\ other.\_specified)\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00169\ \ \ \}}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ FBP\_COUNT;\ ++i)\ \{}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_property[i]\ !=\ other.\_property[i])\ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00174\ \ \ \ \ \}}
\DoxyCodeLine{00175\ \ \ \}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00178\ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00184\ \textcolor{keywordtype}{void}\ FrameBufferProperties::}
\DoxyCodeLine{00185\ clear()\ \{}
\DoxyCodeLine{00186\ \ \ \_flags\ =\ 0;}
\DoxyCodeLine{00187\ \ \ \_flags\_specified\ =\ 0;}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ FBP\_COUNT;\ ++i)\ \{}
\DoxyCodeLine{00190\ \ \ \ \ \_property[i]\ =\ 0;}
\DoxyCodeLine{00191\ \ \ \}}
\DoxyCodeLine{00192\ \ \ \_specified\ =\ 0;}
\DoxyCodeLine{00193\ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00199\ \textcolor{keywordtype}{void}\ FrameBufferProperties::}
\DoxyCodeLine{00200\ add\_properties(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ \&other)\ \{}
\DoxyCodeLine{00201\ \ \ \_flags\ \&=\ \string~other.\_flags\_specified;}
\DoxyCodeLine{00202\ \ \ \_flags\ |=\ other.\_flags\ \&\ other.\_flags\_specified;}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ FBP\_COUNT;\ ++i)\ \{}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordflow}{if}\ (other.\_specified\ \&\ (1\ <<\ i))\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \_property[i]\ =\ other.\_property[i];}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \_specified\ |=\ (1\ <<\ i);}
\DoxyCodeLine{00208\ \ \ \ \ \}}
\DoxyCodeLine{00209\ \ \ \}}
\DoxyCodeLine{00210\ \}}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00215\ \textcolor{keywordtype}{void}\ FrameBufferProperties::}
\DoxyCodeLine{00216\ output(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00217\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_float\_depth)\ !=\ 0)\ \{}
\DoxyCodeLine{00218\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}float\_depth\ "{}};}
\DoxyCodeLine{00219\ \ \ \}}
\DoxyCodeLine{00220\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_depth\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00221\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}depth\_bits="{}}\ <<\ \_property[FBP\_depth\_bits]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00222\ \ \ \}}
\DoxyCodeLine{00223\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_float\_color)\ !=\ 0)\ \{}
\DoxyCodeLine{00224\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}float\_color\ "{}};}
\DoxyCodeLine{00225\ \ \ \}}
\DoxyCodeLine{00226\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_srgb\_color)\ !=\ 0)\ \{}
\DoxyCodeLine{00227\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}srgb\_color\ "{}};}
\DoxyCodeLine{00228\ \ \ \}}
\DoxyCodeLine{00229\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_indexed\_color)\ !=\ 0)\ \{}
\DoxyCodeLine{00230\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}indexed\_color\ "{}};}
\DoxyCodeLine{00231\ \ \ \}}
\DoxyCodeLine{00232\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_color\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00233\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}color\_bits="{}}\ <<\ \_property[FBP\_color\_bits]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00234\ \ \ \}}
\DoxyCodeLine{00235\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_red\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00236\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}red\_bits="{}}\ <<\ \_property[FBP\_red\_bits]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00237\ \ \ \}}
\DoxyCodeLine{00238\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_green\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00239\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}green\_bits="{}}\ <<\ \_property[FBP\_green\_bits]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00240\ \ \ \}}
\DoxyCodeLine{00241\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_blue\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00242\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}blue\_bits="{}}\ <<\ \_property[FBP\_blue\_bits]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00243\ \ \ \}}
\DoxyCodeLine{00244\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_alpha\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00245\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}alpha\_bits="{}}\ <<\ \_property[FBP\_alpha\_bits]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00246\ \ \ \}}
\DoxyCodeLine{00247\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_stencil\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00248\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}stencil\_bits="{}}\ <<\ \_property[FBP\_stencil\_bits]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00249\ \ \ \}}
\DoxyCodeLine{00250\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_accum\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00251\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}accum\_bits="{}}\ <<\ \_property[FBP\_accum\_bits]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00252\ \ \ \}}
\DoxyCodeLine{00253\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_aux\_rgba]\ >\ 0)\ \{}
\DoxyCodeLine{00254\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}aux\_rgba="{}}\ <<\ \_property[FBP\_aux\_rgba]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00255\ \ \ \}}
\DoxyCodeLine{00256\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_aux\_hrgba]\ >\ 0)\ \{}
\DoxyCodeLine{00257\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}aux\_hrgba="{}}\ <<\ \_property[FBP\_aux\_hrgba]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00258\ \ \ \}}
\DoxyCodeLine{00259\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_aux\_float]\ >\ 0)\ \{}
\DoxyCodeLine{00260\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}aux\_float="{}}\ <<\ \_property[FBP\_aux\_float]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00261\ \ \ \}}
\DoxyCodeLine{00262\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_multisamples]\ >\ 0)\ \{}
\DoxyCodeLine{00263\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}multisamples="{}}\ <<\ \_property[FBP\_multisamples]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00264\ \ \ \}}
\DoxyCodeLine{00265\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_coverage\_samples]\ >\ 0)\ \{}
\DoxyCodeLine{00266\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}coverage\_samples="{}}\ <<\ \_property[FBP\_coverage\_samples]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00267\ \ \ \}}
\DoxyCodeLine{00268\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_back\_buffers]\ >\ 0)\ \{}
\DoxyCodeLine{00269\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}back\_buffers="{}}\ <<\ \_property[FBP\_back\_buffers]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00270\ \ \ \}}
\DoxyCodeLine{00271\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_stereo)\ !=\ 0)\ \{}
\DoxyCodeLine{00272\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}stereo\ "{}};}
\DoxyCodeLine{00273\ \ \ \}}
\DoxyCodeLine{00274\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_force\_hardware)\ !=\ 0)\ \{}
\DoxyCodeLine{00275\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}force\_hardware\ "{}};}
\DoxyCodeLine{00276\ \ \ \}}
\DoxyCodeLine{00277\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_force\_software)\ !=\ 0)\ \{}
\DoxyCodeLine{00278\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}force\_software\ "{}};}
\DoxyCodeLine{00279\ \ \ \}}
\DoxyCodeLine{00280\ \}}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00285\ \textcolor{keywordtype}{int}\ FrameBufferProperties::}
\DoxyCodeLine{00286\ get\_aux\_mask()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00287\ \ \ \textcolor{keywordtype}{int}\ mask\ =\ 0;}
\DoxyCodeLine{00288\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i=0;\ i<\_property[FBP\_aux\_rgba];\ i++)\ \{}
\DoxyCodeLine{00289\ \ \ \ \ mask\ |=\ (RenderBuffer::T\_aux\_rgba\_0\ <<\ i);}
\DoxyCodeLine{00290\ \ \ \}}
\DoxyCodeLine{00291\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i=0;\ i<\_property[FBP\_aux\_hrgba];\ i++)\ \{}
\DoxyCodeLine{00292\ \ \ \ \ mask\ |=\ (RenderBuffer::T\_aux\_hrgba\_0\ <<\ i);}
\DoxyCodeLine{00293\ \ \ \}}
\DoxyCodeLine{00294\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i=0;\ i<\_property[FBP\_aux\_float];\ i++)\ \{}
\DoxyCodeLine{00295\ \ \ \ \ mask\ |=\ (RenderBuffer::T\_aux\_float\_0\ <<\ i);}
\DoxyCodeLine{00296\ \ \ \}}
\DoxyCodeLine{00297\ \ \ \textcolor{keywordflow}{return}\ mask;}
\DoxyCodeLine{00298\ \}}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00304\ \textcolor{keywordtype}{int}\ FrameBufferProperties::}
\DoxyCodeLine{00305\ get\_buffer\_mask()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00306\ \ \ \textcolor{keywordtype}{int}\ mask\ =\ 0;}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \ \ \textcolor{comment}{//XXX\ rdb:\ some\ buffers\ only\ have\ a\ front\ buffer,\ some\ only\ a\ back\ buffer}}
\DoxyCodeLine{00309\ \ \ \textcolor{comment}{//if\ (\_property[FBP\_back\_buffers]\ >\ 0)\ \{}}
\DoxyCodeLine{00310\ \ \ \ \ \ mask\ =\ RenderBuffer::T\_front\ |\ RenderBuffer::T\_back;}
\DoxyCodeLine{00311\ \ \ \textcolor{comment}{//\}\ else\ \{}}
\DoxyCodeLine{00312\ \ \ \textcolor{comment}{//\ \ mask\ =\ RenderBuffer::T\_front;}}
\DoxyCodeLine{00313\ \ \ \textcolor{comment}{//\}}}
\DoxyCodeLine{00314\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_depth\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00315\ \ \ \ \ mask\ |=\ RenderBuffer::T\_depth;}
\DoxyCodeLine{00316\ \ \ \}}
\DoxyCodeLine{00317\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_stencil\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00318\ \ \ \ \ mask\ |=\ RenderBuffer::T\_stencil;}
\DoxyCodeLine{00319\ \ \ \}}
\DoxyCodeLine{00320\ \ \ \textcolor{keywordflow}{return}\ mask;}
\DoxyCodeLine{00321\ \}}
\DoxyCodeLine{00322\ }
\DoxyCodeLine{00326\ \textcolor{keywordtype}{bool}\ FrameBufferProperties::}
\DoxyCodeLine{00327\ is\_any\_specified()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00328\ \ \ \textcolor{keywordflow}{return}\ (\_flags\_specified\ |\ \_specified)\ !=\ 0;}
\DoxyCodeLine{00329\ \}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00334\ \textcolor{keywordtype}{void}\ FrameBufferProperties::}
\DoxyCodeLine{00335\ set\_all\_specified()\ \{}
\DoxyCodeLine{00336\ \ \ \_flags\_specified\ =\ FBF\_all;}
\DoxyCodeLine{00337\ \ \ \_specified\ =\ (1\ <<\ FBP\_COUNT)\ -\/\ 1;}
\DoxyCodeLine{00338\ \}}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00345\ \textcolor{keywordtype}{bool}\ FrameBufferProperties::}
\DoxyCodeLine{00346\ is\_basic()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00347\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_depth\_bits]\ >\ 1)\ \{}
\DoxyCodeLine{00348\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00349\ \ \ \}}
\DoxyCodeLine{00350\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_color\_bits]\ >\ 1)\ \{}
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00352\ \ \ \}}
\DoxyCodeLine{00353\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_red\_bits]\ >\ 1)\ \{}
\DoxyCodeLine{00354\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00355\ \ \ \}}
\DoxyCodeLine{00356\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_green\_bits]\ >\ 1)\ \{}
\DoxyCodeLine{00357\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00358\ \ \ \}}
\DoxyCodeLine{00359\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_blue\_bits]\ >\ 1)\ \{}
\DoxyCodeLine{00360\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00361\ \ \ \}}
\DoxyCodeLine{00362\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_alpha\_bits]\ >\ 1)\ \{}
\DoxyCodeLine{00363\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00364\ \ \ \}}
\DoxyCodeLine{00365\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_stencil\_bits]\ >\ 0)\ \{}
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00367\ \ \ \}}
\DoxyCodeLine{00368\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_aux\_rgba]\ >\ 0)\ \{}
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00370\ \ \ \}}
\DoxyCodeLine{00371\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_aux\_hrgba]\ >\ 0)\ \{}
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00373\ \ \ \}}
\DoxyCodeLine{00374\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_aux\_float]\ >\ 0)\ \{}
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00376\ \ \ \}}
\DoxyCodeLine{00377\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_multisamples]\ >\ 1)\ \{}
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00379\ \ \ \}}
\DoxyCodeLine{00380\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_coverage\_samples]\ >\ 0)\ \{}
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00382\ \ \ \}}
\DoxyCodeLine{00383\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_back\_buffers]\ >\ 0)\ \{}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00385\ \ \ \}}
\DoxyCodeLine{00386\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_indexed\_color)\ !=\ 0)\ \{}
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00388\ \ \ \}}
\DoxyCodeLine{00389\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_force\_hardware)\ !=\ 0)\ \{}
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00391\ \ \ \}}
\DoxyCodeLine{00392\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_force\_software)\ !=\ 0)\ \{}
\DoxyCodeLine{00393\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00394\ \ \ \}}
\DoxyCodeLine{00395\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_srgb\_color)\ !=\ 0)\ \{}
\DoxyCodeLine{00396\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00397\ \ \ \}}
\DoxyCodeLine{00398\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_float\_color)\ !=\ 0)\ \{}
\DoxyCodeLine{00399\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00400\ \ \ \}}
\DoxyCodeLine{00401\ \ \ \textcolor{keywordflow}{if}\ ((\_flags\ \&\ FBF\_float\_depth)\ !=\ 0)\ \{}
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00403\ \ \ \}}
\DoxyCodeLine{00404\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00405\ \}}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00411\ \textcolor{keywordtype}{void}\ FrameBufferProperties::}
\DoxyCodeLine{00412\ set\_one\_bit\_per\_channel()\ \{}
\DoxyCodeLine{00413\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ prop\ =\ FBP\_depth\_bits;\ prop\ <=\ FBP\_accum\_bits;\ ++prop)\ \{}
\DoxyCodeLine{00414\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_property[prop]\ >\ 1)\ \{}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \_property[prop]\ =\ 1;}
\DoxyCodeLine{00416\ \ \ \ \ \}}
\DoxyCodeLine{00417\ \ \ \}}
\DoxyCodeLine{00418\ \}}
\DoxyCodeLine{00419\ }
\DoxyCodeLine{00438\ \textcolor{keywordtype}{int}\ FrameBufferProperties::}
\DoxyCodeLine{00439\ get\_quality(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ \&reqs)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00440\ }
\DoxyCodeLine{00441\ \ \ \textcolor{keywordflow}{if}\ (!get\_indexed\_color()\ \&\&\ !get\_rgb\_color())\ \{}
\DoxyCodeLine{00442\ \ \ \ \ \textcolor{comment}{//\ Nonfunctioning\ window.}}
\DoxyCodeLine{00443\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00444\ \ \ \}}
\DoxyCodeLine{00445\ }
\DoxyCodeLine{00446\ \ \ \textcolor{keywordflow}{if}\ ((reqs.get\_rgb\_color()\ \&\&\ !get\_rgb\_color())\ ||}
\DoxyCodeLine{00447\ \ \ \ \ \ \ (reqs.get\_indexed\_color()\ \&\&\ !get\_indexed\_color()))\ \{}
\DoxyCodeLine{00448\ \ \ \ \ \textcolor{comment}{//\ These\ properties\ are\ nonnegotiable.}}
\DoxyCodeLine{00449\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00450\ \ \ \}}
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00452\ \ \ \textcolor{keywordtype}{int}\ quality\ =\ 100000000;}
\DoxyCodeLine{00453\ }
\DoxyCodeLine{00454\ \ \ \textcolor{comment}{//\ Deduct\ for\ using\ the\ wrong\ kind\ of\ renderer\ (hardware\ or\ software).\ Cost:}}
\DoxyCodeLine{00455\ \ \ \textcolor{comment}{//\ 10,000,000}}
\DoxyCodeLine{00456\ }
\DoxyCodeLine{00457\ \ \ \textcolor{keywordflow}{if}\ ((reqs.\_flags\ \&\ FBF\_force\_hardware)\ >\ (\_flags\ \&\ FBF\_force\_hardware)\ ||}
\DoxyCodeLine{00458\ \ \ \ \ \ \ (reqs.\_flags\ \&\ FBF\_force\_software)\ >\ (\_flags\ \&\ FBF\_force\_software))\ \{}
\DoxyCodeLine{00459\ \ \ \ \ quality\ -\/=\ 10000000;}
\DoxyCodeLine{00460\ \ \ \}}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \ \ \textcolor{comment}{//\ Deduct\ for\ software-\/only\ renderers\ in\ absence\ of\ a\ special\ request.}}
\DoxyCodeLine{00463\ \ \ \textcolor{comment}{//\ Cost:\ 2,000,000}}
\DoxyCodeLine{00464\ }
\DoxyCodeLine{00465\ \ \ \textcolor{keywordflow}{if}\ (get\_force\_software()\ \&\&\ !reqs.get\_force\_software())\ \{}
\DoxyCodeLine{00466\ \ \ \ \ quality\ -\/=\ 2000000;}
\DoxyCodeLine{00467\ \ \ \}}
\DoxyCodeLine{00468\ }
\DoxyCodeLine{00469\ \ \ \textcolor{comment}{//\ Deduct\ for\ missing\ depth,\ color,\ alpha,\ stencil,\ or\ accum.\ \ Cost:}}
\DoxyCodeLine{00470\ \ \ \textcolor{comment}{//\ 1,000,000}}
\DoxyCodeLine{00471\ }
\DoxyCodeLine{00472\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ prop\ =\ FBP\_depth\_bits;\ prop\ <=\ FBP\_accum\_bits;\ ++prop)\ \{}
\DoxyCodeLine{00473\ \ \ \ \ \textcolor{keywordflow}{if}\ (reqs.\_property[prop]\ \&\&\ \_property[prop]\ ==\ 0)\ \{}
\DoxyCodeLine{00474\ \ \ \ \ \ \ quality\ -\/=\ 1000000;}
\DoxyCodeLine{00475\ \ \ \ \ \}}
\DoxyCodeLine{00476\ \ \ \}}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00478\ \ \ \textcolor{comment}{//\ Deduct\ for\ missing\ aux\ bitplanes.\ \ Cost:\ 100,000}}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00480\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ prop\ =\ FBP\_aux\_rgba;\ prop\ <=\ FBP\_aux\_float;\ ++prop)\ \{}
\DoxyCodeLine{00481\ \ \ \ \ \textcolor{keywordflow}{if}\ (reqs.\_property[prop]\ >\ \_property[prop])\ \{}
\DoxyCodeLine{00482\ \ \ \ \ \ \ quality\ -\/=\ 100000;}
\DoxyCodeLine{00483\ \ \ \ \ \}}
\DoxyCodeLine{00484\ \ \ \}}
\DoxyCodeLine{00485\ }
\DoxyCodeLine{00486\ \ \ \textcolor{comment}{//\ Deduct\ for\ stereo\ not\ enabled.\ \ Cost:\ 100,000}}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00488\ \ \ \textcolor{keywordflow}{if}\ (reqs.get\_stereo()\ \&\&\ !get\_stereo())\ \{}
\DoxyCodeLine{00489\ \ \ \ \ quality\ -\/=\ 100000;}
\DoxyCodeLine{00490\ \ \ \}}
\DoxyCodeLine{00491\ }
\DoxyCodeLine{00492\ \ \ \textcolor{comment}{//\ Deduct\ for\ not\ being\ sRGB-\/capable.\ \ Cost:\ 100,000}}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00494\ \ \ \textcolor{keywordflow}{if}\ (reqs.get\_srgb\_color()\ \&\&\ !get\_srgb\_color())\ \{}
\DoxyCodeLine{00495\ \ \ \ \ quality\ -\/=\ 100000;}
\DoxyCodeLine{00496\ \ \ \}}
\DoxyCodeLine{00497\ }
\DoxyCodeLine{00498\ \ \ \textcolor{comment}{//\ Deduct\ for\ not\ having\ a\ floating-\/point\ format\ if\ we\ requested\ it.\ \ Cost:}}
\DoxyCodeLine{00499\ \ \ \textcolor{comment}{//\ 100,000}}
\DoxyCodeLine{00500\ }
\DoxyCodeLine{00501\ \ \ \textcolor{keywordflow}{if}\ (reqs.get\_float\_color()\ \&\&\ !get\_float\_color())\ \{}
\DoxyCodeLine{00502\ \ \ \ \ quality\ -\/=\ 100000;}
\DoxyCodeLine{00503\ \ \ \}}
\DoxyCodeLine{00504\ }
\DoxyCodeLine{00505\ \ \ \textcolor{keywordflow}{if}\ (reqs.get\_float\_depth()\ \&\&\ !get\_float\_depth())\ \{}
\DoxyCodeLine{00506\ \ \ \ \ quality\ -\/=\ 100000;}
\DoxyCodeLine{00507\ \ \ \}}
\DoxyCodeLine{00508\ }
\DoxyCodeLine{00509\ \ \ \textcolor{comment}{//\ Deduct\ for\ insufficient\ back-\/buffers.\ \ Cost:\ 100,000}}
\DoxyCodeLine{00510\ }
\DoxyCodeLine{00511\ \ \ \textcolor{keywordflow}{if}\ (reqs.\_property[FBP\_back\_buffers]\ >\ \_property[FBP\_back\_buffers])\ \{}
\DoxyCodeLine{00512\ \ \ \ \ quality\ -\/=\ 100000;}
\DoxyCodeLine{00513\ \ \ \}}
\DoxyCodeLine{00514\ }
\DoxyCodeLine{00515\ \ \ \textcolor{comment}{//\ Deduct\ for\ lacking\ multisamples\ altogether.\ \ Cost:\ 100,000}}
\DoxyCodeLine{00516\ \ \ \textcolor{keywordflow}{if}\ (reqs.\_property[FBP\_multisamples]\ !=\ 0\ \&\&\ \_property[FBP\_multisamples]\ ==\ 0)\ \{}
\DoxyCodeLine{00517\ \ \ \ \ quality\ -\/=\ 100000;}
\DoxyCodeLine{00518\ \ \ \}}
\DoxyCodeLine{00519\ }
\DoxyCodeLine{00520\ \ \ \textcolor{comment}{//\ Deduct\ for\ not\ enough\ bits\ in\ depth,\ color,\ alpha,\ stencil,\ or\ accum.}}
\DoxyCodeLine{00521\ \ \ \textcolor{comment}{//\ Cost:\ 10,000}}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ prop\ =\ FBP\_depth\_bits;\ prop\ <=\ FBP\_accum\_bits;\ ++prop)\ \{}
\DoxyCodeLine{00524\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_property[prop]\ !=\ 0\ \&\&\ reqs.\_property[prop]\ >\ \_property[prop])\ \{}
\DoxyCodeLine{00525\ \ \ \ \ \ \ quality\ -\/=\ 10000;}
\DoxyCodeLine{00526\ \ \ \ \ \}}
\DoxyCodeLine{00527\ \ \ \}}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00529\ \ \ \textcolor{comment}{//\ Deduct\ for\ insufficient\ multisamples.\ \ Cost:\ 1,000}}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00531\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_multisamples]\ !=\ 0\ \&\&}
\DoxyCodeLine{00532\ \ \ \ \ \ \ reqs.\_property[FBP\_multisamples]\ >\ \_property[FBP\_multisamples])\ \{}
\DoxyCodeLine{00533\ \ \ \ \ quality\ -\/=\ 1000;}
\DoxyCodeLine{00534\ \ \ \}}
\DoxyCodeLine{00535\ }
\DoxyCodeLine{00536\ \ \ \textcolor{comment}{//\ Deduct\ for\ having\ more\ multisamples\ than\ requested.\ \ Cost:\ 2\ per\ sample}}
\DoxyCodeLine{00537\ \ \ \textcolor{comment}{//\ In\ case\ the\ special\ value\ of\ 1\ multisample\ is\ requested,\ nothing\ gets\ deducted.}}
\DoxyCodeLine{00538\ }
\DoxyCodeLine{00539\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_multisamples]\ !=\ 0\ \&\&}
\DoxyCodeLine{00540\ \ \ \ \ \ \ reqs.\_property[FBP\_multisamples]\ !=\ 1\ \&\&}
\DoxyCodeLine{00541\ \ \ \ \ \ \ reqs.\_property[FBP\_multisamples]\ <\ \_property[FBP\_multisamples])\ \{}
\DoxyCodeLine{00542\ \ \ \ \ quality\ -\/=\ 2\ *\ \_property[FBP\_multisamples];}
\DoxyCodeLine{00543\ \ \ \}}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00545\ \ \ \textcolor{comment}{//\ Deduct\ for\ insufficient\ coverage\ samples.\ \ Cost:\ 1,000}}
\DoxyCodeLine{00546\ }
\DoxyCodeLine{00547\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_coverage\_samples]\ !=\ 0\ \&\&}
\DoxyCodeLine{00548\ \ \ \ \ reqs.\_property[FBP\_coverage\_samples]\ >\ \_property[FBP\_coverage\_samples])\ \{}
\DoxyCodeLine{00549\ \ \ \ \ quality\ -\/=\ 1000;}
\DoxyCodeLine{00550\ \ \ \}}
\DoxyCodeLine{00551\ }
\DoxyCodeLine{00552\ \ \ \textcolor{comment}{//\ Deduct\ for\ having\ more\ coverage\ samples\ than\ requested.\ \ Cost:\ 2\ per\ sample}}
\DoxyCodeLine{00553\ \ \ \textcolor{comment}{//\ In\ case\ the\ special\ value\ of\ 1\ sample\ is\ requested,\ nothing\ gets\ deducted.}}
\DoxyCodeLine{00554\ }
\DoxyCodeLine{00555\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_coverage\_samples]\ !=\ 0\ \&\&}
\DoxyCodeLine{00556\ \ \ \ \ reqs.\_property[FBP\_coverage\_samples]\ !=\ 1\ \&\&}
\DoxyCodeLine{00557\ \ \ \ \ reqs.\_property[FBP\_coverage\_samples]\ <\ \_property[FBP\_coverage\_samples])\ \{}
\DoxyCodeLine{00558\ \ \ \ \ quality\ -\/=\ 2\ *\ \_property[FBP\_coverage\_samples];}
\DoxyCodeLine{00559\ \ \ \}}
\DoxyCodeLine{00560\ }
\DoxyCodeLine{00561\ \ \ \textcolor{comment}{//\ Deduct\ for\ unrequested\ bitplanes.\ \ Cost:\ 50}}
\DoxyCodeLine{00562\ }
\DoxyCodeLine{00563\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ prop\ =\ FBP\_depth\_bits;\ prop\ <=\ FBP\_accum\_bits;\ ++prop)\ \{}
\DoxyCodeLine{00564\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\_property[prop])\ \&\&\ (reqs.\_property[prop]\ ==\ 0))\ \{}
\DoxyCodeLine{00565\ \ \ \ \ \ \ quality\ -\/=\ 50;}
\DoxyCodeLine{00566\ \ \ \ \ \}}
\DoxyCodeLine{00567\ \ \ \}}
\DoxyCodeLine{00568\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ prop\ =\ FBP\_aux\_rgba;\ prop\ <=\ FBP\_aux\_float;\ ++prop)\ \{}
\DoxyCodeLine{00569\ \ \ \ \ \textcolor{keywordtype}{int}\ extra\ =\ \_property[prop]\ >\ reqs.\_property[prop];}
\DoxyCodeLine{00570\ \ \ \ \ \textcolor{keywordflow}{if}\ (extra\ >\ 0)\ \{}
\DoxyCodeLine{00571\ \ \ \ \ \ \ extra\ =\ std::min(extra,\ 3);}
\DoxyCodeLine{00572\ \ \ \ \ \ \ quality\ -\/=\ extra*50;}
\DoxyCodeLine{00573\ \ \ \ \ \}}
\DoxyCodeLine{00574\ \ \ \}}
\DoxyCodeLine{00575\ }
\DoxyCodeLine{00576\ \ \ \textcolor{comment}{//\ Deduct\ for\ excessive\ resolution\ in\ any\ bitplane\ (unless\ we\ asked\ for\ only}}
\DoxyCodeLine{00577\ \ \ \textcolor{comment}{//\ 1\ bit,\ which\ is\ the\ convention\ for\ any\ amount).}}
\DoxyCodeLine{00578\ }
\DoxyCodeLine{00579\ \ \ \textcolor{comment}{//\ Cost:\ 50}}
\DoxyCodeLine{00580\ }
\DoxyCodeLine{00581\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ prop\ =\ FBP\_depth\_bits;\ prop\ <=\ FBP\_accum\_bits;\ ++prop)\ \{}
\DoxyCodeLine{00582\ \ \ \ \ \textcolor{keywordflow}{if}\ (reqs.\_property[prop]\ >\ 1\ \&\&}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \_property[prop]\ >\ reqs.\_property[prop])\ \{}
\DoxyCodeLine{00584\ \ \ \ \ \ \ quality\ -\/=\ 50;}
\DoxyCodeLine{00585\ \ \ \ \ \}}
\DoxyCodeLine{00586\ \ \ \}}
\DoxyCodeLine{00587\ }
\DoxyCodeLine{00588\ \ \ \textcolor{comment}{//\ However,\ deduct\ for\ color\ bits\ above\ 24,\ if\ we\ are\ requesting\ only\ 1.}}
\DoxyCodeLine{00589\ \ \ \textcolor{comment}{//\ This\ is\ to\ prevent\ choosing\ a\ 64-\/bit\ color\ mode\ in\ NVIDIA\ cards\ that}}
\DoxyCodeLine{00590\ \ \ \textcolor{comment}{//\ is\ linear\ and\ therefore\ causes\ the\ gamma\ to\ be\ off\ in\ non-\/sRGB\ pipelines.}}
\DoxyCodeLine{00591\ \ \ \textcolor{keywordflow}{if}\ (reqs.\_property[FBP\_color\_bits]\ <=\ 3\ \&\&\ \_property[FBP\_color\_bits]\ >\ 24)\ \{}
\DoxyCodeLine{00592\ \ \ \ \ quality\ -\/=\ 100;}
\DoxyCodeLine{00593\ \ \ \}}
\DoxyCodeLine{00594\ }
\DoxyCodeLine{00595\ \ \ \textcolor{comment}{//\ Bonus\ for\ each\ multisample\ in\ case\ the\ special\ value\ of\ 1\ multisample}}
\DoxyCodeLine{00596\ \ \ \textcolor{comment}{//\ is\ requested.\ \ Extra:\ 2\ per\ sample.}}
\DoxyCodeLine{00597\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_multisamples]\ !=\ 0\ \&\&}
\DoxyCodeLine{00598\ \ \ \ \ \ \ reqs.\_property[FBP\_multisamples]\ ==\ 1)\ \{}
\DoxyCodeLine{00599\ \ \ \ \ quality\ +=\ 2\ *\ \_property[FBP\_multisamples];}
\DoxyCodeLine{00600\ \ \ \}}
\DoxyCodeLine{00601\ }
\DoxyCodeLine{00602\ \ \ \textcolor{comment}{//\ Bonus\ for\ each\ depth\ bit.\ \ Extra:\ 8\ per\ bit.}}
\DoxyCodeLine{00603\ \ \ \textcolor{comment}{//\ Please\ note\ that\ the\ Intel\ Windows\ driver\ only\ gives\ extra\ depth\ in}}
\DoxyCodeLine{00604\ \ \ \textcolor{comment}{//\ combination\ with\ a\ stencil\ buffer,\ so\ we\ need\ 8\ extra\ depth\ bits\ to}}
\DoxyCodeLine{00605\ \ \ \textcolor{comment}{//\ outweigh\ the\ penalty\ of\ 50\ for\ the\ unwanted\ stencil\ buffer,\ otherwise\ we}}
\DoxyCodeLine{00606\ \ \ \textcolor{comment}{//\ will\ end\ up\ only\ getting\ 16-\/bit\ depth.}}
\DoxyCodeLine{00607\ \ \ \textcolor{keywordflow}{if}\ (reqs.\_property[FBP\_depth\_bits]\ !=\ 0)\ \{}
\DoxyCodeLine{00608\ \ \ \ \ quality\ +=\ 8\ *\ \_property[FBP\_depth\_bits];}
\DoxyCodeLine{00609\ \ \ \}}
\DoxyCodeLine{00610\ }
\DoxyCodeLine{00611\ \ \ \textcolor{comment}{//\ Bonus\ for\ each\ coverage\ sample\ in\ case\ the\ special\ value\ of\ 1\ sample}}
\DoxyCodeLine{00612\ \ \ \textcolor{comment}{//\ is\ requested.\ \ Extra:\ 2\ per\ sample.}}
\DoxyCodeLine{00613\ \ \ \textcolor{keywordflow}{if}\ (\_property[FBP\_coverage\_samples]\ !=\ 0\ \&\&}
\DoxyCodeLine{00614\ \ \ \ \ reqs.\_property[FBP\_coverage\_samples]\ ==\ 1)\ \{}
\DoxyCodeLine{00615\ \ \ \ \ quality\ +=\ 2\ *\ \_property[FBP\_coverage\_samples];}
\DoxyCodeLine{00616\ \ \ \}}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00618\ \ \ \textcolor{comment}{//\ Bonus\ for\ each\ color,\ alpha,\ stencil,\ and\ accum.\ \ Extra:\ 1\ per\ bit.}}
\DoxyCodeLine{00619\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ prop=FBP\_color\_bits;\ prop<=FBP\_accum\_bits;\ prop++)\ \{}
\DoxyCodeLine{00620\ \ \ \ \ \textcolor{keywordflow}{if}\ (reqs.\_property[prop]\ !=\ 0)\ \{}
\DoxyCodeLine{00621\ \ \ \ \ \ \ quality\ +=\ \_property[prop];}
\DoxyCodeLine{00622\ \ \ \ \ \}}
\DoxyCodeLine{00623\ \ \ \}}
\DoxyCodeLine{00624\ }
\DoxyCodeLine{00625\ \ \ \textcolor{keywordflow}{return}\ quality;}
\DoxyCodeLine{00626\ \}}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00633\ \textcolor{keywordtype}{bool}\ FrameBufferProperties::}
\DoxyCodeLine{00634\ verify\_hardware\_software(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFrameBufferProperties}{FrameBufferProperties}}\ \&props,\ \textcolor{keyword}{const}\ std::string\ \&renderer)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00635\ }
\DoxyCodeLine{00636\ \ \ \textcolor{keywordflow}{if}\ (get\_force\_hardware()\ <\ props.get\_force\_hardware())\ \{}
\DoxyCodeLine{00637\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00638\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}The\ application\ requested\ hardware\ acceleration,\ but\ your\ OpenGL\(\backslash\)n"{}};}
\DoxyCodeLine{00639\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00640\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}driver,\ "{}}\ <<\ renderer\ <<\ \textcolor{stringliteral}{"{},\ only\ supports\ software\ rendering.\(\backslash\)n"{}};}
\DoxyCodeLine{00641\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00642\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}You\ need\ to\ install\ a\ hardware-\/accelerated\ OpenGL\ driver,\ or,\(\backslash\)n"{}};}
\DoxyCodeLine{00643\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00644\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}if\ you\ actually\ *want*\ to\ use\ a\ software\ renderer,\ then\(\backslash\)n"{}};}
\DoxyCodeLine{00645\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00646\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}alter\ the\ hardware/software\ configuration\ in\ your\ Config.prc\ file.\(\backslash\)n"{}};}
\DoxyCodeLine{00647\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00648\ \ \ \}}
\DoxyCodeLine{00649\ }
\DoxyCodeLine{00650\ \ \ \textcolor{keywordflow}{if}\ (get\_force\_software()\ <\ props.get\_force\_software())\ \{}
\DoxyCodeLine{00651\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00652\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}The\ application\ requested\ a\ software\ renderer,\ but\ your\ OpenGL\(\backslash\)n"{}};}
\DoxyCodeLine{00653\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00654\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}driver,\ "{}}\ <<\ renderer\ <<\ \textcolor{stringliteral}{"{},\ is\ probably\ hardware-\/accelerated.\(\backslash\)n"{}};}
\DoxyCodeLine{00655\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00656\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}If\ you\ want\ to\ allow\ hardware\ acceleration,\ then\ alter\ the\(\backslash\)n"{}};}
\DoxyCodeLine{00657\ \ \ \ \ display\_cat.error()}
\DoxyCodeLine{00658\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}hardware/software\ configuration\ in\ your\ Config.prc\ file.\(\backslash\)n"{}};}
\DoxyCodeLine{00659\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00660\ \ \ \}}
\DoxyCodeLine{00661\ }
\DoxyCodeLine{00662\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00663\ \}}
\DoxyCodeLine{00664\ }
\DoxyCodeLine{00673\ \textcolor{keywordtype}{bool}\ FrameBufferProperties::}
\DoxyCodeLine{00674\ setup\_color\_texture(\mbox{\hyperlink{classTexture}{Texture}}\ *tex)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00675\ \ \ \textcolor{comment}{//\ Note\ by\ rdb:\ I'm\ not\ entirely\ happy\ about\ this\ system.\ \ I'd\ eventually}}
\DoxyCodeLine{00676\ \ \ \textcolor{comment}{//\ like\ to\ move\ to\ a\ system\ in\ which\ framebuffer\ color\ formats\ and\ texture}}
\DoxyCodeLine{00677\ \ \ \textcolor{comment}{//\ formats\ are\ unified\ (like\ in\ Direct3D\ and\ OpenGL)\ and\ where\ a\ table\ such}}
\DoxyCodeLine{00678\ \ \ \textcolor{comment}{//\ as\ the\ below\ one\ would\ be\ generated\ dynamically\ by\ the\ GSG\ to\ reflect\ the}}
\DoxyCodeLine{00679\ \ \ \textcolor{comment}{//\ formats\ that\ are\ supported\ for\ render-\/to-\/texture.}}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ num\_formats\ =\ 17;}
\DoxyCodeLine{00682\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00683\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ color\_bits,\ red\_bits,\ green\_bits,\ blue\_bits,\ alpha\_bits;}
\DoxyCodeLine{00684\ \ \ \ \ \textcolor{keywordtype}{bool}\ has\_float;}
\DoxyCodeLine{00685\ \ \ \ \ Texture::Format\ format;}
\DoxyCodeLine{00686\ \ \ \}\ formats[num\_formats]\ =\ \{}
\DoxyCodeLine{00687\ \ \ \ \ \{\ \ 1,\ \ 1,\ \ 0,\ \ 0,\ \ 0,\ \textcolor{keyword}{false},\ Texture::F\_red\ \},}
\DoxyCodeLine{00688\ \ \ \ \ \{\ \ 1,\ \ 1,\ \ 1,\ \ 0,\ \ 0,\ \textcolor{keyword}{false},\ Texture::F\_rg\ \},}
\DoxyCodeLine{00689\ \ \ \ \ \{\ \ 1,\ \ 1,\ \ 1,\ \ 1,\ \ 0,\ \textcolor{keyword}{false},\ Texture::F\_rgb\ \},}
\DoxyCodeLine{00690\ \ \ \ \ \{\ \ 1,\ \ 1,\ \ 1,\ \ 1,\ \ 1,\ \textcolor{keyword}{false},\ Texture::F\_rgba\ \},}
\DoxyCodeLine{00691\ \ \ \ \ \{\ \ 8,\ \ 8,\ \ 0,\ \ 0,\ \ 0,\ \textcolor{keyword}{false},\ Texture::F\_red\ \},}
\DoxyCodeLine{00692\ \ \ \ \ \{\ 16,\ \ 8,\ \ 8,\ \ 0,\ \ 0,\ \textcolor{keyword}{false},\ Texture::F\_rg\ \},}
\DoxyCodeLine{00693\ \ \ \ \ \{\ 24,\ \ 8,\ \ 8,\ \ 8,\ \ 0,\ \textcolor{keyword}{false},\ Texture::F\_rgb8\ \},}
\DoxyCodeLine{00694\ \ \ \ \ \{\ 32,\ \ 8,\ \ 8,\ \ 8,\ \ 8,\ \textcolor{keyword}{false},\ Texture::F\_rgba8\ \},}
\DoxyCodeLine{00695\ \ \ \ \ \{\ 16,\ 16,\ \ 0,\ \ 0,\ \ 0,\ \ \textcolor{keyword}{true},\ Texture::F\_r16\ \},}
\DoxyCodeLine{00696\ \ \ \ \ \{\ 32,\ 16,\ 16,\ \ 0,\ \ 0,\ \ \textcolor{keyword}{true},\ Texture::F\_rg16\ \},}
\DoxyCodeLine{00697\ \ \ \ \ \{\ 32,\ 11,\ 11,\ 10,\ \ 0,\ \ \textcolor{keyword}{true},\ Texture::F\_r11\_g11\_b10\ \},}
\DoxyCodeLine{00698\ \ \ \ \ \{\ 48,\ 16,\ 16,\ 16,\ \ 0,\ \ \textcolor{keyword}{true},\ Texture::F\_rgb16\ \},}
\DoxyCodeLine{00699\ \ \ \ \ \{\ 48,\ 16,\ 16,\ 16,\ 16,\ \ \textcolor{keyword}{true},\ Texture::F\_rgba16\ \},}
\DoxyCodeLine{00700\ \ \ \ \ \{\ 32,\ 32,\ \ 0,\ \ 0,\ \ 0,\ \ \textcolor{keyword}{true},\ Texture::F\_r32\ \},}
\DoxyCodeLine{00701\ \ \ \ \ \{\ 64,\ 32,\ 32,\ \ 0,\ \ 0,\ \ \textcolor{keyword}{true},\ Texture::F\_rg32\ \},}
\DoxyCodeLine{00702\ \ \ \ \ \{\ 96,\ 32,\ 32,\ 32,\ \ 0,\ \ \textcolor{keyword}{true},\ Texture::F\_rgb32\ \},}
\DoxyCodeLine{00703\ \ \ \ \ \{\ 96,\ 32,\ 32,\ 32,\ 32,\ \ \textcolor{keyword}{true},\ Texture::F\_rgba32\ \},}
\DoxyCodeLine{00704\ \ \ \};}
\DoxyCodeLine{00705\ }
\DoxyCodeLine{00706\ \ \ \textcolor{keywordflow}{if}\ (get\_srgb\_color())\ \{}
\DoxyCodeLine{00707\ \ \ \ \ \textcolor{comment}{//\ These\ are\ the\ only\ sRGB\ formats.\ \ Deal\ with\ it.}}
\DoxyCodeLine{00708\ \ \ \ \ \textcolor{keywordflow}{if}\ (get\_alpha\_bits()\ ==\ 0)\ \{}
\DoxyCodeLine{00709\ \ \ \ \ \ \ tex-\/>set\_format(Texture::F\_srgb);}
\DoxyCodeLine{00710\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00711\ \ \ \ \ \ \ tex-\/>set\_format(Texture::F\_srgb\_alpha);}
\DoxyCodeLine{00712\ \ \ \ \ \}}
\DoxyCodeLine{00713\ }
\DoxyCodeLine{00714\ \ \ \ \ \textcolor{keywordflow}{return}\ (get\_color\_bits()\ <=\ 24\ \&\&}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \ \ \ \ get\_red\_bits()\ <=\ 8\ \&\&}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ \ \ \ \ get\_green\_bits()\ <=\ 8\ \&\&}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ \ \ \ \ get\_blue\_bits()\ <=\ 8\ \&\&}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \ \ \ \ get\_alpha\_bits()\ <=\ 8);}
\DoxyCodeLine{00719\ }
\DoxyCodeLine{00720\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00721\ \ \ \ \ \textcolor{keywordflow}{if}\ (get\_float\_color())\ \{}
\DoxyCodeLine{00722\ \ \ \ \ \ \ tex-\/>set\_component\_type(Texture::T\_float);}
\DoxyCodeLine{00723\ \ \ \ \ \}}
\DoxyCodeLine{00724\ }
\DoxyCodeLine{00725\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_formats;\ ++i)\ \{}
\DoxyCodeLine{00726\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (get\_color\_bits()\ <=\ (\textcolor{keywordtype}{int})formats[i].color\_bits\ \&\&}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \ \ \ \ get\_red\_bits()\ <=\ (\textcolor{keywordtype}{int})formats[i].red\_bits\ \&\&}
\DoxyCodeLine{00728\ \ \ \ \ \ \ \ \ \ \ get\_green\_bits()\ <=\ (\textcolor{keywordtype}{int})formats[i].green\_bits\ \&\&}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ \ \ get\_blue\_bits()\ <=\ (\textcolor{keywordtype}{int})formats[i].blue\_bits\ \&\&}
\DoxyCodeLine{00730\ \ \ \ \ \ \ \ \ \ \ get\_alpha\_bits()\ <=\ (\textcolor{keywordtype}{int})formats[i].alpha\_bits\ \&\&}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ \ \ get\_float\_color()\ <=\ formats[i].has\_float)\ \{}
\DoxyCodeLine{00732\ }
\DoxyCodeLine{00733\ \ \ \ \ \ \ \ \ tex-\/>set\_format(formats[i].format);}
\DoxyCodeLine{00734\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00735\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00736\ \ \ \ \ \}}
\DoxyCodeLine{00737\ }
\DoxyCodeLine{00738\ \ \ \ \ \textcolor{comment}{//\ Can't\ get\ requested\ bits.\ \ Choose\ a\ generic\ format\ and\ return.}}
\DoxyCodeLine{00739\ \ \ \ \ tex-\/>set\_format((get\_alpha\_bits()\ ==\ 0)\ ?\ Texture::F\_rgb\ :\ \mbox{\hyperlink{classTexture}{Texture}}::F\_rgba);}
\DoxyCodeLine{00740\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00741\ \ \ \}}
\DoxyCodeLine{00742\ \}}
\DoxyCodeLine{00743\ }
\DoxyCodeLine{00752\ \textcolor{keywordtype}{bool}\ FrameBufferProperties::}
\DoxyCodeLine{00753\ setup\_depth\_texture(\mbox{\hyperlink{classTexture}{Texture}}\ *tex)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00754\ \ \ \textcolor{keywordflow}{if}\ (get\_float\_depth())\ \{}
\DoxyCodeLine{00755\ \ \ \ \ tex-\/>set\_component\_type(Texture::T\_float);}
\DoxyCodeLine{00756\ \ \ \ \ tex-\/>set\_format(Texture::F\_depth\_component32);}
\DoxyCodeLine{00757\ \ \ \ \ \textcolor{keywordflow}{return}\ (get\_depth\_bits()\ <=\ 32);}
\DoxyCodeLine{00758\ }
\DoxyCodeLine{00759\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (get\_depth\_bits()\ <=\ 1)\ \{}
\DoxyCodeLine{00760\ \ \ \ \ tex-\/>set\_format(Texture::F\_depth\_component);}
\DoxyCodeLine{00761\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00762\ }
\DoxyCodeLine{00763\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (get\_depth\_bits()\ <=\ 16)\ \{}
\DoxyCodeLine{00764\ \ \ \ \ tex-\/>set\_format(Texture::F\_depth\_component16);}
\DoxyCodeLine{00765\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00766\ }
\DoxyCodeLine{00767\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (get\_depth\_bits()\ <=\ 24)\ \{}
\DoxyCodeLine{00768\ \ \ \ \ tex-\/>set\_format(Texture::F\_depth\_component24);}
\DoxyCodeLine{00769\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (get\_depth\_bits()\ <=\ 32)\ \{}
\DoxyCodeLine{00772\ \ \ \ \ tex-\/>set\_format(Texture::F\_depth\_component32);}
\DoxyCodeLine{00773\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00774\ \ \ \}}
\DoxyCodeLine{00775\ }
\DoxyCodeLine{00776\ \ \ tex-\/>set\_format(Texture::F\_depth\_component);}
\DoxyCodeLine{00777\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00778\ \}}

\end{DoxyCode}
