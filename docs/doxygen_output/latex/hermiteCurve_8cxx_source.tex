\doxysection{hermite\+Curve.\+cxx}
\hypertarget{hermiteCurve_8cxx_source}{}\label{hermiteCurve_8cxx_source}\index{panda/src/parametrics/hermiteCurve.cxx@{panda/src/parametrics/hermiteCurve.cxx}}
\mbox{\hyperlink{hermiteCurve_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandabase_8h}{pandabase.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{hermiteCurve_8h}{hermiteCurve.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__parametrics_8h}{config\_parametrics.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{luse_8h}{luse.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{indent_8h}{indent.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagram_8h}{datagram.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagramIterator_8h}{datagramIterator.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamWriter_8h}{bamWriter.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamReader_8h}{bamReader.h}}"{}}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{math_8h}{math.h}}>}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{using\ }std::ostream;}
\DoxyCodeLine{00028\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ HermiteCurve::\_type\_handle;}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ LVecBase3\ zerovec\_3\ =\ LVecBase3(0.0f,\ 0.0f,\ 0.0f);}
\DoxyCodeLine{00033\ \textcolor{comment}{//\ This\ is\ returned\ occasionally\ from\ some\ of\ the\ functions,\ and\ is\ used\ from}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ time\ to\ time\ as\ an\ initializer.}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{static}\ ostream\ \&}
\DoxyCodeLine{00042\ show\_vec3(ostream\ \&out,\ \textcolor{keywordtype}{int}\ indent\_level,\ \textcolor{keyword}{const}\ LVecBase3\ \&v,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ num\_dimensions)\ \{}
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ v[0];}
\DoxyCodeLine{00045\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 1;\ i<num\_dimensions;\ i++)\ \{}
\DoxyCodeLine{00046\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ v[i];}
\DoxyCodeLine{00047\ \ \ \}}
\DoxyCodeLine{00048\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{00049\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00054\ HermiteCurveCV::}
\DoxyCodeLine{00055\ HermiteCurveCV()\ \{}
\DoxyCodeLine{00056\ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00062\ HermiteCurveCV::}
\DoxyCodeLine{00063\ HermiteCurveCV(\textcolor{keyword}{const}\ \mbox{\hyperlink{classHermiteCurveCV}{HermiteCurveCV}}\ \&c)\ :}
\DoxyCodeLine{00064\ \ \ \_p(c.\_p),\ \_in(c.\_in),\ \_out(c.\_out),}
\DoxyCodeLine{00065\ \ \ \_type(c.\_type),\ \_name(c.\_name)}
\DoxyCodeLine{00066\ \{}
\DoxyCodeLine{00067\ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00073\ HermiteCurveCV::}
\DoxyCodeLine{00074\ \string~HermiteCurveCV()\ \{}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00082\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurveCV_a29a25963c1926e37643698fe444ff7ea}{HermiteCurveCV::}}}
\DoxyCodeLine{00083\ \mbox{\hyperlink{classHermiteCurveCV_a29a25963c1926e37643698fe444ff7ea}{set\_in}}(\textcolor{keyword}{const}\ LVecBase3\ \&in)\ \{}
\DoxyCodeLine{00084\ \ \ \_in\ =\ in;}
\DoxyCodeLine{00085\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00086\ \textcolor{comment}{\ \ PN\_stdfloat\ l;}}
\DoxyCodeLine{00087\ \textcolor{comment}{\ \ switch\ (\_type)\ \{}}
\DoxyCodeLine{00088\ \textcolor{comment}{\ \ case\ HC\_G1:}}
\DoxyCodeLine{00089\ \textcolor{comment}{\ \ \ \ l\ =\ \_in.length();}}
\DoxyCodeLine{00090\ \textcolor{comment}{\ \ \ \ if\ (l!=0.0f)\ \{}}
\DoxyCodeLine{00091\ \textcolor{comment}{\ \ \ \ \ \ \_out\ =\ \_in\ *\ \_out.length()\ /\ l;}}
\DoxyCodeLine{00092\ \textcolor{comment}{\ \ \ \ \}}}
\DoxyCodeLine{00093\ \textcolor{comment}{\ \ \ \ break;}}
\DoxyCodeLine{00094\ \textcolor{comment}{}}
\DoxyCodeLine{00095\ \textcolor{comment}{\ \ case\ HC\_SMOOTH:}}
\DoxyCodeLine{00096\ \textcolor{comment}{\ \ \ \ \_out\ =\ \_in;}}
\DoxyCodeLine{00097\ \textcolor{comment}{\ \ \ \ break;}}
\DoxyCodeLine{00098\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00099\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00100\ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00106\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurveCV_a9e019f0675b673a3ab5f65d7187b5a61}{HermiteCurveCV::}}}
\DoxyCodeLine{00107\ \mbox{\hyperlink{classHermiteCurveCV_a9e019f0675b673a3ab5f65d7187b5a61}{set\_out}}(\textcolor{keyword}{const}\ LVecBase3\ \&out)\ \{}
\DoxyCodeLine{00108\ \ \ \_out\ =\ out;}
\DoxyCodeLine{00109\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00110\ \textcolor{comment}{\ \ PN\_stdfloat\ l;}}
\DoxyCodeLine{00111\ \textcolor{comment}{\ \ switch\ (\_type)\ \{}}
\DoxyCodeLine{00112\ \textcolor{comment}{\ \ case\ HC\_G1:}}
\DoxyCodeLine{00113\ \textcolor{comment}{\ \ \ \ l\ =\ \_out.length();}}
\DoxyCodeLine{00114\ \textcolor{comment}{\ \ \ \ if\ (l!=0.0f)\ \{}}
\DoxyCodeLine{00115\ \textcolor{comment}{\ \ \ \ \ \ \_in\ =\ \_out\ *\ \_in.length()\ /\ l;}}
\DoxyCodeLine{00116\ \textcolor{comment}{\ \ \ \ \}}}
\DoxyCodeLine{00117\ \textcolor{comment}{\ \ \ \ break;}}
\DoxyCodeLine{00118\ \textcolor{comment}{}}
\DoxyCodeLine{00119\ \textcolor{comment}{\ \ case\ HC\_SMOOTH:}}
\DoxyCodeLine{00120\ \textcolor{comment}{\ \ \ \ \_in\ =\ \_out;}}
\DoxyCodeLine{00121\ \textcolor{comment}{\ \ \ \ break;}}
\DoxyCodeLine{00122\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00123\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00124\ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00135\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurveCV_a2b7d9e4e23b5e87ff6f1b722f7450386}{HermiteCurveCV::}}}
\DoxyCodeLine{00136\ \mbox{\hyperlink{classHermiteCurveCV_a2b7d9e4e23b5e87ff6f1b722f7450386}{set\_type}}(\textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{00137\ \ \ \_type\ =\ type;}
\DoxyCodeLine{00138\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00139\ \textcolor{comment}{\ \ switch\ (\_type)\ \{}}
\DoxyCodeLine{00140\ \textcolor{comment}{\ \ case\ HC\_G1:}}
\DoxyCodeLine{00141\ \textcolor{comment}{\ \ \ \ \_out\ =\ \_out.length()\ *\ \_in;}}
\DoxyCodeLine{00142\ \textcolor{comment}{\ \ \ \ break;}}
\DoxyCodeLine{00143\ \textcolor{comment}{}}
\DoxyCodeLine{00144\ \textcolor{comment}{\ \ case\ HC\_SMOOTH:}}
\DoxyCodeLine{00145\ \textcolor{comment}{\ \ \ \ \_out\ =\ \_in;}}
\DoxyCodeLine{00146\ \textcolor{comment}{\ \ \ \ break;}}
\DoxyCodeLine{00147\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{00148\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00149\ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00156\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurveCV_afc5cc41b503fd95084f58d35bf113d2e}{HermiteCurveCV::}}}
\DoxyCodeLine{00157\ \mbox{\hyperlink{classHermiteCurveCV_afc5cc41b503fd95084f58d35bf113d2e}{set\_name}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name)\ \{}
\DoxyCodeLine{00158\ \ \ \_name\ =\ name;}
\DoxyCodeLine{00159\ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00165\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurveCV_a554da94d483deadf0179c65680627837}{HermiteCurveCV::}}}
\DoxyCodeLine{00166\ \mbox{\hyperlink{classHermiteCurveCV_a554da94d483deadf0179c65680627837}{format\_egg}}(ostream\ \&out,\ \textcolor{keywordtype}{int}\ indent\_level,\ \textcolor{keywordtype}{int}\ num\_dimensions,}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ show\_in,\ \textcolor{keywordtype}{bool}\ show\_out,}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ PN\_stdfloat\ scale\_in,\ PN\_stdfloat\ scale\_out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00169\ \ \ \textcolor{keywordflow}{if}\ (show\_in)\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ \textcolor{stringliteral}{"{}<Vertex>\ \{\(\backslash\)n"{}};}
\DoxyCodeLine{00171\ \ \ \ \ show\_vec3(out,\ indent\_level\ +\ 2,\ \_p\ -\/\ scale\_in\ *\ \_in\ /\ 3.0,}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_dimensions)\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00173\ \ \ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}};}
\DoxyCodeLine{00174\ \ \ \}}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ \textcolor{stringliteral}{"{}<Vertex>\ \{\(\backslash\)n"{}};}
\DoxyCodeLine{00177\ \ \ show\_vec3(out,\ indent\_level\ +\ 2,\ \_p,\ num\_dimensions)\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level+2)\ <<\ \textcolor{stringliteral}{"{}<Scalar>\ continuity-\/type\ \{\ "{}};}
\DoxyCodeLine{00180\ \ \ \textcolor{keywordflow}{switch}\ (\_type)\ \{}
\DoxyCodeLine{00181\ \ \ \textcolor{keywordflow}{case}\ HC\_CUT:}
\DoxyCodeLine{00182\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}Cut"{}};}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \textcolor{keywordflow}{case}\ HC\_FREE:}
\DoxyCodeLine{00186\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}Free"{}};}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \textcolor{keywordflow}{case}\ HC\_G1:}
\DoxyCodeLine{00190\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}G1"{}};}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \ \ \textcolor{keywordflow}{case}\ HC\_SMOOTH:}
\DoxyCodeLine{00194\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}Smooth"{}};}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00196\ \ \ \};}
\DoxyCodeLine{00197\ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ \}\(\backslash\)n"{}};}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}};}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \textcolor{keywordflow}{if}\ (show\_out)\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ \textcolor{stringliteral}{"{}<Vertex>\ \{\(\backslash\)n"{}};}
\DoxyCodeLine{00203\ \ \ \ \ show\_vec3(out,\ indent\_level\ +\ 2,\ \_p\ +\ scale\_out\ *\ \_out\ /\ 3.0,}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ num\_dimensions)\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}};}
\DoxyCodeLine{00206\ \ \ \}}
\DoxyCodeLine{00207\ \}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00213\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurveCV_a0bf780d0926857fe1aac8e20eaddf032}{HermiteCurveCV::}}}
\DoxyCodeLine{00214\ \mbox{\hyperlink{classHermiteCurveCV_a0bf780d0926857fe1aac8e20eaddf032}{write\_datagram}}(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&me)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00215\ \ \ \_p.write\_datagram(me);}
\DoxyCodeLine{00216\ \ \ \_in.write\_datagram(me);}
\DoxyCodeLine{00217\ \ \ \_out.write\_datagram(me);}
\DoxyCodeLine{00218\ \ \ me.add\_int8(\_type);}
\DoxyCodeLine{00219\ \ \ me.add\_string(\_name);}
\DoxyCodeLine{00220\ \}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00227\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurveCV_a66bd4766f06305ef89713b2da486da12}{HermiteCurveCV::}}}
\DoxyCodeLine{00228\ \mbox{\hyperlink{classHermiteCurveCV_a66bd4766f06305ef89713b2da486da12}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *)\ \{}
\DoxyCodeLine{00229\ \ \ \_p.read\_datagram(scan);}
\DoxyCodeLine{00230\ \ \ \_in.read\_datagram(scan);}
\DoxyCodeLine{00231\ \ \ \_out.read\_datagram(scan);}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ \_type\ =\ scan.get\_int8();}
\DoxyCodeLine{00234\ \ \ \_name\ =\ scan.\mbox{\hyperlink{classDatagramIterator_aa5b2810c1b772f83e744fed70bb313ea}{get\_string}}();}
\DoxyCodeLine{00235\ \}}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00240\ HermiteCurve::}
\DoxyCodeLine{00241\ HermiteCurve()\ \{}
\DoxyCodeLine{00242\ \}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00247\ HermiteCurve::}
\DoxyCodeLine{00248\ HermiteCurve(\textcolor{keyword}{const}\ \mbox{\hyperlink{classParametricCurve}{ParametricCurve}}\ \&nc)\ \{}
\DoxyCodeLine{00249\ \ \ \textcolor{keywordflow}{if}\ (!nc.\mbox{\hyperlink{classParametricCurve_ad29874c5e7501e1d01cbc0d0ade9e71d}{convert\_to\_hermite}}(\textcolor{keyword}{this}))\ \{}
\DoxyCodeLine{00250\ \ \ \ \ parametrics\_cat-\/>warning()}
\DoxyCodeLine{00251\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Cannot\ make\ a\ Hermite\ from\ the\ indicated\ curve."{}}}
\DoxyCodeLine{00252\ \ \ \ \ \ \ <<\ std::endl;}
\DoxyCodeLine{00253\ \ \ \}}
\DoxyCodeLine{00254\ \}}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00260\ HermiteCurve::}
\DoxyCodeLine{00261\ \string~HermiteCurve()\ \{}
\DoxyCodeLine{00262\ \}}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00272\ \textcolor{keywordtype}{int}\ HermiteCurve::}
\DoxyCodeLine{00273\ get\_num\_cvs()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00274\ \ \ \textcolor{keywordflow}{return}\ \_points.size();}
\DoxyCodeLine{00275\ \}}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00289\ \textcolor{keywordtype}{int}\ HermiteCurve::}
\DoxyCodeLine{00290\ insert\_cv(PN\_stdfloat\ t)\ \{}
\DoxyCodeLine{00291\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classPiecewiseCurve_a512ddf84e4693032262e79c825a6aa53}{is\_valid}}()\ ||\ t\ >=\ \mbox{\hyperlink{classPiecewiseCurve_a954382fd918abed1e826002e1a852688}{get\_max\_t}}())\ \{}
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{keywordtype}{int}\ n\ =\ append\_cv(HC\_SMOOTH,\ 0.0f,\ 0.0f,\ 0.0f);}
\DoxyCodeLine{00293\ \ \ \ \ set\_cv\_tstart(n,\ t);}
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{keywordflow}{return}\ n;}
\DoxyCodeLine{00295\ \ \ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ t\ =\ std::min(std::max(t,\ (PN\_stdfloat)0.0),\ \mbox{\hyperlink{classPiecewiseCurve_a954382fd918abed1e826002e1a852688}{get\_max\_t}}());}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \textcolor{keywordtype}{int}\ n\ =\ \mbox{\hyperlink{classHermiteCurve_a758f94074c8458cfde177c4b966f467d}{find\_cv}}(t);}
\DoxyCodeLine{00300\ \ \ nassertr(n+1<get\_num\_cvs(),\ 0);}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ \mbox{\hyperlink{classHermiteCurveCV}{HermiteCurveCV}}\ cv;}
\DoxyCodeLine{00303\ \ \ LVecBase3\ tan;}
\DoxyCodeLine{00304\ \ \ cv.\_type\ =\ HC\_SMOOTH;}
\DoxyCodeLine{00305\ \ \ \mbox{\hyperlink{classPiecewiseCurve_acda8c1d4bdb4c7d4c4e3bfd0086bf8db}{get\_pt}}(t,\ cv.\_p,\ tan);}
\DoxyCodeLine{00306\ \ \ cv.\_out\ =\ cv.\_in\ =\ tan\ *\ 0.5f;}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \ \ \_points.insert(\_points.begin()\ +\ n\ +\ 1,\ cv);}
\DoxyCodeLine{00309\ \ \ \textcolor{keywordtype}{bool}\ result\ =}
\DoxyCodeLine{00310\ \ \ \ \ \mbox{\hyperlink{classPiecewiseCurve_a48baebb91ee706378a45a3dd07b15aa7}{insert\_curveseg}}(n,\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classCubicCurveseg}{CubicCurveseg}},\ t\ -\/\ get\_cv\_tstart(n));}
\DoxyCodeLine{00311\ \ \ nassertr(result,\ 0);}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \mbox{\hyperlink{classHermiteCurve_a4e640ad3ae36d213639f50b4205dd624}{recompute\_basis}}();}
\DoxyCodeLine{00314\ \ \ \mbox{\hyperlink{classParametricCurve_ab30299891aa1c8856b7dfd1da204fd9b}{invalidate\_all}}();}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \ \ \textcolor{keywordflow}{return}\ n\ +\ 1;}
\DoxyCodeLine{00317\ \}}
\DoxyCodeLine{00318\ }
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00324\ \textcolor{keywordtype}{int}\ HermiteCurve::}
\DoxyCodeLine{00325\ append\_cv(\textcolor{keywordtype}{int}\ type,\ PN\_stdfloat\ x,\ PN\_stdfloat\ y,\ PN\_stdfloat\ z)\ \{}
\DoxyCodeLine{00326\ \ \ \mbox{\hyperlink{classHermiteCurveCV}{HermiteCurveCV}}\ cv;}
\DoxyCodeLine{00327\ \ \ cv.\mbox{\hyperlink{classHermiteCurveCV_a2b7d9e4e23b5e87ff6f1b722f7450386}{set\_type}}(type);}
\DoxyCodeLine{00328\ \ \ cv.set\_point(LVecBase3(x,\ y,\ z));}
\DoxyCodeLine{00329\ \ \ cv.\mbox{\hyperlink{classHermiteCurveCV_a29a25963c1926e37643698fe444ff7ea}{set\_in}}(zerovec\_3);}
\DoxyCodeLine{00330\ \ \ cv.\mbox{\hyperlink{classHermiteCurveCV_a9e019f0675b673a3ab5f65d7187b5a61}{set\_out}}(zerovec\_3);}
\DoxyCodeLine{00331\ \ \ \_points.push\_back(cv);}
\DoxyCodeLine{00332\ \ \ \textcolor{keywordflow}{if}\ (\_points.size()>1)\ \{}
\DoxyCodeLine{00333\ \ \ \ \ \textcolor{keywordtype}{bool}\ result\ =}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \mbox{\hyperlink{classPiecewiseCurve_a48baebb91ee706378a45a3dd07b15aa7}{insert\_curveseg}}(\_segs.size(),\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classCubicCurveseg}{CubicCurveseg}},\ 1.0f);}
\DoxyCodeLine{00335\ \ \ \ \ nassertr(result,\ 0);}
\DoxyCodeLine{00336\ \ \ \}}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \mbox{\hyperlink{classHermiteCurve_a4e640ad3ae36d213639f50b4205dd624}{recompute\_basis}}();}
\DoxyCodeLine{00339\ \ \ \mbox{\hyperlink{classParametricCurve_ab30299891aa1c8856b7dfd1da204fd9b}{invalidate\_all}}();}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ \textcolor{keywordflow}{return}\ \_points.size()-\/1;}
\DoxyCodeLine{00342\ \}}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ }
\DoxyCodeLine{00349\ \textcolor{keywordtype}{bool}\ HermiteCurve::}
\DoxyCodeLine{00350\ remove\_cv(\textcolor{keywordtype}{int}\ n)\ \{}
\DoxyCodeLine{00351\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00352\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00353\ \ \ \}}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00355\ \ \ \_points.erase(\_points.begin()\ +\ n);}
\DoxyCodeLine{00356\ \ \ \textcolor{keywordflow}{if}\ (\_segs.size()>0)\ \{}
\DoxyCodeLine{00357\ \ \ \ \ \mbox{\hyperlink{classPiecewiseCurve_ab67e3e94dbe13f57327280c475b76374}{remove\_curveseg}}(\_segs.size()-\/1);}
\DoxyCodeLine{00358\ \ \ \}}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ \mbox{\hyperlink{classHermiteCurve_a4e640ad3ae36d213639f50b4205dd624}{recompute\_basis}}();}
\DoxyCodeLine{00361\ \ \ \mbox{\hyperlink{classParametricCurve_ab30299891aa1c8856b7dfd1da204fd9b}{invalidate\_all}}();}
\DoxyCodeLine{00362\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00363\ \}}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00369\ \textcolor{keywordtype}{void}\ HermiteCurve::}
\DoxyCodeLine{00370\ remove\_all\_cvs()\ \{}
\DoxyCodeLine{00371\ \ \ \_points.erase(\_points.begin(),\ \_points.end());}
\DoxyCodeLine{00372\ \ \ \mbox{\hyperlink{classPiecewiseCurve_a2285addec97b2b502823c468746a1bcf}{remove\_all\_curvesegs}}();}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ \ \ \mbox{\hyperlink{classParametricCurve_ab30299891aa1c8856b7dfd1da204fd9b}{invalidate\_all}}();}
\DoxyCodeLine{00375\ \}}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ }
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00392\ \textcolor{keywordtype}{bool}\ HermiteCurve::}
\DoxyCodeLine{00393\ set\_cv\_type(\textcolor{keywordtype}{int}\ n,\ \textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{00394\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00395\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00396\ \ \ \}}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \textcolor{keywordtype}{bool}\ changed\_cut\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ \ \ \textcolor{keywordflow}{if}\ (type!=\_points[n].\_type)\ \{}
\DoxyCodeLine{00401\ \ \ \ \ changed\_cut\ =\ (type==HC\_CUT\ ||\ \_points[n].\_type==HC\_CUT);}
\DoxyCodeLine{00402\ \ \ \ \ \_points[n].set\_type(type);}
\DoxyCodeLine{00403\ \ \ \}}
\DoxyCodeLine{00404\ }
\DoxyCodeLine{00405\ \ \ \mbox{\hyperlink{classHermiteCurve_ac9dc91edd83ee489f6011e788088c5e2}{invalidate\_cv}}(n,\ changed\_cut);}
\DoxyCodeLine{00406\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00407\ \}}
\DoxyCodeLine{00408\ }
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00413\ \textcolor{keywordtype}{bool}\ HermiteCurve::}
\DoxyCodeLine{00414\ set\_cv\_point(\textcolor{keywordtype}{int}\ n,\ PN\_stdfloat\ x,\ PN\_stdfloat\ y,\ PN\_stdfloat\ z)\ \{}
\DoxyCodeLine{00415\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00416\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00417\ \ \ \}}
\DoxyCodeLine{00418\ \ \ \_points[n].set\_point(LVecBase3(x,\ y,\ z));}
\DoxyCodeLine{00419\ \ \ \mbox{\hyperlink{classHermiteCurve_ac9dc91edd83ee489f6011e788088c5e2}{invalidate\_cv}}(n,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00420\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00421\ \}}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00427\ \textcolor{keywordtype}{bool}\ HermiteCurve::}
\DoxyCodeLine{00428\ set\_cv\_in(\textcolor{keywordtype}{int}\ n,\ PN\_stdfloat\ x,\ PN\_stdfloat\ y,\ PN\_stdfloat\ z)\ \{}
\DoxyCodeLine{00429\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00431\ \ \ \}}
\DoxyCodeLine{00432\ \ \ \_points[n].set\_in(LVecBase3(x,\ y,\ z));}
\DoxyCodeLine{00433\ \ \ \mbox{\hyperlink{classHermiteCurve_ac9dc91edd83ee489f6011e788088c5e2}{invalidate\_cv}}(n,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00434\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00435\ \}}
\DoxyCodeLine{00436\ }
\DoxyCodeLine{00441\ \textcolor{keywordtype}{bool}\ HermiteCurve::}
\DoxyCodeLine{00442\ set\_cv\_out(\textcolor{keywordtype}{int}\ n,\ PN\_stdfloat\ x,\ PN\_stdfloat\ y,\ PN\_stdfloat\ z)\ \{}
\DoxyCodeLine{00443\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00445\ \ \ \}}
\DoxyCodeLine{00446\ \ \ \_points[n].set\_out(LVecBase3(x,\ y,\ z));}
\DoxyCodeLine{00447\ \ \ \mbox{\hyperlink{classHermiteCurve_ac9dc91edd83ee489f6011e788088c5e2}{invalidate\_cv}}(n,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00448\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00449\ \}}
\DoxyCodeLine{00450\ }
\DoxyCodeLine{00455\ \textcolor{keywordtype}{bool}\ HermiteCurve::}
\DoxyCodeLine{00456\ set\_cv\_tstart(\textcolor{keywordtype}{int}\ n,\ PN\_stdfloat\ tstart)\ \{}
\DoxyCodeLine{00457\ \ \ \textcolor{keywordflow}{if}\ (n\ <=\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00458\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00459\ \ \ \}}
\DoxyCodeLine{00460\ \ \ \textcolor{keywordflow}{if}\ (fabs(tstart\ -\/\ get\_cv\_tstart(n))\ >\ 0.0001f)\ \{}
\DoxyCodeLine{00461\ \ \ \ \ \mbox{\hyperlink{classPiecewiseCurve_a89f4448cf0484743ca8358ce88bf5aa7}{set\_tlength}}(n-\/1,\ tstart\ -\/\ \mbox{\hyperlink{classPiecewiseCurve_ab7cdf50dd96e3023a8e898a415050d83}{get\_tstart}}(n-\/1));}
\DoxyCodeLine{00462\ \ \ \ \ \mbox{\hyperlink{classHermiteCurve_a4e640ad3ae36d213639f50b4205dd624}{recompute\_basis}}();}
\DoxyCodeLine{00463\ \ \ \ \ \mbox{\hyperlink{classParametricCurve_ab30299891aa1c8856b7dfd1da204fd9b}{invalidate\_all}}();}
\DoxyCodeLine{00464\ \ \ \}}
\DoxyCodeLine{00465\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00466\ \}}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ }
\DoxyCodeLine{00472\ \textcolor{keywordtype}{bool}\ HermiteCurve::}
\DoxyCodeLine{00473\ set\_cv\_name(\textcolor{keywordtype}{int}\ n,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name)\ \{}
\DoxyCodeLine{00474\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00475\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00476\ \ \ \}}
\DoxyCodeLine{00477\ \ \ \_points[n].set\_name(name);}
\DoxyCodeLine{00478\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00479\ \}}
\DoxyCodeLine{00480\ }
\DoxyCodeLine{00481\ }
\DoxyCodeLine{00482\ }
\DoxyCodeLine{00487\ \textcolor{keywordtype}{int}\ HermiteCurve::}
\DoxyCodeLine{00488\ get\_cv\_type(\textcolor{keywordtype}{int}\ n)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00489\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00490\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00491\ \ \ \}}
\DoxyCodeLine{00492\ }
\DoxyCodeLine{00493\ \ \ \textcolor{keywordflow}{return}\ \_points[n].\_type;}
\DoxyCodeLine{00494\ \}}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ }
\DoxyCodeLine{00500\ \textcolor{keyword}{const}\ LVecBase3\ \&HermiteCurve::}
\DoxyCodeLine{00501\ get\_cv\_point(\textcolor{keywordtype}{int}\ n)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00502\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00503\ \ \ \ \ \textcolor{keywordflow}{return}\ zerovec\_3;}
\DoxyCodeLine{00504\ \ \ \}}
\DoxyCodeLine{00505\ }
\DoxyCodeLine{00506\ \ \ \textcolor{keywordflow}{return}\ \_points[n].\_p;}
\DoxyCodeLine{00507\ \}}
\DoxyCodeLine{00508\ \textcolor{keywordtype}{void}\ HermiteCurve::}
\DoxyCodeLine{00509\ get\_cv\_point(\textcolor{keywordtype}{int}\ n,\ LVecBase3\ \&v)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00510\ \ \ v\ =\ get\_cv\_point(n);}
\DoxyCodeLine{00511\ \}}
\DoxyCodeLine{00512\ }
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00517\ \textcolor{keyword}{const}\ LVecBase3\ \&HermiteCurve::}
\DoxyCodeLine{00518\ get\_cv\_in(\textcolor{keywordtype}{int}\ n)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00519\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size()\ ||\ \_points[n-\/1].\_type==HC\_CUT)\ \{}
\DoxyCodeLine{00520\ \ \ \ \ \textcolor{keywordflow}{return}\ zerovec\_3;}
\DoxyCodeLine{00521\ \ \ \}}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \ \ \textcolor{keywordflow}{return}\ \_points[n].\_in;}
\DoxyCodeLine{00524\ \}}
\DoxyCodeLine{00525\ \textcolor{keywordtype}{void}\ HermiteCurve::}
\DoxyCodeLine{00526\ get\_cv\_in(\textcolor{keywordtype}{int}\ n,\ LVecBase3\ \&v)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00527\ \ \ v\ =\ get\_cv\_in(n);}
\DoxyCodeLine{00528\ \}}
\DoxyCodeLine{00529\ }
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00534\ \textcolor{keyword}{const}\ LVecBase3\ \&HermiteCurve::}
\DoxyCodeLine{00535\ get\_cv\_out(\textcolor{keywordtype}{int}\ n)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00536\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size()\ ||\ \_points[n].\_type==HC\_CUT)\ \{}
\DoxyCodeLine{00537\ \ \ \ \ \textcolor{keywordflow}{return}\ zerovec\_3;}
\DoxyCodeLine{00538\ \ \ \}}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00540\ \ \ \textcolor{keywordflow}{return}\ \_points[n].\_out;}
\DoxyCodeLine{00541\ \}}
\DoxyCodeLine{00542\ \textcolor{keywordtype}{void}\ HermiteCurve::}
\DoxyCodeLine{00543\ get\_cv\_out(\textcolor{keywordtype}{int}\ n,\ LVecBase3\ \&v)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00544\ \ \ v\ =\ get\_cv\_out(n);}
\DoxyCodeLine{00545\ \}}
\DoxyCodeLine{00546\ }
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00551\ PN\_stdfloat\ HermiteCurve::}
\DoxyCodeLine{00552\ get\_cv\_tstart(\textcolor{keywordtype}{int}\ n)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00553\ \ \ \textcolor{keywordflow}{if}\ (n<0)\ \{}
\DoxyCodeLine{00554\ \ \ \ \ \textcolor{keywordflow}{return}\ 0.0f;}
\DoxyCodeLine{00555\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00556\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classPiecewiseCurve_a954382fd918abed1e826002e1a852688}{get\_max\_t}}();}
\DoxyCodeLine{00557\ \ \ \}}
\DoxyCodeLine{00558\ }
\DoxyCodeLine{00559\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classPiecewiseCurve_ab7cdf50dd96e3023a8e898a415050d83}{get\_tstart}}(n);}
\DoxyCodeLine{00560\ \}}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00565\ \textcolor{keywordtype}{string}\ HermiteCurve::}
\DoxyCodeLine{00566\ get\_cv\_name(\textcolor{keywordtype}{int}\ n)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00567\ \ \ \textcolor{keywordflow}{if}\ (n\ <\ 0\ ||\ n\ >=\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00568\ \ \ \ \ \textcolor{keywordflow}{return}\ string();}
\DoxyCodeLine{00569\ \ \ \}}
\DoxyCodeLine{00570\ }
\DoxyCodeLine{00571\ \ \ \textcolor{keywordflow}{return}\ \_points[n].\_name;}
\DoxyCodeLine{00572\ \}}
\DoxyCodeLine{00573\ }
\DoxyCodeLine{00574\ }
\DoxyCodeLine{00578\ \textcolor{keywordtype}{void}\ HermiteCurve::}
\DoxyCodeLine{00579\ output(ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00580\ \ \ PiecewiseCurve::output(out);}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00582\ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ ("{}};}
\DoxyCodeLine{00583\ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{classParametricCurve_a1f3ab1411cc580dd339982d110591b13}{get\_curve\_type}}())\ \{}
\DoxyCodeLine{00584\ \ \ \textcolor{keywordflow}{case}\ PCT\_T:}
\DoxyCodeLine{00585\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}in\ T,\ "{}};}
\DoxyCodeLine{00586\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00587\ }
\DoxyCodeLine{00588\ \ \ \textcolor{keywordflow}{case}\ PCT\_XYZ:}
\DoxyCodeLine{00589\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}in\ XYZ,\ "{}};}
\DoxyCodeLine{00590\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00591\ }
\DoxyCodeLine{00592\ \ \ \textcolor{keywordflow}{case}\ PCT\_HPR:}
\DoxyCodeLine{00593\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}in\ HPR,\ "{}};}
\DoxyCodeLine{00594\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00595\ }
\DoxyCodeLine{00596\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00597\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00598\ \ \ \}}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \ \ out\ <<\ get\_num\_cvs()\ <<\ \textcolor{stringliteral}{"{}\ CV's)"{}};}
\DoxyCodeLine{00601\ \}}
\DoxyCodeLine{00602\ }
\DoxyCodeLine{00606\ \textcolor{keywordtype}{void}\ HermiteCurve::}
\DoxyCodeLine{00607\ write\_cv(ostream\ \&out,\ \textcolor{keywordtype}{int}\ n)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00608\ \ \ out\ <<\ \textcolor{stringliteral}{"{}CV"{}};}
\DoxyCodeLine{00609\ \ \ \textcolor{keywordflow}{if}\ (!get\_cv\_name(n).empty())\ \{}
\DoxyCodeLine{00610\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ get\_cv\_name(n);}
\DoxyCodeLine{00611\ \ \ \}}
\DoxyCodeLine{00612\ }
\DoxyCodeLine{00613\ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ at\ t\ =\ "{}}\ <<\ get\_cv\_tstart(n)}
\DoxyCodeLine{00614\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)npoint\ =\ "{}}\ <<\ get\_cv\_point(n)}
\DoxyCodeLine{00615\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)nin\ =\ "{}}\ <<\ get\_cv\_in(n)\ <<\ \textcolor{stringliteral}{"{}\ out\ =\ "{}}\ <<\ get\_cv\_out(n)}
\DoxyCodeLine{00616\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\(\backslash\)ncontinuity\ type\ =\ "{}};}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00618\ \ \ \textcolor{keywordflow}{switch}\ (get\_cv\_type(n))\ \{}
\DoxyCodeLine{00619\ \ \ \textcolor{keywordflow}{case}\ HC\_CUT:}
\DoxyCodeLine{00620\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}Cut"{}};}
\DoxyCodeLine{00621\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00622\ }
\DoxyCodeLine{00623\ \ \ \textcolor{keywordflow}{case}\ HC\_FREE:}
\DoxyCodeLine{00624\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}Free"{}};}
\DoxyCodeLine{00625\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00626\ }
\DoxyCodeLine{00627\ \ \ \textcolor{keywordflow}{case}\ HC\_G1:}
\DoxyCodeLine{00628\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}G1"{}};}
\DoxyCodeLine{00629\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00630\ }
\DoxyCodeLine{00631\ \ \ \textcolor{keywordflow}{case}\ HC\_SMOOTH:}
\DoxyCodeLine{00632\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}Smooth"{}};}
\DoxyCodeLine{00633\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00634\ }
\DoxyCodeLine{00635\ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00636\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00637\ \ \ \}}
\DoxyCodeLine{00638\ }
\DoxyCodeLine{00639\ \ \ out\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00640\ \}}
\DoxyCodeLine{00641\ }
\DoxyCodeLine{00642\ }
\DoxyCodeLine{00649\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classHermiteCurve_af4535c86b8b2a382007324d7edf4c1f2}{HermiteCurve::}}}
\DoxyCodeLine{00650\ \mbox{\hyperlink{classHermiteCurve_af4535c86b8b2a382007324d7edf4c1f2}{rebuild\_curveseg}}(\textcolor{keywordtype}{int},\ PN\_stdfloat,\ \textcolor{keyword}{const}\ LVecBase4\ \&,}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int},\ PN\_stdfloat,\ \textcolor{keyword}{const}\ LVecBase4\ \&,}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int},\ PN\_stdfloat,\ \textcolor{keyword}{const}\ LVecBase4\ \&,}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int},\ PN\_stdfloat,\ \textcolor{keyword}{const}\ LVecBase4\ \&)\ \{}
\DoxyCodeLine{00654\ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}rebuild\_curveseg\ not\ implemented\ for\ this\ curve\ type.\(\backslash\)n"{}};}
\DoxyCodeLine{00655\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00656\ \}}
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00661\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classHermiteCurve_a480e255037a90d28015ea12129d3b33e}{HermiteCurve::}}}
\DoxyCodeLine{00662\ \mbox{\hyperlink{classHermiteCurve_a480e255037a90d28015ea12129d3b33e}{format\_egg}}(ostream\ \&out,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&name,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&curve\_type,}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ indent\_level)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00664\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)}
\DoxyCodeLine{00665\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}<VertexPool>\ "{}}\ <<\ name\ <<\ \textcolor{stringliteral}{"{}.pool\ \{\(\backslash\)n"{}};}
\DoxyCodeLine{00666\ }
\DoxyCodeLine{00667\ \ \ \textcolor{keywordtype}{int}\ i;}
\DoxyCodeLine{00668\ \ \ \textcolor{keywordflow}{for}\ (i\ =\ 0;\ i\ <\ (int)\_points.size();\ i++)\ \{}
\DoxyCodeLine{00669\ \ \ \ \ \textcolor{keywordtype}{bool}\ show\_in\ =\ (i\ !=\ 0);}
\DoxyCodeLine{00670\ \ \ \ \ \textcolor{keywordtype}{bool}\ show\_out\ =\ (i\ !=\ (int)\_points.size()-\/1);}
\DoxyCodeLine{00671\ \ \ \ \ \_points[i].format\_egg(out,\ indent\_level\ +\ 2,\ \_num\_dimensions,}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ show\_in,\ show\_out,}
\DoxyCodeLine{00673\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ show\_in\ ?\ \mbox{\hyperlink{classPiecewiseCurve_a5fd9c4e6d0b795e2ba53710345f18108}{get\_tlength}}(i-\/1)\ :\ 0.0f,}
\DoxyCodeLine{00674\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ show\_out\ ?\ \mbox{\hyperlink{classPiecewiseCurve_a5fd9c4e6d0b795e2ba53710345f18108}{get\_tlength}}(i)\ :\ 0.0f);}
\DoxyCodeLine{00675\ \ \ \}}
\DoxyCodeLine{00676\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}};}
\DoxyCodeLine{00677\ }
\DoxyCodeLine{00678\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ \textcolor{stringliteral}{"{}<BezierCurve>\ "{}}\ <<\ name\ <<\ \textcolor{stringliteral}{"{}\ \{\(\backslash\)n"{}};}
\DoxyCodeLine{00679\ }
\DoxyCodeLine{00680\ \ \ \textcolor{keywordflow}{if}\ (!curve\_type.empty())\ \{}
\DoxyCodeLine{00681\ \ \ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level+2)}
\DoxyCodeLine{00682\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}<Scalar>\ type\ \{\ "{}}\ <<\ curve\_type\ <<\ \textcolor{stringliteral}{"{}\ \}\(\backslash\)n"{}};}
\DoxyCodeLine{00683\ \ \ \}}
\DoxyCodeLine{00684\ }
\DoxyCodeLine{00685\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level+2)\ <<\ \textcolor{stringliteral}{"{}<TLengths>\ \{"{}};}
\DoxyCodeLine{00686\ \ \ \textcolor{keywordflow}{if}\ (\_points.size()\ >\ 1)\ \{}
\DoxyCodeLine{00687\ \ \ \ \ \textcolor{keywordflow}{for}\ (i\ =\ 0;\ i\ <\ (int)\_segs.size();\ i++)\ \{}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\%10\ ==\ 1)\ \{}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level+3);}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00692\ \ \ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ \mbox{\hyperlink{classPiecewiseCurve_a5fd9c4e6d0b795e2ba53710345f18108}{get\_tlength}}(i);}
\DoxyCodeLine{00693\ \ \ \ \ \}}
\DoxyCodeLine{00694\ \ \ \}}
\DoxyCodeLine{00695\ \ \ out\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00696\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level+2)\ <<\ \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}};}
\DoxyCodeLine{00697\ }
\DoxyCodeLine{00698\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level+2)\ <<\ \textcolor{stringliteral}{"{}<VertexRef>\ \{"{}};}
\DoxyCodeLine{00699\ \ \ \textcolor{keywordflow}{for}\ (i\ =\ 1;\ i\ <=\ (int)\_points.size()\ *\ 3\ -\/\ 2;\ i++)\ \{}
\DoxyCodeLine{00700\ \ \ \ \ \textcolor{keywordflow}{if}\ (i\%10\ ==\ 1)\ \{}
\DoxyCodeLine{00701\ \ \ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level+3);}
\DoxyCodeLine{00703\ \ \ \ \ \}}
\DoxyCodeLine{00704\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ i;}
\DoxyCodeLine{00705\ \ \ \}}
\DoxyCodeLine{00706\ \ \ out\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00707\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level+4)\ <<\ \textcolor{stringliteral}{"{}<Ref>\ \{\ "{}}\ <<\ name\ <<\ \textcolor{stringliteral}{"{}.pool\ \}\(\backslash\)n"{}};}
\DoxyCodeLine{00708\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level+2)\ <<\ \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}};}
\DoxyCodeLine{00709\ }
\DoxyCodeLine{00710\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}};}
\DoxyCodeLine{00711\ }
\DoxyCodeLine{00712\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00713\ \}}
\DoxyCodeLine{00714\ }
\DoxyCodeLine{00715\ }
\DoxyCodeLine{00716\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00717\ wrap\_hpr(\textcolor{keyword}{const}\ LVecBase3\ \&hpr1,\ LVecBase3\ \&hpr2)\ \{}
\DoxyCodeLine{00718\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 3;\ i++)\ \{}
\DoxyCodeLine{00719\ \ \ \ \ \textcolor{keywordflow}{while}\ ((hpr2[i]\ -\/\ hpr1[i])\ >\ 180.0)\ \{}
\DoxyCodeLine{00720\ \ \ \ \ \ \ hpr2[i]\ -\/=\ 360.0;}
\DoxyCodeLine{00721\ \ \ \ \ \}}
\DoxyCodeLine{00722\ }
\DoxyCodeLine{00723\ \ \ \ \ \textcolor{keywordflow}{while}\ ((hpr2[i]\ -\/\ hpr1[i])\ <\ -\/180.0)\ \{}
\DoxyCodeLine{00724\ \ \ \ \ \ \ hpr2[i]\ +=\ 360.0;}
\DoxyCodeLine{00725\ \ \ \ \ \}}
\DoxyCodeLine{00726\ \ \ \}}
\DoxyCodeLine{00727\ \}}
\DoxyCodeLine{00728\ }
\DoxyCodeLine{00732\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurve_ac9dc91edd83ee489f6011e788088c5e2}{HermiteCurve::}}}
\DoxyCodeLine{00733\ \mbox{\hyperlink{classHermiteCurve_ac9dc91edd83ee489f6011e788088c5e2}{invalidate\_cv}}(\textcolor{keywordtype}{int}\ n,\ \textcolor{keywordtype}{bool}\ redo\_all)\ \{}
\DoxyCodeLine{00734\ \ \ PN\_stdfloat\ t1\ =\ 0.0f,\ t2\ =\ \mbox{\hyperlink{classPiecewiseCurve_a954382fd918abed1e826002e1a852688}{get\_max\_t}}();}
\DoxyCodeLine{00735\ \ \ \textcolor{keywordflow}{if}\ (n>0\ \&\&\ \_points[n-\/1].\_type!=HC\_CUT)\ \{}
\DoxyCodeLine{00736\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classHermiteCurveCV}{HermiteCurveCV}}\ \&p1\ =\ \_points[n-\/1];}
\DoxyCodeLine{00737\ \ \ \ \ \mbox{\hyperlink{classHermiteCurveCV}{HermiteCurveCV}}\ p2(\_points[n]);}
\DoxyCodeLine{00738\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_curve\_type\ ==\ PCT\_HPR)\ \{}
\DoxyCodeLine{00739\ \ \ \ \ \ \ wrap\_hpr(p1.\_p,\ p2.\_p);}
\DoxyCodeLine{00740\ \ \ \ \ \}}
\DoxyCodeLine{00741\ \ \ \ \ get\_curveseg(n-\/1)-\/>\mbox{\hyperlink{classCubicCurveseg_a899e5e58b29721e718dc98e50c8eec60}{hermite\_basis}}(p1,\ p2,\ \mbox{\hyperlink{classPiecewiseCurve_a5fd9c4e6d0b795e2ba53710345f18108}{get\_tlength}}(n-\/1));}
\DoxyCodeLine{00742\ \ \ \ \ t1\ =\ get\_cv\_tstart(n-\/1);}
\DoxyCodeLine{00743\ \ \ \}}
\DoxyCodeLine{00744\ }
\DoxyCodeLine{00745\ \ \ \textcolor{keywordflow}{if}\ (n+1\ <\ (\textcolor{keywordtype}{int})\_points.size())\ \{}
\DoxyCodeLine{00746\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_points[n].\_type==HC\_CUT)\ \{}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \mbox{\hyperlink{structParametricCurve_1_1BezierSeg}{BezierSeg}}\ seg;}
\DoxyCodeLine{00748\ \ \ \ \ \ \ seg.\_v[0]\ =\ seg.\_v[1]\ =\ seg.\_v[2]\ =\ seg.\_v[3]\ =\ \_points[n].\_p;}
\DoxyCodeLine{00749\ \ \ \ \ \ \ get\_curveseg(n)-\/>\mbox{\hyperlink{classCubicCurveseg_a0ffe100be50329e91a7a5ae60edd86de}{bezier\_basis}}(seg);}
\DoxyCodeLine{00750\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classHermiteCurveCV}{HermiteCurveCV}}\ \&p1\ =\ \_points[n];}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \mbox{\hyperlink{classHermiteCurveCV}{HermiteCurveCV}}\ p2(\_points[n+1]);}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_curve\_type\ ==\ PCT\_HPR)\ \{}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ wrap\_hpr(p1.\_p,\ p2.\_p);}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00756\ \ \ \ \ \ \ get\_curveseg(n)-\/>\mbox{\hyperlink{classCubicCurveseg_a899e5e58b29721e718dc98e50c8eec60}{hermite\_basis}}(p1,\ p2,\ \mbox{\hyperlink{classPiecewiseCurve_a5fd9c4e6d0b795e2ba53710345f18108}{get\_tlength}}(n));}
\DoxyCodeLine{00757\ \ \ \ \ \ \ t2\ =\ get\_cv\_tstart(n+2);}
\DoxyCodeLine{00758\ \ \ \ \ \}}
\DoxyCodeLine{00759\ \ \ \}}
\DoxyCodeLine{00760\ }
\DoxyCodeLine{00761\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classPiecewiseCurve_a512ddf84e4693032262e79c825a6aa53}{is\_valid}}())\ \{}
\DoxyCodeLine{00762\ \ \ \ \ \textcolor{keywordflow}{if}\ (redo\_all)\ \{}
\DoxyCodeLine{00763\ \ \ \ \ \ \ \mbox{\hyperlink{classParametricCurve_ab30299891aa1c8856b7dfd1da204fd9b}{invalidate\_all}}();}
\DoxyCodeLine{00764\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00765\ \ \ \ \ \ \ \mbox{\hyperlink{classParametricCurve_a8a5a0688cc9a5b24a59c77e18780f079}{invalidate}}(t1,\ t2);}
\DoxyCodeLine{00766\ \ \ \ \ \}}
\DoxyCodeLine{00767\ \ \ \}}
\DoxyCodeLine{00768\ \}}
\DoxyCodeLine{00769\ }
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ }
\DoxyCodeLine{00775\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classHermiteCurve_a758f94074c8458cfde177c4b966f467d}{HermiteCurve::}}}
\DoxyCodeLine{00776\ \mbox{\hyperlink{classHermiteCurve_a758f94074c8458cfde177c4b966f467d}{find\_cv}}(PN\_stdfloat\ t)\ \{}
\DoxyCodeLine{00777\ \ \ nassertr(\mbox{\hyperlink{classPiecewiseCurve_a512ddf84e4693032262e79c825a6aa53}{is\_valid}}(),\ 0);}
\DoxyCodeLine{00778\ }
\DoxyCodeLine{00779\ \ \ \textcolor{keywordtype}{int}\ n;}
\DoxyCodeLine{00780\ \ \ \textcolor{keywordflow}{for}\ (n\ =\ 0;\ n\ <\ (int)\_segs.size();\ n++)\ \{}
\DoxyCodeLine{00781\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_segs[n].\_tend+0.00001\ >\ t)\ \{}
\DoxyCodeLine{00782\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00783\ \ \ \ \ \}}
\DoxyCodeLine{00784\ \ \ \}}
\DoxyCodeLine{00785\ }
\DoxyCodeLine{00786\ \ \ \textcolor{keywordflow}{return}\ n;}
\DoxyCodeLine{00787\ \}}
\DoxyCodeLine{00788\ }
\DoxyCodeLine{00789\ }
\DoxyCodeLine{00795\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurve_a4e640ad3ae36d213639f50b4205dd624}{HermiteCurve::}}}
\DoxyCodeLine{00796\ \mbox{\hyperlink{classHermiteCurve_a4e640ad3ae36d213639f50b4205dd624}{recompute\_basis}}()\ \{}
\DoxyCodeLine{00797\ \ \ \textcolor{keywordtype}{int}\ n;}
\DoxyCodeLine{00798\ \ \ \textcolor{keywordflow}{for}\ (n\ =\ 0;\ n\ <\ (int)\_segs.size();\ n++)\ \{}
\DoxyCodeLine{00799\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_points[n].\_type==HC\_CUT)\ \{}
\DoxyCodeLine{00800\ \ \ \ \ \ \ \mbox{\hyperlink{structParametricCurve_1_1BezierSeg}{BezierSeg}}\ seg;}
\DoxyCodeLine{00801\ \ \ \ \ \ \ seg.\_v[0]\ =\ seg.\_v[1]\ =\ seg.\_v[2]\ =\ seg.\_v[3]\ =\ \_points[n].\_p;}
\DoxyCodeLine{00802\ \ \ \ \ \ \ get\_curveseg(n)-\/>\mbox{\hyperlink{classCubicCurveseg_a0ffe100be50329e91a7a5ae60edd86de}{bezier\_basis}}(seg);}
\DoxyCodeLine{00803\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00804\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classHermiteCurveCV}{HermiteCurveCV}}\ \&p1\ =\ \_points[n];}
\DoxyCodeLine{00805\ \ \ \ \ \ \ \mbox{\hyperlink{classHermiteCurveCV}{HermiteCurveCV}}\ p2(\_points[n+1]);}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_curve\_type\ ==\ PCT\_HPR)\ \{}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ wrap\_hpr(p1.\_p,\ p2.\_p);}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00809\ \ \ \ \ \ \ get\_curveseg(n)-\/>\mbox{\hyperlink{classCubicCurveseg_a899e5e58b29721e718dc98e50c8eec60}{hermite\_basis}}(p1,\ p2,\ \mbox{\hyperlink{classPiecewiseCurve_a5fd9c4e6d0b795e2ba53710345f18108}{get\_tlength}}(n));}
\DoxyCodeLine{00810\ \ \ \ \ \}}
\DoxyCodeLine{00811\ \ \ \}}
\DoxyCodeLine{00812\ \}}
\DoxyCodeLine{00813\ }
\DoxyCodeLine{00814\ }
\DoxyCodeLine{00818\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurve_aec17868a2c47c120bc5e821a29030ebf}{HermiteCurve::}}}
\DoxyCodeLine{00819\ \mbox{\hyperlink{classHermiteCurve_aec17868a2c47c120bc5e821a29030ebf}{register\_with\_read\_factory}}()\ \{}
\DoxyCodeLine{00820\ \ \ BamReader::get\_factory()-\/>register\_factory(get\_class\_type(),\ \mbox{\hyperlink{classHermiteCurve_ab292cc65dfeea6e3618c1d9d9b037e47}{make\_from\_bam}});}
\DoxyCodeLine{00821\ \}}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00826\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *\mbox{\hyperlink{classHermiteCurve_ab292cc65dfeea6e3618c1d9d9b037e47}{HermiteCurve::}}}
\DoxyCodeLine{00827\ \mbox{\hyperlink{classHermiteCurve_ab292cc65dfeea6e3618c1d9d9b037e47}{make\_from\_bam}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFactoryParams}{FactoryParams}}\ \&params)\ \{}
\DoxyCodeLine{00828\ \ \ \mbox{\hyperlink{classHermiteCurve}{HermiteCurve}}\ *me\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classHermiteCurve}{HermiteCurve}};}
\DoxyCodeLine{00829\ \ \ \mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ scan;}
\DoxyCodeLine{00830\ \ \ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager;}
\DoxyCodeLine{00831\ }
\DoxyCodeLine{00832\ \ \ parse\_params(params,\ scan,\ manager);}
\DoxyCodeLine{00833\ \ \ me-\/>\mbox{\hyperlink{classHermiteCurve_a4f04b1d4119c632eb859dc9cc433e244}{fillin}}(scan,\ manager);}
\DoxyCodeLine{00834\ \ \ \textcolor{keywordflow}{return}\ me;}
\DoxyCodeLine{00835\ \}}
\DoxyCodeLine{00836\ }
\DoxyCodeLine{00841\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurve_a71c9b71370cc6285210ad4ce268fec0f}{HermiteCurve::}}}
\DoxyCodeLine{00842\ \mbox{\hyperlink{classHermiteCurve_a71c9b71370cc6285210ad4ce268fec0f}{write\_datagram}}(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&me)\ \{}
\DoxyCodeLine{00843\ \ \ \mbox{\hyperlink{classPiecewiseCurve_adc473c7e21b8bf4ec3799e428fe1f406}{PiecewiseCurve::write\_datagram}}(manager,\ me);}
\DoxyCodeLine{00844\ }
\DoxyCodeLine{00845\ \ \ me.add\_uint32(\_points.size());}
\DoxyCodeLine{00846\ \ \ \textcolor{keywordtype}{size\_t}\ i;}
\DoxyCodeLine{00847\ \ \ \textcolor{keywordflow}{for}\ (i\ =\ 0;\ i\ <\ \_points.size();\ i++)\ \{}
\DoxyCodeLine{00848\ \ \ \ \ \_points[i].write\_datagram(manager,\ me);}
\DoxyCodeLine{00849\ \ \ \}}
\DoxyCodeLine{00850\ \}}
\DoxyCodeLine{00851\ }
\DoxyCodeLine{00857\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classHermiteCurve_a4f04b1d4119c632eb859dc9cc433e244}{HermiteCurve::}}}
\DoxyCodeLine{00858\ \mbox{\hyperlink{classHermiteCurve_a4f04b1d4119c632eb859dc9cc433e244}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00859\ \ \ \mbox{\hyperlink{classPiecewiseCurve_a4a6852ec6877326f4ee99dc6a222d2fb}{PiecewiseCurve::fillin}}(scan,\ manager);}
\DoxyCodeLine{00860\ }
\DoxyCodeLine{00861\ \ \ \textcolor{keywordtype}{size\_t}\ num\_points\ =\ scan.get\_uint32();}
\DoxyCodeLine{00862\ \ \ \_points.reserve(num\_points);}
\DoxyCodeLine{00863\ \ \ \textcolor{keywordtype}{size\_t}\ i;}
\DoxyCodeLine{00864\ \ \ \textcolor{keywordflow}{for}\ (i\ =\ 0;\ i\ <\ num\_points;\ i++)\ \{}
\DoxyCodeLine{00865\ \ \ \ \ \mbox{\hyperlink{classHermiteCurveCV}{HermiteCurveCV}}\ cv;}
\DoxyCodeLine{00866\ \ \ \ \ cv.\mbox{\hyperlink{classHermiteCurveCV_a66bd4766f06305ef89713b2da486da12}{fillin}}(scan,\ manager);}
\DoxyCodeLine{00867\ \ \ \ \ \_points.push\_back(cv);}
\DoxyCodeLine{00868\ \ \ \}}
\DoxyCodeLine{00869\ \}}

\end{DoxyCode}
