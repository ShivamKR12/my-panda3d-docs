\doxysection{panda\+System.\+cxx}
\hypertarget{pandaSystem_8cxx_source}{}\label{pandaSystem_8cxx_source}\index{dtool/src/dtoolutil/pandaSystem.cxx@{dtool/src/dtoolutil/pandaSystem.cxx}}
\mbox{\hyperlink{pandaSystem_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandaSystem_8h}{pandaSystem.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}pandaVersion.h"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dtool__platform_8h}{dtool\_platform.h}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \mbox{\hyperlink{classPandaSystem}{PandaSystem}}\ *PandaSystem::\_global\_ptr\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00021\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ PandaSystem::\_type\_handle;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00028\ \mbox{\hyperlink{classPandaSystem_aa08a9e6a135d7ac5b92f398fc6826d49}{PandaSystem::}}}
\DoxyCodeLine{00029\ \mbox{\hyperlink{classPandaSystem_aa08a9e6a135d7ac5b92f398fc6826d49}{PandaSystem}}()\ :}
\DoxyCodeLine{00030\ \ \ \_systems(get\_class\_type())}
\DoxyCodeLine{00031\ \{}
\DoxyCodeLine{00032\ \ \ \_system\_names\_dirty\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#ifdef\ STDFLOAT\_DOUBLE}}
\DoxyCodeLine{00035\ \ \ \mbox{\hyperlink{classPandaSystem_adc63fb75f2de07e656daac3a28a7a039}{add\_system}}(\textcolor{stringliteral}{"{}stdfloat-\/double"{}});}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#ifdef\ HAVE\_EIGEN}}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{classPandaSystem_adc63fb75f2de07e656daac3a28a7a039}{add\_system}}(\textcolor{stringliteral}{"{}eigen"{}});}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#ifdef\ LINMATH\_ALIGN}}
\DoxyCodeLine{00041\ \ \ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{stringliteral}{"{}eigen"{}},\ \textcolor{stringliteral}{"{}vectorize"{}},\ \textcolor{stringliteral}{"{}1"{}});}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{stringliteral}{"{}eigen"{}},\ \textcolor{stringliteral}{"{}vectorize"{}},\ \textcolor{stringliteral}{"{}0"{}});}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#ifdef\ \_\_AVX\_\_}}
\DoxyCodeLine{00046\ \ \ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{stringliteral}{"{}eigen"{}},\ \textcolor{stringliteral}{"{}avx"{}},\ \textcolor{stringliteral}{"{}1"{}});}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{stringliteral}{"{}eigen"{}},\ \textcolor{stringliteral}{"{}avx"{}},\ \textcolor{stringliteral}{"{}0"{}});}
\DoxyCodeLine{00049\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ HAVE\_EIGEN}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#ifdef\ USE\_MEMORY\_DLMALLOC}}
\DoxyCodeLine{00053\ \ \ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{stringliteral}{"{}system"{}},\ \textcolor{stringliteral}{"{}malloc"{}},\ \textcolor{stringliteral}{"{}dlmalloc"{}});}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#elif\ defined(USE\_MEMORY\_PTMALLOC2)}}
\DoxyCodeLine{00055\ \ \ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{stringliteral}{"{}system"{}},\ \textcolor{stringliteral}{"{}malloc"{}},\ \textcolor{stringliteral}{"{}ptmalloc2"{}});}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\#elif\ defined(USE\_MEMORY\_MIMALLOC)}}
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{stringliteral}{"{}system"{}},\ \textcolor{stringliteral}{"{}malloc"{}},\ \textcolor{stringliteral}{"{}mimalloc"{}});}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00059\ \ \ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{stringliteral}{"{}system"{}},\ \textcolor{stringliteral}{"{}malloc"{}},\ \textcolor{stringliteral}{"{}malloc"{}});}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#ifdef\ \_LIBCPP\_VERSION}}
\DoxyCodeLine{00063\ \ \ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{stringliteral}{"{}system"{}},\ \textcolor{stringliteral}{"{}stdlib"{}},\ \textcolor{stringliteral}{"{}libc++"{}});}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#elif\ defined(\_\_GLIBCXX\_\_)}}
\DoxyCodeLine{00065\ \ \ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{stringliteral}{"{}system"{}},\ \textcolor{stringliteral}{"{}stdlib"{}},\ \textcolor{stringliteral}{"{}libstdc++"{}});}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00067\ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00072\ \mbox{\hyperlink{classPandaSystem_a4b0d20a43a68b436c2d5c58f200746ae}{PandaSystem::}}}
\DoxyCodeLine{00073\ \mbox{\hyperlink{classPandaSystem_a4b0d20a43a68b436c2d5c58f200746ae}{\string~PandaSystem}}()\ \{}
\DoxyCodeLine{00074\ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00081\ \textcolor{keywordtype}{string}\ PandaSystem::}
\DoxyCodeLine{00082\ get\_version\_string()\ \{}
\DoxyCodeLine{00083\ \ \ \textcolor{keywordflow}{return}\ PANDA\_VERSION\_STR;}
\DoxyCodeLine{00084\ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00091\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classPandaSystem_a770e3a5ca6703ab5a13bb4626834016a}{PandaSystem::}}}
\DoxyCodeLine{00092\ \mbox{\hyperlink{classPandaSystem_a770e3a5ca6703ab5a13bb4626834016a}{get\_major\_version}}()\ \{}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{return}\ PANDA\_MAJOR\_VERSION;}
\DoxyCodeLine{00094\ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00101\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classPandaSystem_aa7eae4217bb58f7e9e26abc9e4e9e882}{PandaSystem::}}}
\DoxyCodeLine{00102\ \mbox{\hyperlink{classPandaSystem_aa7eae4217bb58f7e9e26abc9e4e9e882}{get\_minor\_version}}()\ \{}
\DoxyCodeLine{00103\ \ \ \textcolor{keywordflow}{return}\ PANDA\_MINOR\_VERSION;}
\DoxyCodeLine{00104\ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00111\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classPandaSystem_a1c497773390dad5de73069f84d488470}{PandaSystem::}}}
\DoxyCodeLine{00112\ \mbox{\hyperlink{classPandaSystem_a1c497773390dad5de73069f84d488470}{get\_sequence\_version}}()\ \{}
\DoxyCodeLine{00113\ \ \ \textcolor{keywordflow}{return}\ PANDA\_SEQUENCE\_VERSION;}
\DoxyCodeLine{00114\ \}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00125\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classPandaSystem_ae34f31712d6e0f56c0f2c45519f67a7b}{PandaSystem::}}}
\DoxyCodeLine{00126\ \mbox{\hyperlink{classPandaSystem_ae34f31712d6e0f56c0f2c45519f67a7b}{is\_official\_version}}()\ \{}
\DoxyCodeLine{00127\ \textcolor{preprocessor}{\#ifdef\ PANDA\_OFFICIAL\_VERSION}}
\DoxyCodeLine{00128\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00129\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00130\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00131\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00132\ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00137\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classPandaSystem_ad4158ed09f8e3231219702a6060f4c5c}{PandaSystem::}}}
\DoxyCodeLine{00138\ \mbox{\hyperlink{classPandaSystem_ad4158ed09f8e3231219702a6060f4c5c}{get\_memory\_alignment}}()\ \{}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordflow}{return}\ MEMORY\_HOOK\_ALIGNMENT;}
\DoxyCodeLine{00140\ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00147\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classPandaSystem_a2c5693b9a7bbaaf12259998d31784750}{PandaSystem::}}}
\DoxyCodeLine{00148\ \mbox{\hyperlink{classPandaSystem_a2c5693b9a7bbaaf12259998d31784750}{get\_distributor}}()\ \{}
\DoxyCodeLine{00149\ \ \ \textcolor{keywordflow}{return}\ PANDA\_DISTRIBUTOR;}
\DoxyCodeLine{00150\ \}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00156\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classPandaSystem_a77549394ce5314975d746eb711a72529}{PandaSystem::}}}
\DoxyCodeLine{00157\ \mbox{\hyperlink{classPandaSystem_a77549394ce5314975d746eb711a72529}{get\_compiler}}()\ \{}
\DoxyCodeLine{00158\ \textcolor{preprocessor}{\#if\ defined(\_MSC\_VER)}}
\DoxyCodeLine{00159\ \ \ \textcolor{comment}{//\ MSVC\ defines\ this\ macro.\ \ It's\ an\ integer;\ we\ need\ to\ format\ it.}}
\DoxyCodeLine{00160\ \ \ \mbox{\hyperlink{classstd_1_1ostringstream}{std::ostringstream}}\ strm;}
\DoxyCodeLine{00161\ \ \ strm\ <<\ \textcolor{stringliteral}{"{}MSC\ v."{}}\ <<\ \_MSC\_VER;}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \textcolor{comment}{//\ We\ also\ get\ this\ suite\ of\ macros\ that\ tells\ us\ what\ the\ build\ platform}}
\DoxyCodeLine{00164\ \ \ \textcolor{comment}{//\ is.}}
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#if\ defined(\_M\_IX86)}}
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\ \ \#ifdef\ MS\_WIN64}}
\DoxyCodeLine{00167\ \ \ strm\ <<\ \textcolor{stringliteral}{"{}\ 64\ bit\ (Intel)"{}};}
\DoxyCodeLine{00168\ \textcolor{preprocessor}{\ \ \#else\ \ }\textcolor{comment}{//\ MS\_WIN64}}
\DoxyCodeLine{00169\ \ \ strm\ <<\ \textcolor{stringliteral}{"{}\ 32\ bit\ (Intel)"{}};}
\DoxyCodeLine{00170\ \textcolor{preprocessor}{\ \ \#endif\ \ }\textcolor{comment}{//\ MS\_WIN64}}
\DoxyCodeLine{00171\ \textcolor{preprocessor}{\#elif\ defined(\_M\_IA64)}}
\DoxyCodeLine{00172\ \ \ strm\ <<\ \textcolor{stringliteral}{"{}\ 64\ bit\ (Itanium)"{}};}
\DoxyCodeLine{00173\ \textcolor{preprocessor}{\#elif\ defined(\_M\_AMD64)}}
\DoxyCodeLine{00174\ \ \ strm\ <<\ \textcolor{stringliteral}{"{}\ 64\ bit\ (AMD64)"{}};}
\DoxyCodeLine{00175\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \ \ \textcolor{keywordflow}{return}\ strm.str();}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \textcolor{preprocessor}{\#elif\ defined(\_\_clang\_\_)}}
\DoxyCodeLine{00180\ \ \ \textcolor{comment}{//\ Clang\ has\ this\ macro.\ \ This\ case\ has\ to\ go\ before\ \_\_GNUC\_\_\ because\ that}}
\DoxyCodeLine{00181\ \ \ \textcolor{comment}{//\ is\ also\ defined\ by\ clang.}}
\DoxyCodeLine{00182\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Clang\ "{}}\ \_\_clang\_version\_\_;}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\#elif\ defined(\_\_GNUC\_\_)}}
\DoxyCodeLine{00185\ \ \ \textcolor{comment}{//\ GCC\ defines\ this\ simple\ macro.}}
\DoxyCodeLine{00186\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}GCC\ "{}}\ \_\_VERSION\_\_;}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00189\ \ \ \textcolor{comment}{//\ For\ other\ compilers,\ you're\ on\ your\ own.}}
\DoxyCodeLine{00190\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}unknown"{}};}
\DoxyCodeLine{00191\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00192\ \}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00200\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classPandaSystem_ad4a315824568b66bfaa7f309924da26e}{PandaSystem::}}}
\DoxyCodeLine{00201\ \mbox{\hyperlink{classPandaSystem_ad4a315824568b66bfaa7f309924da26e}{get\_build\_date}}()\ \{}
\DoxyCodeLine{00202\ \textcolor{preprocessor}{\#ifdef\ PANDA\_BUILD\_DATE\_STR}}
\DoxyCodeLine{00203\ \ \ \textcolor{keywordflow}{return}\ PANDA\_BUILD\_DATE\_STR;}
\DoxyCodeLine{00204\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00205\ \ \ \textcolor{keywordflow}{return}\ \_\_DATE\_\_\ \textcolor{stringliteral}{"{}\ "{}}\ \_\_TIME\_\_;}
\DoxyCodeLine{00206\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00207\ \}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00213\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classPandaSystem_aebac59e607dc38083e4dce3854ac4fa4}{PandaSystem::}}}
\DoxyCodeLine{00214\ \mbox{\hyperlink{classPandaSystem_aebac59e607dc38083e4dce3854ac4fa4}{get\_git\_commit}}()\ \{}
\DoxyCodeLine{00215\ \textcolor{preprocessor}{\#ifdef\ PANDA\_GIT\_COMMIT\_STR}}
\DoxyCodeLine{00216\ \ \ \textcolor{keywordflow}{return}\ PANDA\_GIT\_COMMIT\_STR;}
\DoxyCodeLine{00217\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00218\ \ \ \textcolor{keywordflow}{return}\ string();}
\DoxyCodeLine{00219\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00220\ \}}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00227\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classPandaSystem_a59b8f6b7b831fddf3f981b6305cfa0c6}{PandaSystem::}}}
\DoxyCodeLine{00228\ \mbox{\hyperlink{classPandaSystem_a59b8f6b7b831fddf3f981b6305cfa0c6}{get\_platform}}()\ \{}
\DoxyCodeLine{00229\ \ \ \textcolor{keywordflow}{return}\ DTOOL\_PLATFORM;}
\DoxyCodeLine{00230\ \}}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00237\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classPandaSystem_ae5efc4bac859dd149c63640c3481da6e}{PandaSystem::}}}
\DoxyCodeLine{00238\ \mbox{\hyperlink{classPandaSystem_ae5efc4bac859dd149c63640c3481da6e}{has\_system}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&system)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00239\ \ \ Systems::const\_iterator\ si;}
\DoxyCodeLine{00240\ \ \ si\ =\ \_systems.find(system);}
\DoxyCodeLine{00241\ \ \ \textcolor{keywordflow}{return}\ (si\ !=\ \_systems.end());}
\DoxyCodeLine{00242\ \}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00249\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classPandaSystem_a3ed36b152546ad55617f52bf34f07a52}{PandaSystem::}}}
\DoxyCodeLine{00250\ \mbox{\hyperlink{classPandaSystem_a3ed36b152546ad55617f52bf34f07a52}{get\_num\_systems}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00251\ \ \ \textcolor{keywordflow}{return}\ \_systems.size();}
\DoxyCodeLine{00252\ \}}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00258\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classPandaSystem_ad0ba6a152128291be377ad2ecbbeec88}{PandaSystem::}}}
\DoxyCodeLine{00259\ \mbox{\hyperlink{classPandaSystem_ad0ba6a152128291be377ad2ecbbeec88}{get\_system}}(\textcolor{keywordtype}{size\_t}\ n)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00260\ \ \ \textcolor{keywordflow}{if}\ (n\ >=\ \_systems.size())\ \{}
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{keywordflow}{return}\ string();}
\DoxyCodeLine{00262\ \ \ \}}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \ \ \textcolor{keywordflow}{if}\ (\_system\_names\_dirty)\ \{}
\DoxyCodeLine{00265\ \ \ \ \ ((\mbox{\hyperlink{classPandaSystem}{PandaSystem}}\ *)\textcolor{keyword}{this})-\/>reset\_system\_names();}
\DoxyCodeLine{00266\ \ \ \}}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ \ \ \textcolor{keywordflow}{return}\ \_system\_names[n];}
\DoxyCodeLine{00269\ \}}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00280\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classPandaSystem_ae7d669abd0f8004d3f092310121d237a}{PandaSystem::}}}
\DoxyCodeLine{00281\ \mbox{\hyperlink{classPandaSystem_ae7d669abd0f8004d3f092310121d237a}{get\_system\_tag}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&system,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&tag)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00282\ \ \ Systems::const\_iterator\ si;}
\DoxyCodeLine{00283\ \ \ si\ =\ \_systems.find(system);}
\DoxyCodeLine{00284\ \ \ \textcolor{keywordflow}{if}\ (si\ !=\ \_systems.end())\ \{}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classpmap}{SystemTags}}\ \&tags\ =\ (*si).second;}
\DoxyCodeLine{00286\ \ \ \ \ SystemTags::const\_iterator\ ti;}
\DoxyCodeLine{00287\ \ \ \ \ ti\ =\ tags.find(tag);}
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{keywordflow}{if}\ (ti\ !=\ tags.end())\ \{}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (*ti).second;}
\DoxyCodeLine{00290\ \ \ \ \ \}}
\DoxyCodeLine{00291\ \ \ \}}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \ \ \textcolor{keywordflow}{return}\ string();}
\DoxyCodeLine{00294\ \}}
\DoxyCodeLine{00295\ }
\DoxyCodeLine{00299\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classPandaSystem_adc63fb75f2de07e656daac3a28a7a039}{PandaSystem::}}}
\DoxyCodeLine{00300\ \mbox{\hyperlink{classPandaSystem_adc63fb75f2de07e656daac3a28a7a039}{add\_system}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&system)\ \{}
\DoxyCodeLine{00301\ \ \ \textcolor{keywordtype}{bool}\ inserted\ =\ \_systems.insert(Systems::value\_type(system,\ \mbox{\hyperlink{classpmap}{SystemTags}}(get\_class\_type()))).second;}
\DoxyCodeLine{00302\ \ \ \textcolor{keywordflow}{if}\ (inserted)\ \{}
\DoxyCodeLine{00303\ \ \ \ \ \_system\_names\_dirty\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00304\ \ \ \}}
\DoxyCodeLine{00305\ \}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00311\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{PandaSystem::}}}
\DoxyCodeLine{00312\ \mbox{\hyperlink{classPandaSystem_a3ae2c4617c0fbc70366da1e2cc159630}{set\_system\_tag}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&system,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&tag,}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&value)\ \{}
\DoxyCodeLine{00314\ \ \ std::pair<Systems::iterator,\ bool>\ result;}
\DoxyCodeLine{00315\ \ \ result\ =\ \_systems.insert(Systems::value\_type(system,\ \mbox{\hyperlink{classpmap}{SystemTags}}(get\_class\_type())));}
\DoxyCodeLine{00316\ \ \ \textcolor{keywordflow}{if}\ (result.second)\ \{}
\DoxyCodeLine{00317\ \ \ \ \ \_system\_names\_dirty\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00318\ \ \ \}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \ \ \mbox{\hyperlink{classpmap}{SystemTags}}\ \&tags\ =\ (*result.first).second;}
\DoxyCodeLine{00321\ \ \ tags[tag]\ =\ value;}
\DoxyCodeLine{00322\ \}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00333\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classPandaSystem_aff02d87c2d736438abc166a3c8cd356a}{PandaSystem::}}}
\DoxyCodeLine{00334\ \mbox{\hyperlink{classPandaSystem_aff02d87c2d736438abc166a3c8cd356a}{heap\_trim}}(\textcolor{keywordtype}{size\_t}\ pad)\ \{}
\DoxyCodeLine{00335\ \ \ \textcolor{comment}{//\ This\ actually\ just\ vectors\ into\ \_memory\_hook,\ which\ isn't\ published.}}
\DoxyCodeLine{00336\ \ \ \textcolor{comment}{//\ This\ method\ only\ exists\ on\ PandaSystem\ for\ the\ convenience\ of\ Python}}
\DoxyCodeLine{00337\ \ \ \textcolor{comment}{//\ programmers.}}
\DoxyCodeLine{00338\ \ \ \textcolor{keywordflow}{return}\ memory\_hook-\/>\mbox{\hyperlink{classMemoryHook_aacb42686df80c3f38bbaa59232d71f29}{heap\_trim}}(pad);}
\DoxyCodeLine{00339\ \}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00344\ \textcolor{keywordtype}{void}\ PandaSystem::}
\DoxyCodeLine{00345\ output(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00346\ \ \ out\ <<\ \textcolor{stringliteral}{"{}Panda\ version\ "{}}\ <<\ get\_version\_string();}
\DoxyCodeLine{00347\ \}}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00352\ \textcolor{keywordtype}{void}\ PandaSystem::}
\DoxyCodeLine{00353\ write(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00354\ \ \ out\ <<\ *\textcolor{keyword}{this}\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{00355\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}compiled\ on\ "{}}\ <<\ \mbox{\hyperlink{classPandaSystem_ad4a315824568b66bfaa7f309924da26e}{get\_build\_date}}()\ <<\ \textcolor{stringliteral}{"{}\ by\ "{}}}
\DoxyCodeLine{00356\ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classPandaSystem_a2c5693b9a7bbaaf12259998d31784750}{get\_distributor}}()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{00357\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}with\ compiler\ "{}}\ <<\ \mbox{\hyperlink{classPandaSystem_a77549394ce5314975d746eb711a72529}{PandaSystem::get\_compiler}}()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{00358\ }
\DoxyCodeLine{00359\ \ \ out\ <<\ \textcolor{stringliteral}{"{}Optional\ systems:\(\backslash\)n"{}};}
\DoxyCodeLine{00360\ \ \ \textcolor{keywordflow}{for}\ (Systems::const\_iterator\ si\ =\ \_systems.begin();}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ si\ !=\ \_systems.end();}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ ++si)\ \{}
\DoxyCodeLine{00363\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ \ "{}}\ <<\ (*si).first\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{keyword}{const}\ SystemTags\ \&tags\ =\ (*si).second;}
\DoxyCodeLine{00365\ \ \ \ \ SystemTags::const\_iterator\ ti;}
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{keywordflow}{for}\ (ti\ =\ tags.begin();\ ti\ !=\ tags.end();\ ++ti)\ \{}
\DoxyCodeLine{00367\ \ \ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ \ \ \ "{}}\ <<\ (*ti).first\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ (*ti).second\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00368\ \ \ \ \ \}}
\DoxyCodeLine{00369\ \ \ \}}
\DoxyCodeLine{00370\ \}}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00376\ \mbox{\hyperlink{classPandaSystem}{PandaSystem}}\ *\mbox{\hyperlink{classPandaSystem_acd78dd1318de278e0720bca78bb3f0f8}{PandaSystem::}}}
\DoxyCodeLine{00377\ \mbox{\hyperlink{classPandaSystem_acd78dd1318de278e0720bca78bb3f0f8}{get\_global\_ptr}}()\ \{}
\DoxyCodeLine{00378\ \ \ \textcolor{keywordflow}{if}\ (\_global\_ptr\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00379\ \ \ \ \ init\_type();}
\DoxyCodeLine{00380\ \ \ \ \ \_global\_ptr\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classPandaSystem_aa08a9e6a135d7ac5b92f398fc6826d49}{PandaSystem}};}
\DoxyCodeLine{00381\ \ \ \}}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \textcolor{keywordflow}{return}\ \_global\_ptr;}
\DoxyCodeLine{00384\ \}}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00390\ \textcolor{keywordtype}{void}\ PandaSystem::}
\DoxyCodeLine{00391\ reset\_system\_names()\ \{}
\DoxyCodeLine{00392\ \ \ \_system\_names.clear();}
\DoxyCodeLine{00393\ \ \ \_system\_names.reserve(\_systems.size());}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00395\ \ \ Systems::const\_iterator\ si;}
\DoxyCodeLine{00396\ \ \ \textcolor{keywordflow}{for}\ (si\ =\ \_systems.begin();\ si\ !=\ \_systems.end();\ ++si)\ \{}
\DoxyCodeLine{00397\ \ \ \ \ \_system\_names.push\_back((*si).first);}
\DoxyCodeLine{00398\ \ \ \}}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ \ \ \_system\_names\_dirty\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00401\ \}}

\end{DoxyCode}
