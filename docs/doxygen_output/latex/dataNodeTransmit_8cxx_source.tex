\doxysection{data\+Node\+Transmit.\+cxx}
\hypertarget{dataNodeTransmit_8cxx_source}{}\label{dataNodeTransmit_8cxx_source}\index{panda/src/dgraph/dataNodeTransmit.cxx@{panda/src/dgraph/dataNodeTransmit.cxx}}
\mbox{\hyperlink{dataNodeTransmit_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dataNodeTransmit_8h}{dataNodeTransmit.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamReader_8h}{bamReader.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamWriter_8h}{bamWriter.h}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ DataNodeTransmit::\_type\_handle;}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00023\ DataNodeTransmit::}
\DoxyCodeLine{00024\ \string~DataNodeTransmit()\ \{}
\DoxyCodeLine{00025\ \}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00030\ \textcolor{keywordtype}{void}\ DataNodeTransmit::}
\DoxyCodeLine{00031\ slot\_data(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00032\ \ \ nassertv(index\ <\ 1000);}
\DoxyCodeLine{00033\ \ \ \textcolor{keywordflow}{while}\ (index\ >=\ (\textcolor{keywordtype}{int})\_data.size())\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \_data.push\_back(\mbox{\hyperlink{classEventParameter}{EventParameter}}());}
\DoxyCodeLine{00035\ \ \ \}}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00041\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDataNodeTransmit_a244a1ead30d47cbe4960b936924c4c28}{DataNodeTransmit::}}}
\DoxyCodeLine{00042\ \mbox{\hyperlink{classDataNodeTransmit_a244a1ead30d47cbe4960b936924c4c28}{register\_with\_read\_factory}}()\ \{}
\DoxyCodeLine{00043\ \ \ BamReader::get\_factory()-\/>register\_factory(get\_class\_type(),\ \mbox{\hyperlink{classDataNodeTransmit_ac7c5f7a42cd1b8db482fc5d097a32cce}{make\_from\_bam}});}
\DoxyCodeLine{00044\ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00050\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDataNodeTransmit_abc0576ae782af057b14d05066b224a71}{DataNodeTransmit::}}}
\DoxyCodeLine{00051\ \mbox{\hyperlink{classDataNodeTransmit_abc0576ae782af057b14d05066b224a71}{write\_datagram}}(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg)\ \{}
\DoxyCodeLine{00052\ \ \ TypedWritable::write\_datagram(manager,\ dg);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ dg.add\_uint16(\_data.size());}
\DoxyCodeLine{00055\ \ \ Data::const\_iterator\ di;}
\DoxyCodeLine{00056\ \ \ \textcolor{keywordflow}{for}\ (di\ =\ \_data.begin();\ di\ !=\ \_data.end();\ ++di)\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEventParameter}{EventParameter}}\ \&param\ =\ (*di);}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{classTypedWritableReferenceCount}{TypedWritableReferenceCount}}\ *ptr\ =\ param.get\_ptr();}
\DoxyCodeLine{00059\ \ \ \ \ manager-\/>\mbox{\hyperlink{classBamWriter_a634bd4eb8e9b33ffde91a27c02f80467}{write\_pointer}}(dg,\ ptr);}
\DoxyCodeLine{00060\ \ \ \}}
\DoxyCodeLine{00061\ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00067\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classDataNodeTransmit_a66aa24ab9dee249d337ecaa75a2c8839}{DataNodeTransmit::}}}
\DoxyCodeLine{00068\ \mbox{\hyperlink{classDataNodeTransmit_a66aa24ab9dee249d337ecaa75a2c8839}{complete\_pointers}}(\mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ **p\_list,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00069\ \ \ \textcolor{keywordtype}{int}\ pi\ =\ \mbox{\hyperlink{classTypedWritable_addc29bb978851cacca2196f8a1f35014}{TypedWritable::complete\_pointers}}(p\_list,\ manager);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ Data::iterator\ di;}
\DoxyCodeLine{00072\ \ \ \textcolor{keywordflow}{for}\ (di\ =\ \_data.begin();\ di\ !=\ \_data.end();\ ++di)\ \{}
\DoxyCodeLine{00073\ \ \ \ \ (*di)\ =\ \mbox{\hyperlink{classEventParameter}{EventParameter}}(DCAST(\mbox{\hyperlink{classTypedWritableReferenceCount}{TypedWritableReferenceCount}},\ p\_list[pi++]));}
\DoxyCodeLine{00074\ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \textcolor{keywordflow}{return}\ pi;}
\DoxyCodeLine{00077\ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00084\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *\mbox{\hyperlink{classDataNodeTransmit_ac7c5f7a42cd1b8db482fc5d097a32cce}{DataNodeTransmit::}}}
\DoxyCodeLine{00085\ \mbox{\hyperlink{classDataNodeTransmit_ac7c5f7a42cd1b8db482fc5d097a32cce}{make\_from\_bam}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFactoryParams}{FactoryParams}}\ \&params)\ \{}
\DoxyCodeLine{00086\ \ \ \mbox{\hyperlink{classDataNodeTransmit}{DataNodeTransmit}}\ *xmit\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classDataNodeTransmit}{DataNodeTransmit}};}
\DoxyCodeLine{00087\ \ \ \mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ scan;}
\DoxyCodeLine{00088\ \ \ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager;}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ parse\_params(params,\ scan,\ manager);}
\DoxyCodeLine{00091\ \ \ xmit-\/>\mbox{\hyperlink{classDataNodeTransmit_a4a9482394e87faadb46d9859e4c66809}{fillin}}(scan,\ manager);}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{return}\ xmit;}
\DoxyCodeLine{00094\ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00100\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classDataNodeTransmit_a4a9482394e87faadb46d9859e4c66809}{DataNodeTransmit::}}}
\DoxyCodeLine{00101\ \mbox{\hyperlink{classDataNodeTransmit_a4a9482394e87faadb46d9859e4c66809}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00102\ \ \ \mbox{\hyperlink{classTypedWritable_a3ad6cc1cd23bc3783d83edb3302bb43c}{TypedWritable::fillin}}(scan,\ manager);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \textcolor{keywordtype}{int}\ num\_params\ =\ scan.get\_uint16();}
\DoxyCodeLine{00105\ \ \ \_data.reserve(num\_params);}
\DoxyCodeLine{00106\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_params;\ i++)\ \{}
\DoxyCodeLine{00107\ \ \ \ \ manager-\/>\mbox{\hyperlink{classBamReader_ac0ecc0609d9c6de514145777b3336435}{read\_pointer}}(scan);}
\DoxyCodeLine{00108\ \ \ \ \ \_data.push\_back(\mbox{\hyperlink{classEventParameter}{EventParameter}}());}
\DoxyCodeLine{00109\ \ \ \}}
\DoxyCodeLine{00110\ \}}

\end{DoxyCode}
