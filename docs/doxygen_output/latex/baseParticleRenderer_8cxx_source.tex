\doxysection{base\+Particle\+Renderer.\+cxx}
\hypertarget{baseParticleRenderer_8cxx_source}{}\label{baseParticleRenderer_8cxx_source}\index{panda/src/particlesystem/baseParticleRenderer.cxx@{panda/src/particlesystem/baseParticleRenderer.cxx}}
\mbox{\hyperlink{baseParticleRenderer_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandabase_8h}{pandabase.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{baseParticleRenderer_8h}{baseParticleRenderer.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{transparencyAttrib_8h}{transparencyAttrib.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{colorAttrib_8h}{colorAttrib.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{compassEffect_8h}{compassEffect.h}}"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00024\ \mbox{\hyperlink{classBaseParticleRenderer_a29aef7f243fa0b52d9bf05bc853ea795}{BaseParticleRenderer::}}}
\DoxyCodeLine{00025\ \mbox{\hyperlink{classBaseParticleRenderer_a29aef7f243fa0b52d9bf05bc853ea795}{BaseParticleRenderer}}(ParticleRendererAlphaMode\ alpha\_mode)\ :}
\DoxyCodeLine{00026\ \ \ \_alpha\_mode(PR\_NOT\_INITIALIZED\_YET)\ \{}
\DoxyCodeLine{00027\ \ \ \_render\_node\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGeomNode}{GeomNode}}(\textcolor{stringliteral}{"{}BaseParticleRenderer\ render\ node"{}});}
\DoxyCodeLine{00028\ \ \ \_render\_node\_path\ =\ \mbox{\hyperlink{classNodePath}{NodePath}}(\_render\_node);}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \_user\_alpha\ =\ 1.0f;}
\DoxyCodeLine{00031\ \ \ \_ignore\_scale\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \mbox{\hyperlink{classBaseParticleRenderer_a29633d6578589813c4b27e88b430bb00}{update\_alpha\_mode}}(alpha\_mode);}
\DoxyCodeLine{00034\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00039\ \mbox{\hyperlink{classBaseParticleRenderer_a29aef7f243fa0b52d9bf05bc853ea795}{BaseParticleRenderer::}}}
\DoxyCodeLine{00040\ \mbox{\hyperlink{classBaseParticleRenderer_a29aef7f243fa0b52d9bf05bc853ea795}{BaseParticleRenderer}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classBaseParticleRenderer}{BaseParticleRenderer}}\&\ copy)\ :}
\DoxyCodeLine{00041\ \ \ \_alpha\_mode(PR\_ALPHA\_NONE)\ \{}
\DoxyCodeLine{00042\ \ \ \_render\_node\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGeomNode}{GeomNode}}(\textcolor{stringliteral}{"{}BaseParticleRenderer\ render\ node"{}});}
\DoxyCodeLine{00043\ \ \ \_render\_node\_path\ =\ \mbox{\hyperlink{classNodePath}{NodePath}}(\_render\_node);}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \_user\_alpha\ =\ copy.\_user\_alpha;}
\DoxyCodeLine{00046\ \ \ set\_ignore\_scale(copy.\_ignore\_scale);}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{classBaseParticleRenderer_a29633d6578589813c4b27e88b430bb00}{update\_alpha\_mode}}(copy.\_alpha\_mode);}
\DoxyCodeLine{00049\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00054\ BaseParticleRenderer::}
\DoxyCodeLine{00055\ \string~BaseParticleRenderer()\ \{}
\DoxyCodeLine{00056\ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00067\ \textcolor{keywordtype}{void}\ BaseParticleRenderer::}
\DoxyCodeLine{00068\ set\_ignore\_scale(\textcolor{keywordtype}{bool}\ ignore\_scale)\ \{}
\DoxyCodeLine{00069\ \ \ \_ignore\_scale\ =\ ignore\_scale;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{if}\ (\_ignore\_scale)\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \_render\_node-\/>set\_effect(CompassEffect::make(\mbox{\hyperlink{classNodePath}{NodePath}}(),\ CompassEffect::P\_scale));}
\DoxyCodeLine{00073\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \_render\_node-\/>clear\_effect(CompassEffect::get\_class\_type());}
\DoxyCodeLine{00075\ \ \ \}}
\DoxyCodeLine{00076\ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00081\ \textcolor{keywordtype}{void}\ BaseParticleRenderer::}
\DoxyCodeLine{00082\ output(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\ \ \#ifndef\ NDEBUG\ }\textcolor{comment}{//[}}
\DoxyCodeLine{00084\ \ \ out<<\textcolor{stringliteral}{"{}BaseParticleRenderer"{}};}
\DoxyCodeLine{00085\ \textcolor{preprocessor}{\ \ \#endif\ }\textcolor{comment}{//]\ NDEBUG}}
\DoxyCodeLine{00086\ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00091\ \textcolor{keywordtype}{void}\ BaseParticleRenderer::}
\DoxyCodeLine{00092\ write(std::ostream\ \&out,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\ \ \#ifndef\ NDEBUG\ }\textcolor{comment}{//[}}
\DoxyCodeLine{00094\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}});\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}BaseParticleRenderer:\(\backslash\)n"{}};}
\DoxyCodeLine{00095\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_render\_node\ "{}}<<\_render\_node\_path<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00096\ \ \ out.width(\mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}+2);\ out<<\textcolor{stringliteral}{"{}"{}};\ out<<\textcolor{stringliteral}{"{}\_user\_alpha\ "{}}<<\_user\_alpha<<\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00097\ \ \ \textcolor{comment}{//\ ReferenceCount::write(out,\ indent+2);}}
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\ \ \#endif\ }\textcolor{comment}{//]\ NDEBUG}}
\DoxyCodeLine{00099\ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00104\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classBaseParticleRenderer_a29633d6578589813c4b27e88b430bb00}{BaseParticleRenderer::}}}
\DoxyCodeLine{00105\ \mbox{\hyperlink{classBaseParticleRenderer_a29633d6578589813c4b27e88b430bb00}{update\_alpha\_mode}}(ParticleRendererAlphaMode\ am)\ \{}
\DoxyCodeLine{00106\ \ \ \textcolor{keywordflow}{if}\ (\_alpha\_mode\ ==\ am)}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \textcolor{keywordflow}{if}\ ((am\ ==\ PR\_ALPHA\_NONE)\ \&\&\ (\_alpha\_mode\ !=\ PR\_ALPHA\_NONE))}
\DoxyCodeLine{00110\ \ \ \ \ \mbox{\hyperlink{classBaseParticleRenderer_a416cf1e445212f5d4652a0bea81df72c}{disable\_alpha}}();}
\DoxyCodeLine{00111\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((am\ !=\ PR\_ALPHA\_NONE)\ \&\&\ (\_alpha\_mode\ ==\ PR\_ALPHA\_NONE))}
\DoxyCodeLine{00112\ \ \ \ \ \mbox{\hyperlink{classBaseParticleRenderer_a78756510962db6ba96af30e3ca684b66}{enable\_alpha}}();}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \_alpha\_mode\ =\ am;}
\DoxyCodeLine{00115\ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00120\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classBaseParticleRenderer_a78756510962db6ba96af30e3ca684b66}{BaseParticleRenderer::}}}
\DoxyCodeLine{00121\ \mbox{\hyperlink{classBaseParticleRenderer_a78756510962db6ba96af30e3ca684b66}{enable\_alpha}}()\ \{}
\DoxyCodeLine{00122\ \ \ \_render\_state\ =\ RenderState::make(TransparencyAttrib::make(TransparencyAttrib::M\_alpha),}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ColorAttrib::make\_vertex());}
\DoxyCodeLine{00124\ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00129\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classBaseParticleRenderer_a416cf1e445212f5d4652a0bea81df72c}{BaseParticleRenderer::}}}
\DoxyCodeLine{00130\ \mbox{\hyperlink{classBaseParticleRenderer_a416cf1e445212f5d4652a0bea81df72c}{disable\_alpha}}()\ \{}
\DoxyCodeLine{00131\ \ \ \_render\_state\ =\ RenderState::make(TransparencyAttrib::make(TransparencyAttrib::M\_none),}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ColorAttrib::make\_vertex());}
\DoxyCodeLine{00133\ \}}

\end{DoxyCode}
