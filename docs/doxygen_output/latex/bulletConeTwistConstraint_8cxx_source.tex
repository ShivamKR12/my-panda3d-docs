\doxysection{bullet\+Cone\+Twist\+Constraint.\+cxx}
\hypertarget{bulletConeTwistConstraint_8cxx_source}{}\label{bulletConeTwistConstraint_8cxx_source}\index{panda/src/bullet/bulletConeTwistConstraint.cxx@{panda/src/bullet/bulletConeTwistConstraint.cxx}}
\mbox{\hyperlink{bulletConeTwistConstraint_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletConeTwistConstraint_8h}{bulletConeTwistConstraint.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletRigidBodyNode_8h}{bulletRigidBodyNode.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletWorld_8h}{bulletWorld.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{deg__2__rad_8h}{deg\_2\_rad.h}}"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ BulletConeTwistConstraint::\_type\_handle;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00026\ BulletConeTwistConstraint::}
\DoxyCodeLine{00027\ BulletConeTwistConstraint(\textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletRigidBodyNode}{BulletRigidBodyNode}}\ *node\_a,}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *frame\_a)\ \{}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \mbox{\hyperlink{classbtRigidBody}{btRigidBody}}\ *ptr\_a\ =\ btRigidBody::upcast(node\_a-\/>get\_object());}
\DoxyCodeLine{00031\ \ \ btTransform\ trans\_a\ =\ TransformState\_to\_btTrans(frame\_a);}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \_constraint\ =\ \textcolor{keyword}{new}\ btConeTwistConstraint(*ptr\_a,\ trans\_a);}
\DoxyCodeLine{00034\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00039\ BulletConeTwistConstraint::}
\DoxyCodeLine{00040\ BulletConeTwistConstraint(\textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletRigidBodyNode}{BulletRigidBodyNode}}\ *node\_a,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletRigidBodyNode}{BulletRigidBodyNode}}\ *node\_b,}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *frame\_a,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *frame\_b)\ \{}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \mbox{\hyperlink{classbtRigidBody}{btRigidBody}}\ *ptr\_a\ =\ btRigidBody::upcast(node\_a-\/>get\_object());}
\DoxyCodeLine{00046\ \ \ btTransform\ trans\_a\ =\ TransformState\_to\_btTrans(frame\_a);}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{classbtRigidBody}{btRigidBody}}\ *ptr\_b\ =\ btRigidBody::upcast(node\_b-\/>get\_object());}
\DoxyCodeLine{00049\ \ \ btTransform\ trans\_b\ =\ TransformState\_to\_btTrans(frame\_b);}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \_constraint\ =\ \textcolor{keyword}{new}\ btConeTwistConstraint(*ptr\_a,\ *ptr\_b,\ trans\_a,\ trans\_b);}
\DoxyCodeLine{00052\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00057\ btTypedConstraint\ *BulletConeTwistConstraint::}
\DoxyCodeLine{00058\ ptr()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{keywordflow}{return}\ \_constraint;}
\DoxyCodeLine{00061\ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00066\ \textcolor{keywordtype}{void}\ BulletConeTwistConstraint::}
\DoxyCodeLine{00067\ set\_limit(\textcolor{keywordtype}{int}\ index,\ PN\_stdfloat\ value)\ \{}
\DoxyCodeLine{00068\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ value\ =\ deg\_2\_rad(value);}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \_constraint-\/>setLimit(index,\ value);}
\DoxyCodeLine{00073\ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00078\ \textcolor{keywordtype}{void}\ BulletConeTwistConstraint::}
\DoxyCodeLine{00079\ set\_limit(PN\_stdfloat\ swing1,\ PN\_stdfloat\ swing2,\ PN\_stdfloat\ twist,\ PN\_stdfloat\ softness,\ PN\_stdfloat\ bias,\ PN\_stdfloat\ relaxation)\ \{}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ swing1\ =\ deg\_2\_rad(swing1);}
\DoxyCodeLine{00083\ \ \ swing2\ =\ deg\_2\_rad(swing2);}
\DoxyCodeLine{00084\ \ \ twist\ \ =\ deg\_2\_rad(twist);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \_constraint-\/>setLimit(swing1,\ swing2,\ twist,\ softness,\ bias,\ relaxation);}
\DoxyCodeLine{00087\ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00092\ \textcolor{keywordtype}{void}\ BulletConeTwistConstraint::}
\DoxyCodeLine{00093\ set\_damping(PN\_stdfloat\ damping)\ \{}
\DoxyCodeLine{00094\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \_constraint-\/>setDamping(damping);}
\DoxyCodeLine{00097\ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00102\ PN\_stdfloat\ BulletConeTwistConstraint::}
\DoxyCodeLine{00103\ get\_fix\_threshold()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00104\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \textcolor{keywordflow}{return}\ \_constraint-\/>getFixThresh();}
\DoxyCodeLine{00107\ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00112\ \textcolor{keywordtype}{void}\ BulletConeTwistConstraint::}
\DoxyCodeLine{00113\ set\_fix\_threshold(PN\_stdfloat\ threshold)\ \{}
\DoxyCodeLine{00114\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \_constraint-\/>setFixThresh(threshold);}
\DoxyCodeLine{00117\ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00122\ \textcolor{keywordtype}{void}\ BulletConeTwistConstraint::}
\DoxyCodeLine{00123\ enable\_motor(\textcolor{keywordtype}{bool}\ enable)\ \{}
\DoxyCodeLine{00124\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \_constraint-\/>enableMotor(enable);}
\DoxyCodeLine{00127\ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00132\ \textcolor{keywordtype}{void}\ BulletConeTwistConstraint::}
\DoxyCodeLine{00133\ set\_max\_motor\_impulse(PN\_stdfloat\ max\_impulse)\ \{}
\DoxyCodeLine{00134\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \_constraint-\/>setMaxMotorImpulse(max\_impulse);}
\DoxyCodeLine{00137\ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00142\ \textcolor{keywordtype}{void}\ BulletConeTwistConstraint::}
\DoxyCodeLine{00143\ set\_max\_motor\_impulse\_normalized(PN\_stdfloat\ max\_impulse)\ \{}
\DoxyCodeLine{00144\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \_constraint-\/>setMaxMotorImpulseNormalized(max\_impulse);}
\DoxyCodeLine{00147\ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00152\ \textcolor{keywordtype}{void}\ BulletConeTwistConstraint::}
\DoxyCodeLine{00153\ set\_motor\_target(\textcolor{keyword}{const}\ LQuaternion\ \&quat)\ \{}
\DoxyCodeLine{00154\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \_constraint-\/>setMotorTarget(LQuaternion\_to\_btQuat(quat));}
\DoxyCodeLine{00157\ \}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00162\ \textcolor{keywordtype}{void}\ BulletConeTwistConstraint::}
\DoxyCodeLine{00163\ set\_motor\_target\_in\_constraint\_space(\textcolor{keyword}{const}\ LQuaternion\ \&quat)\ \{}
\DoxyCodeLine{00164\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \_constraint-\/>setMotorTargetInConstraintSpace(LQuaternion\_to\_btQuat(quat));}
\DoxyCodeLine{00167\ \}}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00172\ \textcolor{keywordtype}{void}\ BulletConeTwistConstraint::}
\DoxyCodeLine{00173\ set\_frames(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *ts\_a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *ts\_b)\ \{}
\DoxyCodeLine{00174\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ btTransform\ frame\_a\ =\ TransformState\_to\_btTrans(ts\_a);}
\DoxyCodeLine{00177\ \ \ btTransform\ frame\_b\ =\ TransformState\_to\_btTrans(ts\_b);}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \_constraint-\/>setFrames(frame\_a,\ frame\_b);}
\DoxyCodeLine{00180\ \}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00185\ CPT(\mbox{\hyperlink{classTransformState}{TransformState}})\ BulletConeTwistConstraint::}
\DoxyCodeLine{00186\ get\_frame\_a()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00187\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \textcolor{keywordflow}{return}\ btTrans\_to\_TransformState(\_constraint-\/>getAFrame());}
\DoxyCodeLine{00190\ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00195\ CPT(\mbox{\hyperlink{classTransformState}{TransformState}})\ BulletConeTwistConstraint::}
\DoxyCodeLine{00196\ get\_frame\_b()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00197\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \textcolor{keywordflow}{return}\ btTrans\_to\_TransformState(\_constraint-\/>getBFrame());}
\DoxyCodeLine{00200\ \}}

\end{DoxyCode}
