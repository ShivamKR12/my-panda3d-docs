\doxysection{geom\+Text\+Glyph.\+cxx}
\hypertarget{geomTextGlyph_8cxx_source}{}\label{geomTextGlyph_8cxx_source}\index{panda/src/text/geomTextGlyph.cxx@{panda/src/text/geomTextGlyph.cxx}}
\mbox{\hyperlink{geomTextGlyph_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{geomTextGlyph_8h}{geomTextGlyph.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagramIterator_8h}{datagramIterator.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamReader_8h}{bamReader.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{indent_8h}{indent.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ GeomTextGlyph::\_type\_handle;}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00025\ GeomTextGlyph::}
\DoxyCodeLine{00026\ GeomTextGlyph(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTextGlyph}{TextGlyph}}\ *glyph,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomVertexData}{GeomVertexData}}\ *data)\ :}
\DoxyCodeLine{00027\ \ \ \mbox{\hyperlink{classGeom}{Geom}}(data)}
\DoxyCodeLine{00028\ \{}
\DoxyCodeLine{00029\ \ \ \textcolor{comment}{//\ Initially,\ there\ is\ only\ one\ glyph\ in\ the\ Geom.\ \ There\ might\ be}}
\DoxyCodeLine{00030\ \ \ \textcolor{comment}{//\ additional\ Glyphs\ later\ when\ we\ flatten\ the\ graph\ and\ call\ Geom::unify().}}
\DoxyCodeLine{00031\ \ \ \textcolor{keywordflow}{if}\ (glyph\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \_glyphs.reserve(1);}
\DoxyCodeLine{00033\ \ \ \ \ \_glyphs.push\_back(glyph);}
\DoxyCodeLine{00034\ \ \ \}}
\DoxyCodeLine{00035\ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00040\ GeomTextGlyph::}
\DoxyCodeLine{00041\ GeomTextGlyph(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomVertexData}{GeomVertexData}}\ *data)\ :}
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{classGeom}{Geom}}(data)}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \ \ \textcolor{comment}{//\ With\ this\ constructor,\ there\ are\ no\ glyphs\ initially.}}
\DoxyCodeLine{00045\ \}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00050\ GeomTextGlyph::}
\DoxyCodeLine{00051\ GeomTextGlyph(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomTextGlyph}{GeomTextGlyph}}\ \&copy)\ :}
\DoxyCodeLine{00052\ \ \ \mbox{\hyperlink{classGeom}{Geom}}(copy),}
\DoxyCodeLine{00053\ \ \ \_glyphs(copy.\_glyphs)}
\DoxyCodeLine{00054\ \{}
\DoxyCodeLine{00055\ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00060\ GeomTextGlyph::}
\DoxyCodeLine{00061\ GeomTextGlyph(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeom}{Geom}}\ \&copy,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTextGlyph}{TextGlyph}}\ *glyph)\ :}
\DoxyCodeLine{00062\ \ \ \mbox{\hyperlink{classGeom}{Geom}}(copy)}
\DoxyCodeLine{00063\ \{}
\DoxyCodeLine{00064\ \ \ \textcolor{keywordflow}{if}\ (glyph\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \_glyphs.reserve(1);}
\DoxyCodeLine{00066\ \ \ \ \ \_glyphs.push\_back(glyph);}
\DoxyCodeLine{00067\ \ \ \}}
\DoxyCodeLine{00068\ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00073\ GeomTextGlyph::}
\DoxyCodeLine{00074\ \string~GeomTextGlyph()\ \{}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00082\ \mbox{\hyperlink{classGeom}{Geom}}\ *\mbox{\hyperlink{classGeomTextGlyph_a08147a11e99465fd3072b554428d6361}{GeomTextGlyph::}}}
\DoxyCodeLine{00083\ \mbox{\hyperlink{classGeomTextGlyph_a08147a11e99465fd3072b554428d6361}{make\_copy}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00084\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGeomTextGlyph}{GeomTextGlyph}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{00085\ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00097\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGeomTextGlyph_ac82428b11d20a367c923e0521f2959c4}{GeomTextGlyph::}}}
\DoxyCodeLine{00098\ \mbox{\hyperlink{classGeomTextGlyph_ac82428b11d20a367c923e0521f2959c4}{copy\_primitives\_from}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeom}{Geom}}\ *other)\ \{}
\DoxyCodeLine{00099\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classGeom_a35a815361d4fbd3d05d4a68743703120}{Geom::copy\_primitives\_from}}(other))\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00101\ \ \ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomTextGlyph}{GeomTextGlyph}}\ *tother;}
\DoxyCodeLine{00104\ \ \ DCAST\_INTO\_R(tother,\ other,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \textcolor{comment}{//\ Also\ copy\ the\ glyph\ pointers.}}
\DoxyCodeLine{00107\ \ \ \_glyphs.reserve(\_glyphs.size()\ +\ tother-\/>\_glyphs.size());}
\DoxyCodeLine{00108\ \ \ \_glyphs.insert(\_glyphs.end(),\ tother-\/>\_glyphs.begin(),\ tother-\/>\_glyphs.end());}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00111\ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00121\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGeomTextGlyph_ad2ab580c547602b816cca90d110d6b9c}{GeomTextGlyph::}}}
\DoxyCodeLine{00122\ \mbox{\hyperlink{classGeomTextGlyph_ad2ab580c547602b816cca90d110d6b9c}{count\_geom}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGeom}{Geom}}\ *other)\ \{}
\DoxyCodeLine{00123\ \ \ \textcolor{keywordflow}{if}\ (other-\/>is\_of\_type(GeomTextGlyph::get\_class\_type()))\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classGeomTextGlyph}{GeomTextGlyph}}\ *tother;}
\DoxyCodeLine{00125\ \ \ \ \ DCAST\_INTO\_V(tother,\ other);}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \_glyphs.reserve(\_glyphs.size()\ +\ tother-\/>\_glyphs.size());}
\DoxyCodeLine{00128\ \ \ \ \ \_glyphs.insert(\_glyphs.end(),\ tother-\/>\_glyphs.begin(),\ tother-\/>\_glyphs.end());}
\DoxyCodeLine{00129\ \ \ \}}
\DoxyCodeLine{00130\ \}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00135\ \textcolor{keywordtype}{void}\ GeomTextGlyph::}
\DoxyCodeLine{00136\ output(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00137\ \ \ Geom::output(out);}
\DoxyCodeLine{00138\ \ \ out\ <<\ \textcolor{stringliteral}{"{},\ glyphs:\ ["{}};}
\DoxyCodeLine{00139\ \ \ Glyphs::const\_iterator\ gi;}
\DoxyCodeLine{00140\ \ \ \textcolor{keywordflow}{for}\ (gi\ =\ \_glyphs.begin();\ gi\ !=\ \_glyphs.end();\ ++gi)\ \{}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTextGlyph}{TextGlyph}}\ *glyph\ =\ (*gi);}
\DoxyCodeLine{00142\ \ \ \ \ nassertv(glyph\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00143\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ glyph-\/>get\_character();}
\DoxyCodeLine{00144\ \ \ \}}
\DoxyCodeLine{00145\ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ ]"{}};}
\DoxyCodeLine{00146\ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00151\ \textcolor{keywordtype}{void}\ GeomTextGlyph::}
\DoxyCodeLine{00152\ write(std::ostream\ \&out,\ \textcolor{keywordtype}{int}\ indent\_level)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00153\ \ \ Geom::write(out,\ indent\_level);}
\DoxyCodeLine{00154\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)}
\DoxyCodeLine{00155\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Glyphs:\ ["{}};}
\DoxyCodeLine{00156\ \ \ Glyphs::const\_iterator\ gi;}
\DoxyCodeLine{00157\ \ \ \textcolor{keywordflow}{for}\ (gi\ =\ \_glyphs.begin();\ gi\ !=\ \_glyphs.end();\ ++gi)\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTextGlyph}{TextGlyph}}\ *glyph\ =\ (*gi);}
\DoxyCodeLine{00159\ \ \ \ \ nassertv(glyph\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00160\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ "{}}\ <<\ glyph-\/>get\_character();}
\DoxyCodeLine{00161\ \ \ \}}
\DoxyCodeLine{00162\ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ ]\(\backslash\)n"{}};}
\DoxyCodeLine{00163\ \}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00168\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGeomTextGlyph_a8605787c84971dbb6e7eed8ec7db2024}{GeomTextGlyph::}}}
\DoxyCodeLine{00169\ \mbox{\hyperlink{classGeomTextGlyph_a8605787c84971dbb6e7eed8ec7db2024}{add\_glyph}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTextGlyph}{TextGlyph}}\ *glyph)\ \{}
\DoxyCodeLine{00170\ \ \ \_glyphs.push\_back(glyph);}
\DoxyCodeLine{00171\ \}}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00176\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGeomTextGlyph_a0d1b661b8d4031dc68b326ab6c1645bc}{GeomTextGlyph::}}}
\DoxyCodeLine{00177\ \mbox{\hyperlink{classGeomTextGlyph_a0d1b661b8d4031dc68b326ab6c1645bc}{register\_with\_read\_factory}}()\ \{}
\DoxyCodeLine{00178\ \ \ BamReader::get\_factory()-\/>register\_factory(get\_class\_type(),\ \mbox{\hyperlink{classGeomTextGlyph_aa4bff7eebd1f9e149ee0e01084cd227e}{make\_from\_bam}});}
\DoxyCodeLine{00179\ \}}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00184\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *\mbox{\hyperlink{classGeomTextGlyph_aa4bff7eebd1f9e149ee0e01084cd227e}{GeomTextGlyph::}}}
\DoxyCodeLine{00185\ \mbox{\hyperlink{classGeomTextGlyph_aa4bff7eebd1f9e149ee0e01084cd227e}{make\_from\_bam}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFactoryParams}{FactoryParams}}\ \&params)\ \{}
\DoxyCodeLine{00186\ \ \ \mbox{\hyperlink{classGeomTextGlyph}{GeomTextGlyph}}\ *me\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGeomTextGlyph}{GeomTextGlyph}}(\textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00187\ \ \ \mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ scan;}
\DoxyCodeLine{00188\ \ \ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager;}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ parse\_params(params,\ scan,\ manager);}
\DoxyCodeLine{00191\ \ \ me-\/>\mbox{\hyperlink{classGeom_ab345a64e6e460823e22a6e140d92edfe}{fillin}}(scan,\ manager);}
\DoxyCodeLine{00192\ \ \ \textcolor{keywordflow}{return}\ me;}
\DoxyCodeLine{00193\ \}}

\end{DoxyCode}
