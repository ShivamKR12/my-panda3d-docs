\doxysection{panda/src/gobj/geom\+Primitive.cxx File Reference}
\hypertarget{geomPrimitive_8cxx}{}\label{geomPrimitive_8cxx}\index{panda/src/gobj/geomPrimitive.cxx@{panda/src/gobj/geomPrimitive.cxx}}
{\ttfamily \#include "{}geom\+Primitive.\+h"{}}\newline
{\ttfamily \#include "{}geom.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Patches.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Data.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Array\+Format.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Column.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Reader.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Writer.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Rewriter.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Points.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Lines.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Triangles.\+h"{}}\newline
{\ttfamily \#include "{}prepared\+Graphics\+Objects.\+h"{}}\newline
{\ttfamily \#include "{}internal\+Name.\+h"{}}\newline
{\ttfamily \#include "{}bam\+Reader.\+h"{}}\newline
{\ttfamily \#include "{}bam\+Writer.\+h"{}}\newline
{\ttfamily \#include "{}io\+Pta\+Datagram\+Int.\+h"{}}\newline
{\ttfamily \#include "{}indent.\+h"{}}\newline
{\ttfamily \#include "{}p\+Stat\+Timer.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{geomPrimitive_8cxx_a04fe305f2046d867db9c111b2d7bfc07}{PT}} (\mbox{\hyperlink{classCopyOnWriteObject}{Copy\+On\+Write\+Object}}) \mbox{\hyperlink{classGeomPrimitive}{Geom\+Primitive}}
\item 
\mbox{\hyperlink{geomPrimitive_8cxx_a3b30155f58fe951725b3733ecd3fb428}{CPT}} (\mbox{\hyperlink{classGeomPrimitive}{Geom\+Primitive}}) \mbox{\hyperlink{classGeomPrimitive}{Geom\+Primitive}}
\item 
\mbox{\hyperlink{geomPrimitive_8cxx_a0eb333d6fbf63c9660f5edb1799a59ec}{PT}} (\mbox{\hyperlink{classGeomVertexArrayData}{Geom\+Vertex\+Array\+Data}}) \mbox{\hyperlink{classGeomPrimitive}{Geom\+Primitive}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PANDA 3D SOFTWARE Copyright (c) Carnegie Mellon University. All rights reserved.

All use of this software is subject to the terms of the revised BSD license. You should have received a copy of this license along with this source code in a file named "{}\+LICENSE."{}

\begin{DoxyAuthor}{Author}
drose 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2005-\/03-\/06 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{geomPrimitive_8cxx_a3b30155f58fe951725b3733ecd3fb428}\label{geomPrimitive_8cxx_a3b30155f58fe951725b3733ecd3fb428} 
\index{geomPrimitive.cxx@{geomPrimitive.cxx}!CPT@{CPT}}
\index{CPT@{CPT}!geomPrimitive.cxx@{geomPrimitive.cxx}}
\doxysubsubsection{\texorpdfstring{CPT()}{CPT()}}
{\footnotesize\ttfamily CPT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classGeomPrimitive}{Geom\+Primitive}}}]{ }\end{DoxyParamCaption})}

Decomposes a complex primitive type into a simpler primitive type, for instance triangle strips to triangles, and returns a pointer to the new primitive definition. If the decomposition cannot be performed, this might return the original object.

This method is useful for application code that wants to iterate through the set of triangles on the primitive without having to write handlers for each possible kind of primitive type. Returns a new primitive with the shade\+\_\+model reversed (if it is flat shaded), if possible. If the primitive type cannot be rotated, returns the original primitive, unrotated.

If the current shade\+\_\+model indicates flat\+\_\+vertex\+\_\+last, this should bring the last vertex to the first position; if it indicates flat\+\_\+vertex\+\_\+first, this should bring the first vertex to the last position. Duplicates triangles in the primitive so that each triangle is back-\/to-\/back with another triangle facing in the opposite direction. Note that this doesn\textquotesingle{}t affect vertex normals, so this operation alone won\textquotesingle{}t work in the presence of lighting (but see Scene\+Graph\+Reducer\+::doubleside()).

Also see \doxylink{classCullFaceAttrib}{Cull\+Face\+Attrib}, which can enable rendering of both sides of a triangle without having to duplicate it (but which doesn\textquotesingle{}t necessarily work in the presence of lighting). Reverses the winding order in the primitive so that each triangle is facing in the opposite direction it was originally. Note that this doesn\textquotesingle{}t affect vertex normals, so this operation alone won\textquotesingle{}t work in the presence of lighting (but see Scene\+Graph\+Reducer\+::reverse()).

Also see \doxylink{classCullFaceAttrib}{Cull\+Face\+Attrib}, which can change the visible direction of a triangle without having to duplicate it (but which doesn\textquotesingle{}t necessarily work in the presence of lighting). Returns a new primitive that is compatible with the indicated shade model, if possible, or NULL if this is not possible.

In most cases, this will return either NULL or the original primitive. In the case of a SM\+\_\+flat\+\_\+first\+\_\+vertex vs. a SM\+\_\+flat\+\_\+last\+\_\+vertex (or vice-\/ versa), however, it will return a rotated primitive. Returns a new \doxylink{classGeomPoints}{Geom\+Points} primitive that represents each of the vertices in the original primitive, rendered exactly once. If the original primitive is already a \doxylink{classGeomPoints}{Geom\+Points} primitive, returns the original primitive unchanged. Returns a new \doxylink{classGeomLines}{Geom\+Lines} primitive that represents each of the edges in the original primitive rendered as a line. If the original primitive is already a \doxylink{classGeomLines}{Geom\+Lines} primitive, returns the original primitive unchanged. Decomposes a complex primitive type into a simpler primitive type, for instance triangle strips to triangles, puts these in a new \doxylink{classGeomPatches}{Geom\+Patches} object and returns a pointer to the new primitive definition. If the decomposition cannot be performed, this might return the original object.

This method is useful for application code that wants to use tesselation shaders on arbitrary geometry. Adds adjacency information to this primitive. May return null if this type of geometry does not support adjacency information.

\begin{DoxySince}{Since}
1.\+10.\+0 Returns the number of bytes consumed by the primitive and its index table(s). Returns true if the primitive data is currently resident in memory. If this returns false, the primitive data will be brought back into memory shortly; try again later. Returns a modifiable pointer to the vertex index list, so application code can directly fiddle with this data. Use with caution, since there are no checks that the data will be left in a stable state.
\end{DoxySince}
If this is called on a nonindexed primitive, it will implicitly be converted to an indexed primitive.

If num\+\_\+vertices is not -\/1, it specifies an artificial limit to the number of vertices in the array. Otherwise, all of the vertices in the array will be used.

Don\textquotesingle{}t call this in a downstream thread unless you don\textquotesingle{}t mind it blowing away other changes you might have recently made in an upstream thread.

This method is intended for low-\/level usage only. There are higher-\/level methods for more common usage. We recommend you do not use this method directly. If you do, be sure you know what you are doing!

Decomposes a complex primitive type into a simpler primitive type, for instance triangle strips to triangles, and returns a pointer to the new primitive definition. If the decomposition cannot be performed, this might return the original object.

This method is useful for application code that wants to iterate through the set of triangles on the primitive without having to write handlers for each possible kind of primitive type. The virtual implementation of rotate(). The virtual implementation of doubleside(). The virtual implementation of reverse(). Should be redefined to return true in any primitive that implements append\+\_\+unused\+\_\+vertices(). Called when a new primitive is begun (other than the first primitive), this should add some degenerate vertices between primitives, if the primitive type requires that. The second parameter is the first vertex that begins the new primitive.

This method is only called if requires\+\_\+unused\+\_\+vertices(), above, returns true. \Hypertarget{geomPrimitive_8cxx_a04fe305f2046d867db9c111b2d7bfc07}\label{geomPrimitive_8cxx_a04fe305f2046d867db9c111b2d7bfc07} 
\index{geomPrimitive.cxx@{geomPrimitive.cxx}!PT@{PT}}
\index{PT@{PT}!geomPrimitive.cxx@{geomPrimitive.cxx}}
\doxysubsubsection{\texorpdfstring{PT()}{PT()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily PT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classCopyOnWriteObject}{Copy\+On\+Write\+Object}}}]{ }\end{DoxyParamCaption})}

Required to implement \doxylink{classCopyOnWriteObject}{Copy\+On\+Write\+Object}. \Hypertarget{geomPrimitive_8cxx_a0eb333d6fbf63c9660f5edb1799a59ec}\label{geomPrimitive_8cxx_a0eb333d6fbf63c9660f5edb1799a59ec} 
\index{geomPrimitive.cxx@{geomPrimitive.cxx}!PT@{PT}}
\index{PT@{PT}!geomPrimitive.cxx@{geomPrimitive.cxx}}
\doxysubsubsection{\texorpdfstring{PT()}{PT()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily PT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classGeomVertexArrayData}{Geom\+Vertex\+Array\+Data}}}]{ }\end{DoxyParamCaption})}

The private implementation of modify\+\_\+vertices(). 