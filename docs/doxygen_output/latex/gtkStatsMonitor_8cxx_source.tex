\doxysection{gtk\+Stats\+Monitor.\+cxx}
\hypertarget{gtkStatsMonitor_8cxx_source}{}\label{gtkStatsMonitor_8cxx_source}\index{pandatool/src/gtk-\/stats/gtkStatsMonitor.cxx@{pandatool/src/gtk-\/stats/gtkStatsMonitor.cxx}}
\mbox{\hyperlink{gtkStatsMonitor_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsMonitor_8h}{gtkStatsMonitor.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStats_8h}{gtkStats.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsServer_8h}{gtkStatsServer.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsStripChart_8h}{gtkStatsStripChart.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsChartMenu_8h}{gtkStatsChartMenu.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsPianoRoll_8h}{gtkStatsPianoRoll.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsFlameGraph_8h}{gtkStatsFlameGraph.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsTimeline_8h}{gtkStatsTimeline.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pStatGraph_8h}{pStatGraph.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pStatCollectorDef_8h}{pStatCollectorDef.h}}"{}}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{convert__srgb_8h}{convert\_srgb.h}}"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00030\ GtkStatsMonitor::}
\DoxyCodeLine{00031\ GtkStatsMonitor(\mbox{\hyperlink{classGtkStatsServer}{GtkStatsServer}}\ *server)\ :\ \mbox{\hyperlink{classPStatMonitor}{PStatMonitor}}(server)\ \{}
\DoxyCodeLine{00032\ \ \ \_window\ =\ server-\/>\mbox{\hyperlink{classGtkStatsServer_a8e97b79e5783a24824468f21008c532c}{get\_window}}();}
\DoxyCodeLine{00033\ \ \ \_menu\_bar\ =\ server-\/>\mbox{\hyperlink{classGtkStatsServer_a6b240ed53e9004714a1958e4defee938}{get\_menu\_bar}}();}
\DoxyCodeLine{00034\ \ \ \_status\_bar\ =\ server-\/>\mbox{\hyperlink{classGtkStatsServer_afe12df7ed1d4f597c47992805294c4d9}{get\_status\_bar}}();}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \textcolor{comment}{//\ These\ will\ be\ filled\ in\ later\ when\ the\ menu\ is\ created.}}
\DoxyCodeLine{00037\ \ \ \_scroll\_speed\ =\ 0.0;}
\DoxyCodeLine{00038\ \ \ \_pause\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00039\ \ \ \_next\_chart\_index\ =\ 2;}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \_resolution\ =\ gdk\_screen\_get\_resolution(gdk\_screen\_get\_default());}
\DoxyCodeLine{00042\ \ \ setup\_speed\_menu();}
\DoxyCodeLine{00043\ \ \ setup\_frame\_rate\_label();}
\DoxyCodeLine{00044\ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00049\ GtkStatsMonitor::}
\DoxyCodeLine{00050\ \string~GtkStatsMonitor()\ \{}
\DoxyCodeLine{00051\ \ \ \mbox{\hyperlink{classGtkStatsMonitor_a7724a7a9c65479d808a18459678ca17d}{close}}();}
\DoxyCodeLine{00052\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00057\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a7724a7a9c65479d808a18459678ca17d}{GtkStatsMonitor::}}}
\DoxyCodeLine{00058\ \mbox{\hyperlink{classGtkStatsMonitor_a7724a7a9c65479d808a18459678ca17d}{close}}()\ \{}
\DoxyCodeLine{00059\ \ \ \mbox{\hyperlink{classPStatMonitor_a83b375e502c3acf7d613a096ded0bdbd}{PStatMonitor::close}}();}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \mbox{\hyperlink{classGtkStatsMonitor_a1aa9701eed9db09c44e9fae327bfc949}{remove\_all\_graphs}}();}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \textcolor{keywordflow}{for}\ (GtkWidget\ *flow\_box\_child\ :\ \_status\_bar\_labels)\ \{}
\DoxyCodeLine{00064\ \ \ \ \ gtk\_container\_remove(GTK\_CONTAINER(\_status\_bar),\ flow\_box\_child);}
\DoxyCodeLine{00065\ \ \ \ \ g\_object\_unref(flow\_box\_child);}
\DoxyCodeLine{00066\ \ \ \}}
\DoxyCodeLine{00067\ \ \ \_status\_bar\_collectors.clear();}
\DoxyCodeLine{00068\ \ \ \_status\_bar\_labels.clear();}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \textcolor{keywordflow}{if}\ (\_speed\_menu\_item\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00071\ \ \ \ \ gtk\_container\_remove(GTK\_CONTAINER(\_menu\_bar),\ \_speed\_menu\_item);}
\DoxyCodeLine{00072\ \ \ \ \ \_speed\_menu\_item\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00073\ \ \ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsChartMenu}{GtkStatsChartMenu}}\ *chart\_menu\ :\ \_chart\_menus)\ \{}
\DoxyCodeLine{00076\ \ \ \ \ chart\_menu-\/>remove\_from\_menu\_bar(\_menu\_bar);}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keyword}{delete}\ chart\_menu;}
\DoxyCodeLine{00078\ \ \ \}}
\DoxyCodeLine{00079\ \ \ \_chart\_menus.clear();}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{if}\ (\_frame\_rate\_menu\_item\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00082\ \ \ \ \ gtk\_container\_remove(GTK\_CONTAINER(\_menu\_bar),\ \_frame\_rate\_menu\_item);}
\DoxyCodeLine{00083\ \ \ \ \ \_frame\_rate\_menu\_item\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00084\ \ \ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \_next\_chart\_index\ =\ 2;}
\DoxyCodeLine{00087\ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00093\ std::string\ \mbox{\hyperlink{classGtkStatsMonitor_ad246c885748e0104b4c6b94806cf5af0}{GtkStatsMonitor::}}}
\DoxyCodeLine{00094\ \mbox{\hyperlink{classGtkStatsMonitor_ad246c885748e0104b4c6b94806cf5af0}{get\_monitor\_name}}()\ \{}
\DoxyCodeLine{00095\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}GtkStats"{}};}
\DoxyCodeLine{00096\ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00105\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a0b29a971e46b8490815ab1fcba06314c}{GtkStatsMonitor::}}}
\DoxyCodeLine{00106\ \mbox{\hyperlink{classGtkStatsMonitor_a0b29a971e46b8490815ab1fcba06314c}{initialized}}()\ \{}
\DoxyCodeLine{00107\ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00113\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a2d0dcff38e6e7059e0b7504d4a2da7f2}{GtkStatsMonitor::}}}
\DoxyCodeLine{00114\ \mbox{\hyperlink{classGtkStatsMonitor_a2d0dcff38e6e7059e0b7504d4a2da7f2}{got\_hello}}()\ \{}
\DoxyCodeLine{00115\ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00124\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a9f3c85fc03ab03f971777422c428b208}{GtkStatsMonitor::}}}
\DoxyCodeLine{00125\ \mbox{\hyperlink{classGtkStatsMonitor_a9f3c85fc03ab03f971777422c428b208}{got\_bad\_version}}(\textcolor{keywordtype}{int}\ client\_major,\ \textcolor{keywordtype}{int}\ client\_minor,}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ server\_major,\ \textcolor{keywordtype}{int}\ server\_minor)\ \{}
\DoxyCodeLine{00127\ \ \ \mbox{\hyperlink{classstd_1_1ostringstream}{std::ostringstream}}\ str;}
\DoxyCodeLine{00128\ \ \ str\ <<\ \textcolor{stringliteral}{"{}Unable\ to\ honor\ connection\ attempt\ from\ "{}}}
\DoxyCodeLine{00129\ \ \ \ \ \ \ <<\ get\_client\_progname()\ <<\ \textcolor{stringliteral}{"{}\ on\ "{}}\ <<\ get\_client\_hostname()}
\DoxyCodeLine{00130\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}:\ unsupported\ PStats\ version\ "{}}}
\DoxyCodeLine{00131\ \ \ \ \ \ \ <<\ client\_major\ <<\ \textcolor{stringliteral}{"{}."{}}\ <<\ client\_minor;}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \textcolor{keywordflow}{if}\ (server\_minor\ ==\ 0)\ \{}
\DoxyCodeLine{00134\ \ \ \ \ str\ <<\ \textcolor{stringliteral}{"{}\ (server\ understands\ version\ "{}}\ <<\ server\_major}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}."{}}\ <<\ server\_minor\ <<\ \textcolor{stringliteral}{"{}\ only)."{}};}
\DoxyCodeLine{00136\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00137\ \ \ \ \ str\ <<\ \textcolor{stringliteral}{"{}\ (server\ understands\ versions\ "{}}\ <<\ server\_major}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}.0\ through\ "{}}\ <<\ server\_major\ <<\ \textcolor{stringliteral}{"{}."{}}\ <<\ server\_minor\ <<\ \textcolor{stringliteral}{"{})."{}};}
\DoxyCodeLine{00139\ \ \ \}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ std::string\ message\ =\ str.str();}
\DoxyCodeLine{00142\ \ \ GtkWidget\ *dialog\ =}
\DoxyCodeLine{00143\ \ \ \ \ gtk\_message\_dialog\_new(GTK\_WINDOW(\_window),}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GTK\_DIALOG\_DESTROY\_WITH\_PARENT,}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GTK\_MESSAGE\_ERROR,}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GTK\_BUTTONS\_CLOSE,}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\%s"{}},\ message.c\_str());}
\DoxyCodeLine{00148\ \ \ gtk\_dialog\_run(GTK\_DIALOG(dialog));}
\DoxyCodeLine{00149\ \ \ gtk\_widget\_destroy(dialog);}
\DoxyCodeLine{00150\ \}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00159\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_af7e6ffab476cee349d7c61281d1d3ebd}{GtkStatsMonitor::}}}
\DoxyCodeLine{00160\ \mbox{\hyperlink{classGtkStatsMonitor_af7e6ffab476cee349d7c61281d1d3ebd}{new\_collector}}(\textcolor{keywordtype}{int}\ collector\_index)\ \{}
\DoxyCodeLine{00161\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph\ :\ \_graphs)\ \{}
\DoxyCodeLine{00162\ \ \ \ \ graph-\/>new\_collector(collector\_index);}
\DoxyCodeLine{00163\ \ \ \}}
\DoxyCodeLine{00164\ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00173\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_ae635c4944060aacc55116c63a85508f7}{GtkStatsMonitor::}}}
\DoxyCodeLine{00174\ \mbox{\hyperlink{classGtkStatsMonitor_ae635c4944060aacc55116c63a85508f7}{new\_thread}}(\textcolor{keywordtype}{int}\ thread\_index)\ \{}
\DoxyCodeLine{00175\ \ \ \mbox{\hyperlink{classGtkStatsChartMenu}{GtkStatsChartMenu}}\ *chart\_menu\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGtkStatsChartMenu}{GtkStatsChartMenu}}(\textcolor{keyword}{this},\ thread\_index);}
\DoxyCodeLine{00176\ \ \ chart\_menu-\/>\mbox{\hyperlink{classGtkStatsChartMenu_a91c43f32b6ab279805252d2ba62d1933}{add\_to\_menu\_bar}}(\_menu\_bar,\ \_next\_chart\_index);}
\DoxyCodeLine{00177\ \ \ ++\_next\_chart\_index;}
\DoxyCodeLine{00178\ \ \ \_chart\_menus.push\_back(chart\_menu);}
\DoxyCodeLine{00179\ \}}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00187\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a086826a81e566504419b682391559b5d}{GtkStatsMonitor::}}}
\DoxyCodeLine{00188\ \mbox{\hyperlink{classGtkStatsMonitor_a086826a81e566504419b682391559b5d}{new\_data}}(\textcolor{keywordtype}{int}\ thread\_index,\ \textcolor{keywordtype}{int}\ frame\_number)\ \{}
\DoxyCodeLine{00189\ \ \ \mbox{\hyperlink{classPStatMonitor_a4bc7717cc967e0e4eb861979210b3aba}{PStatMonitor::new\_data}}(thread\_index,\ frame\_number);}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph\ :\ \_graphs)\ \{}
\DoxyCodeLine{00192\ \ \ \ \ graph-\/>new\_data(thread\_index,\ frame\_number);}
\DoxyCodeLine{00193\ \ \ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \textcolor{keywordflow}{if}\ (thread\_index\ ==\ 0)\ \{}
\DoxyCodeLine{00196\ \ \ \ \ update\_status\_bar();}
\DoxyCodeLine{00197\ \ \ \}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \textcolor{keywordflow}{if}\ (!\_have\_data)\ \{}
\DoxyCodeLine{00200\ \ \ \ \ \mbox{\hyperlink{classPStatMonitor_aa088e596e90d348e4624b7a9b687aa5c}{open\_default\_graphs}}();}
\DoxyCodeLine{00201\ \ \ \ \ \_have\_data\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{comment}{//\ Flash\ the\ window.}}
\DoxyCodeLine{00204\ \ \ \ \ gtk\_window\_set\_urgency\_hint(GTK\_WINDOW(\_window),\ TRUE);}
\DoxyCodeLine{00205\ \ \ \}}
\DoxyCodeLine{00206\ \}}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00211\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a3bf364e998f460d918f8e321cb763e39}{GtkStatsMonitor::}}}
\DoxyCodeLine{00212\ \mbox{\hyperlink{classGtkStatsMonitor_a3bf364e998f460d918f8e321cb763e39}{remove\_thread}}(\textcolor{keywordtype}{int}\ thread\_index)\ \{}
\DoxyCodeLine{00213\ \ \ \textcolor{keywordflow}{for}\ (ChartMenus::iterator\ it\ =\ \_chart\_menus.begin();\ it\ !=\ \_chart\_menus.end();\ ++it)\ \{}
\DoxyCodeLine{00214\ \ \ \ \ \mbox{\hyperlink{classGtkStatsChartMenu}{GtkStatsChartMenu}}\ *chart\_menu\ =\ *it;}
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keywordflow}{if}\ (chart\_menu-\/>get\_thread\_index()\ ==\ thread\_index)\ \{}
\DoxyCodeLine{00216\ \ \ \ \ \ \ chart\_menu-\/>\mbox{\hyperlink{classGtkStatsChartMenu_a131e475996240749a8e856614c003b62}{remove\_from\_menu\_bar}}(\_menu\_bar);}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \textcolor{keyword}{delete}\ chart\_menu;}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \_chart\_menus.erase(it);}
\DoxyCodeLine{00219\ \ \ \ \ \ \ -\/-\/\_next\_chart\_index;}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00221\ \ \ \ \ \}}
\DoxyCodeLine{00222\ \ \ \}}
\DoxyCodeLine{00223\ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00230\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a8e5a292d7748f060e53a626e228a3029}{GtkStatsMonitor::}}}
\DoxyCodeLine{00231\ \mbox{\hyperlink{classGtkStatsMonitor_a8e5a292d7748f060e53a626e228a3029}{lost\_connection}}()\ \{}
\DoxyCodeLine{00232\ \ \ nout\ <<\ \textcolor{stringliteral}{"{}Lost\ connection\ to\ "{}}\ <<\ get\_client\_hostname()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00233\ \}}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00239\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_af0701e83c6c4fc3e5441d0a96da3ba69}{GtkStatsMonitor::}}}
\DoxyCodeLine{00240\ \mbox{\hyperlink{classGtkStatsMonitor_af0701e83c6c4fc3e5441d0a96da3ba69}{idle}}()\ \{}
\DoxyCodeLine{00241\ \ \ \textcolor{comment}{//\ Check\ if\ any\ of\ our\ chart\ menus\ need\ updating.}}
\DoxyCodeLine{00242\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsChartMenu}{GtkStatsChartMenu}}\ *chart\_menu\ :\ \_chart\_menus)\ \{}
\DoxyCodeLine{00243\ \ \ \ \ chart\_menu-\/>check\_update();}
\DoxyCodeLine{00244\ \ \ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \ \ \textcolor{comment}{//\ Update\ the\ frame\ rate\ label\ from\ the\ main\ thread\ (thread\ 0).}}
\DoxyCodeLine{00247\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatThreadData}{PStatThreadData}}\ *thread\_data\ =\ get\_client\_data()-\/>\mbox{\hyperlink{classPStatClientData_a46e69042db6f96f3c5eb00990c904dc8}{get\_thread\_data}}(0);}
\DoxyCodeLine{00248\ \ \ \textcolor{keywordtype}{double}\ frame\_rate\ =\ thread\_data-\/>\mbox{\hyperlink{classPStatThreadData_a36bd71263c50a364e3f44627ec9c4606}{get\_frame\_rate}}();}
\DoxyCodeLine{00249\ \ \ \textcolor{keywordflow}{if}\ (frame\_rate\ !=\ 0.0f)\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keywordtype}{char}\ buffer[128];}
\DoxyCodeLine{00251\ \ \ \ \ sprintf(buffer,\ \textcolor{stringliteral}{"{}\%0.1f\ ms\ /\ \%0.1f\ Hz"{}},\ 1000.0f\ /\ frame\_rate,\ frame\_rate);}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \ \ \ \ gtk\_label\_set\_text(GTK\_LABEL(\_frame\_rate\_label),\ buffer);}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_status\_bar\_labels.empty())\ \{}
\DoxyCodeLine{00256\ \ \ \ \ \ \ GtkWidget\ *label\ =\ gtk\_bin\_get\_child(GTK\_BIN(\_status\_bar\_labels[0]));}
\DoxyCodeLine{00257\ \ \ \ \ \ \ gtk\_label\_set\_text(GTK\_LABEL(label),\ buffer);}
\DoxyCodeLine{00258\ \ \ \ \ \}}
\DoxyCodeLine{00259\ \ \ \}}
\DoxyCodeLine{00260\ \}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00266\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGtkStatsMonitor_a7e2bc2be212c447b790d3d3a56e08dd8}{GtkStatsMonitor::}}}
\DoxyCodeLine{00267\ \mbox{\hyperlink{classGtkStatsMonitor_a7e2bc2be212c447b790d3d3a56e08dd8}{has\_idle}}()\ \{}
\DoxyCodeLine{00268\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00269\ \}}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00274\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_afe02d1739b8d443c592b6454b0dc23e7}{GtkStatsMonitor::}}}
\DoxyCodeLine{00275\ \mbox{\hyperlink{classGtkStatsMonitor_afe02d1739b8d443c592b6454b0dc23e7}{user\_guide\_bars\_changed}}()\ \{}
\DoxyCodeLine{00276\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph\ :\ \_graphs)\ \{}
\DoxyCodeLine{00277\ \ \ \ \ graph-\/>user\_guide\_bars\_changed();}
\DoxyCodeLine{00278\ \ \ \}}
\DoxyCodeLine{00279\ \}}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00284\ GtkWidget\ *\mbox{\hyperlink{classGtkStatsMonitor_ad32f470df6f5c2589c3018207780f1c3}{GtkStatsMonitor::}}}
\DoxyCodeLine{00285\ \mbox{\hyperlink{classGtkStatsMonitor_ad32f470df6f5c2589c3018207780f1c3}{get\_window}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00286\ \ \ \textcolor{keywordflow}{return}\ \_window;}
\DoxyCodeLine{00287\ \}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00292\ GtkAccelGroup\ *GtkStatsMonitor::}
\DoxyCodeLine{00293\ get\_accel\_group()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00294\ \ \ \textcolor{keywordflow}{return}\ ((\mbox{\hyperlink{classGtkStatsServer}{GtkStatsServer}}\ *)\_server)-\/>get\_accel\_group();}
\DoxyCodeLine{00295\ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00300\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classGtkStatsMonitor_a0ab854d38f5cb9d8c134d11033bffa67}{GtkStatsMonitor::}}}
\DoxyCodeLine{00301\ \mbox{\hyperlink{classGtkStatsMonitor_a0ab854d38f5cb9d8c134d11033bffa67}{get\_resolution}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00302\ \ \ \textcolor{keywordflow}{return}\ \_resolution;}
\DoxyCodeLine{00303\ \}}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00308\ \mbox{\hyperlink{classPStatGraph}{PStatGraph}}\ *\mbox{\hyperlink{classGtkStatsMonitor_aa0344882ca7016dbb2e612f01a383f82}{GtkStatsMonitor::}}}
\DoxyCodeLine{00309\ \mbox{\hyperlink{classGtkStatsMonitor_aa0344882ca7016dbb2e612f01a383f82}{open\_timeline}}()\ \{}
\DoxyCodeLine{00310\ \ \ \mbox{\hyperlink{classGtkStatsTimeline}{GtkStatsTimeline}}\ *graph\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGtkStatsTimeline}{GtkStatsTimeline}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00311\ \ \ \mbox{\hyperlink{classGtkStatsMonitor_a8e780639e04ecb259ab10b35417848a8}{add\_graph}}(graph);}
\DoxyCodeLine{00312\ \ \ \textcolor{keywordflow}{return}\ graph;}
\DoxyCodeLine{00313\ \}}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00318\ \mbox{\hyperlink{classPStatGraph}{PStatGraph}}\ *\mbox{\hyperlink{classGtkStatsMonitor_a3054e3a48a5f9152d1b45763dc73456f}{GtkStatsMonitor::}}}
\DoxyCodeLine{00319\ \mbox{\hyperlink{classGtkStatsMonitor_a3054e3a48a5f9152d1b45763dc73456f}{open\_flame\_graph}}(\textcolor{keywordtype}{int}\ thread\_index,\ \textcolor{keywordtype}{int}\ collector\_index,\ \textcolor{keywordtype}{int}\ frame\_number)\ \{}
\DoxyCodeLine{00320\ \ \ \mbox{\hyperlink{classGtkStatsFlameGraph}{GtkStatsFlameGraph}}\ *graph\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGtkStatsFlameGraph}{GtkStatsFlameGraph}}(\textcolor{keyword}{this},\ thread\_index,\ collector\_index,\ frame\_number);}
\DoxyCodeLine{00321\ \ \ \mbox{\hyperlink{classGtkStatsMonitor_a8e780639e04ecb259ab10b35417848a8}{add\_graph}}(graph);}
\DoxyCodeLine{00322\ \ \ \textcolor{keywordflow}{return}\ graph;}
\DoxyCodeLine{00323\ \}}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00328\ \mbox{\hyperlink{classPStatGraph}{PStatGraph}}\ *\mbox{\hyperlink{classGtkStatsMonitor_a57f8bda512d7e71c2ee485d9661a38f8}{GtkStatsMonitor::}}}
\DoxyCodeLine{00329\ \mbox{\hyperlink{classGtkStatsMonitor_a57f8bda512d7e71c2ee485d9661a38f8}{open\_strip\_chart}}(\textcolor{keywordtype}{int}\ thread\_index,\ \textcolor{keywordtype}{int}\ collector\_index,\ \textcolor{keywordtype}{bool}\ show\_level)\ \{}
\DoxyCodeLine{00330\ \ \ \mbox{\hyperlink{classGtkStatsStripChart}{GtkStatsStripChart}}\ *graph\ =}
\DoxyCodeLine{00331\ \ \ \ \ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGtkStatsStripChart}{GtkStatsStripChart}}(\textcolor{keyword}{this},\ thread\_index,\ collector\_index,\ show\_level);}
\DoxyCodeLine{00332\ \ \ \mbox{\hyperlink{classGtkStatsMonitor_a8e780639e04ecb259ab10b35417848a8}{add\_graph}}(graph);}
\DoxyCodeLine{00333\ \ \ \textcolor{keywordflow}{return}\ graph;}
\DoxyCodeLine{00334\ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00339\ \mbox{\hyperlink{classPStatGraph}{PStatGraph}}\ *\mbox{\hyperlink{classGtkStatsMonitor_a4e028f877405a71add259a6d06fb119d}{GtkStatsMonitor::}}}
\DoxyCodeLine{00340\ \mbox{\hyperlink{classGtkStatsMonitor_a4e028f877405a71add259a6d06fb119d}{open\_piano\_roll}}(\textcolor{keywordtype}{int}\ thread\_index)\ \{}
\DoxyCodeLine{00341\ \ \ \mbox{\hyperlink{classGtkStatsPianoRoll}{GtkStatsPianoRoll}}\ *graph\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classGtkStatsPianoRoll}{GtkStatsPianoRoll}}(\textcolor{keyword}{this},\ thread\_index);}
\DoxyCodeLine{00342\ \ \ \mbox{\hyperlink{classGtkStatsMonitor_a8e780639e04ecb259ab10b35417848a8}{add\_graph}}(graph);}
\DoxyCodeLine{00343\ \ \ \textcolor{keywordflow}{return}\ graph;}
\DoxyCodeLine{00344\ \}}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00349\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a0eb544d844d68a09f948e724baa84ca3}{GtkStatsMonitor::}}}
\DoxyCodeLine{00350\ \mbox{\hyperlink{classGtkStatsMonitor_a0eb544d844d68a09f948e724baa84ca3}{choose\_collector\_color}}(\textcolor{keywordtype}{int}\ collector\_index)\ \{}
\DoxyCodeLine{00351\ \ \ \textcolor{keyword}{const}\ LRGBColor\ \&current\ =\ \mbox{\hyperlink{classPStatMonitor_ad9ffc763ea877e02022759a28c0449e6}{get\_collector\_color}}(collector\_index);}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ \ \ GtkWidget\ *chooser\ =\ gtk\_color\_chooser\_dialog\_new(\textcolor{keyword}{nullptr},\ GTK\_WINDOW(\_window));}
\DoxyCodeLine{00354\ \ \ gtk\_color\_chooser\_set\_use\_alpha(GTK\_COLOR\_CHOOSER(chooser),\ FALSE);}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \ \ GdkRGBA\ rgba;}
\DoxyCodeLine{00357\ \ \ rgba.red\ =\ encode\_sRGB\_float((\textcolor{keywordtype}{float})current[0]);}
\DoxyCodeLine{00358\ \ \ rgba.green\ =\ encode\_sRGB\_float((\textcolor{keywordtype}{float})current[1]);}
\DoxyCodeLine{00359\ \ \ rgba.blue\ =\ encode\_sRGB\_float((\textcolor{keywordtype}{float})current[2]);}
\DoxyCodeLine{00360\ \ \ rgba.alpha\ =\ 1.0;}
\DoxyCodeLine{00361\ \ \ gtk\_color\_chooser\_set\_rgba(GTK\_COLOR\_CHOOSER(chooser),\ \&rgba);}
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00363\ \ \ \textcolor{keywordflow}{if}\ (gtk\_dialog\_run(GTK\_DIALOG(chooser))\ ==\ GTK\_RESPONSE\_OK)\ \{}
\DoxyCodeLine{00364\ \ \ \ \ gtk\_color\_chooser\_get\_rgba(GTK\_COLOR\_CHOOSER(chooser),\ \&rgba);}
\DoxyCodeLine{00365\ \ \ \ \ LRGBColor\ result(}
\DoxyCodeLine{00366\ \ \ \ \ \ \ decode\_sRGB\_float((\textcolor{keywordtype}{float})rgba.red),}
\DoxyCodeLine{00367\ \ \ \ \ \ \ decode\_sRGB\_float((\textcolor{keywordtype}{float})rgba.green),}
\DoxyCodeLine{00368\ \ \ \ \ \ \ decode\_sRGB\_float((\textcolor{keywordtype}{float})rgba.blue));}
\DoxyCodeLine{00369\ }
\DoxyCodeLine{00370\ \ \ \ \ \mbox{\hyperlink{classPStatMonitor_a9f50836f722b9738e258b90a65402855}{set\_collector\_color}}(collector\_index,\ result);}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph\ :\ \_graphs)\ \{}
\DoxyCodeLine{00373\ \ \ \ \ \ \ graph-\/>reset\_collector\_color(collector\_index);}
\DoxyCodeLine{00374\ \ \ \ \ \}}
\DoxyCodeLine{00375\ \ \ \}}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \ \ gtk\_widget\_destroy(chooser);}
\DoxyCodeLine{00378\ \}}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00383\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a6e412663b4ffcb0235d4bded75957f84}{GtkStatsMonitor::}}}
\DoxyCodeLine{00384\ \mbox{\hyperlink{classGtkStatsMonitor_a6e412663b4ffcb0235d4bded75957f84}{reset\_collector\_color}}(\textcolor{keywordtype}{int}\ collector\_index)\ \{}
\DoxyCodeLine{00385\ \ \ \mbox{\hyperlink{classPStatMonitor_a5bb70f1407a516074a7fa71a724c9137}{clear\_collector\_color}}(collector\_index);}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph\ :\ \_graphs)\ \{}
\DoxyCodeLine{00388\ \ \ \ \ graph-\/>reset\_collector\_color(collector\_index);}
\DoxyCodeLine{00389\ \ \ \}}
\DoxyCodeLine{00390\ \}}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00396\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classGtkStatsMonitor_1_1MenuDef}{GtkStatsMonitor::MenuDef}}\ *\mbox{\hyperlink{classGtkStatsMonitor_a9e6da0c29b29e7bf376ebdf743968dd6}{GtkStatsMonitor::}}}
\DoxyCodeLine{00397\ \mbox{\hyperlink{classGtkStatsMonitor_a9e6da0c29b29e7bf376ebdf743968dd6}{add\_menu}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGtkStatsMonitor_1_1MenuDef}{MenuDef}}\ \&menu\_def)\ \{}
\DoxyCodeLine{00398\ \ \ std::pair<Menus::iterator,\ bool>\ result\ =\ \_menus.insert(menu\_def);}
\DoxyCodeLine{00399\ \ \ Menus::iterator\ mi\ =\ result.first;}
\DoxyCodeLine{00400\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classGtkStatsMonitor_1_1MenuDef}{GtkStatsMonitor::MenuDef}}\ \&new\_menu\_def\ =\ (*mi);}
\DoxyCodeLine{00401\ \ \ \textcolor{keywordflow}{if}\ (result.second)\ \{}
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{comment}{//\ A\ new\ MenuDef\ was\ inserted.}}
\DoxyCodeLine{00403\ \ \ \ \ ((\mbox{\hyperlink{classGtkStatsMonitor_1_1MenuDef}{GtkStatsMonitor::MenuDef}}\ \&)new\_menu\_def).\_monitor\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00404\ \ \ \}}
\DoxyCodeLine{00405\ \ \ \textcolor{keywordflow}{return}\ \&new\_menu\_def;}
\DoxyCodeLine{00406\ \}}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00413\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_aea298172c8d3e1b22c4531ecf061916d}{GtkStatsMonitor::}}}
\DoxyCodeLine{00414\ \mbox{\hyperlink{classGtkStatsMonitor_aea298172c8d3e1b22c4531ecf061916d}{set\_time\_units}}(\textcolor{keywordtype}{int}\ unit\_mask)\ \{}
\DoxyCodeLine{00415\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph\ :\ \_graphs)\ \{}
\DoxyCodeLine{00416\ \ \ \ \ graph-\/>set\_time\_units(unit\_mask);}
\DoxyCodeLine{00417\ \ \ \}}
\DoxyCodeLine{00418\ \}}
\DoxyCodeLine{00419\ }
\DoxyCodeLine{00424\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a53dfcd9b12c83960609efcae39f51654}{GtkStatsMonitor::}}}
\DoxyCodeLine{00425\ \mbox{\hyperlink{classGtkStatsMonitor_a53dfcd9b12c83960609efcae39f51654}{set\_scroll\_speed}}(\textcolor{keywordtype}{double}\ scroll\_speed)\ \{}
\DoxyCodeLine{00426\ \ \ \_scroll\_speed\ =\ scroll\_speed;}
\DoxyCodeLine{00427\ }
\DoxyCodeLine{00428\ \ \ \textcolor{comment}{//\ First,\ change\ all\ of\ the\ open\ graphs\ appropriately.}}
\DoxyCodeLine{00429\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph\ :\ \_graphs)\ \{}
\DoxyCodeLine{00430\ \ \ \ \ graph-\/>set\_scroll\_speed(\_scroll\_speed);}
\DoxyCodeLine{00431\ \ \ \}}
\DoxyCodeLine{00432\ \}}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00437\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_ae47e41302daa1e5c175aadb6ca9a19b0}{GtkStatsMonitor::}}}
\DoxyCodeLine{00438\ \mbox{\hyperlink{classGtkStatsMonitor_ae47e41302daa1e5c175aadb6ca9a19b0}{set\_pause}}(\textcolor{keywordtype}{bool}\ pause)\ \{}
\DoxyCodeLine{00439\ \ \ \_pause\ =\ pause;}
\DoxyCodeLine{00440\ }
\DoxyCodeLine{00441\ \ \ \textcolor{comment}{//\ First,\ change\ all\ of\ the\ open\ graphs\ appropriately.}}
\DoxyCodeLine{00442\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph\ :\ \_graphs)\ \{}
\DoxyCodeLine{00443\ \ \ \ \ graph-\/>set\_pause(\_pause);}
\DoxyCodeLine{00444\ \ \ \}}
\DoxyCodeLine{00445\ \}}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00450\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a8e780639e04ecb259ab10b35417848a8}{GtkStatsMonitor::}}}
\DoxyCodeLine{00451\ \mbox{\hyperlink{classGtkStatsMonitor_a8e780639e04ecb259ab10b35417848a8}{add\_graph}}(\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph)\ \{}
\DoxyCodeLine{00452\ \ \ \_graphs.insert(graph);}
\DoxyCodeLine{00453\ }
\DoxyCodeLine{00454\ \ \ graph-\/>\mbox{\hyperlink{classGtkStatsGraph_adffa13b8c44870fccf5f2ded9b6cdadd}{set\_time\_units}}(((\mbox{\hyperlink{classGtkStatsServer}{GtkStatsServer}}\ *)\_server)-\/>get\_time\_units());}
\DoxyCodeLine{00455\ \ \ graph-\/>\mbox{\hyperlink{classGtkStatsGraph_af5abacbf91dd0a5ea6beb06fe39c347c}{set\_scroll\_speed}}(\_scroll\_speed);}
\DoxyCodeLine{00456\ \ \ graph-\/>\mbox{\hyperlink{classGtkStatsGraph_ab2fe84b844cf4cf8acecf00fd7780cda}{set\_pause}}(\_pause);}
\DoxyCodeLine{00457\ \}}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00462\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a8cde2459628218f89b6a62e2ad615940}{GtkStatsMonitor::}}}
\DoxyCodeLine{00463\ \mbox{\hyperlink{classGtkStatsMonitor_a8cde2459628218f89b6a62e2ad615940}{remove\_graph}}(\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph)\ \{}
\DoxyCodeLine{00464\ \ \ Graphs::iterator\ gi\ =\ \_graphs.find(graph);}
\DoxyCodeLine{00465\ \ \ \textcolor{keywordflow}{if}\ (gi\ !=\ \_graphs.end())\ \{}
\DoxyCodeLine{00466\ \ \ \ \ \_graphs.erase(gi);}
\DoxyCodeLine{00467\ \ \ \ \ \textcolor{keyword}{delete}\ graph;}
\DoxyCodeLine{00468\ \ \ \}}
\DoxyCodeLine{00469\ \}}
\DoxyCodeLine{00470\ }
\DoxyCodeLine{00474\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a1aa9701eed9db09c44e9fae327bfc949}{GtkStatsMonitor::}}}
\DoxyCodeLine{00475\ \mbox{\hyperlink{classGtkStatsMonitor_a1aa9701eed9db09c44e9fae327bfc949}{remove\_all\_graphs}}()\ \{}
\DoxyCodeLine{00476\ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph\ :\ \_graphs)\ \{}
\DoxyCodeLine{00477\ \ \ \ \ \textcolor{keyword}{delete}\ graph;}
\DoxyCodeLine{00478\ \ \ \}}
\DoxyCodeLine{00479\ \ \ \_graphs.clear();}
\DoxyCodeLine{00480\ \}}
\DoxyCodeLine{00481\ }
\DoxyCodeLine{00485\ \textcolor{keywordtype}{void}\ GtkStatsMonitor::}
\DoxyCodeLine{00486\ setup\_speed\_menu()\ \{}
\DoxyCodeLine{00487\ \ \ GtkWidget\ *menu\ =\ gtk\_menu\_new();}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00489\ \ \ \_speed\_menu\_item\ =\ gtk\_menu\_item\_new\_with\_label(\textcolor{stringliteral}{"{}Speed"{}});}
\DoxyCodeLine{00490\ \ \ gtk\_menu\_item\_set\_submenu(GTK\_MENU\_ITEM(\_speed\_menu\_item),\ menu);}
\DoxyCodeLine{00491\ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(\_menu\_bar),\ \_speed\_menu\_item);}
\DoxyCodeLine{00492\ }
\DoxyCodeLine{00493\ \ \ GSList\ *group\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00494\ \ \ GtkWidget\ *item;}
\DoxyCodeLine{00495\ \ \ item\ =\ gtk\_radio\_menu\_item\_new\_with\_label(group,\ \textcolor{stringliteral}{"{}1"{}});}
\DoxyCodeLine{00496\ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(menu),\ item);}
\DoxyCodeLine{00497\ \ \ g\_signal\_connect(G\_OBJECT(item),\ \textcolor{stringliteral}{"{}toggled"{}},}
\DoxyCodeLine{00498\ \ \ \ \ G\_CALLBACK(+[](GtkMenuItem\ *item,\ gpointer\ data)\ \{}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (gtk\_check\_menu\_item\_get\_active(GTK\_CHECK\_MENU\_ITEM(item)))\ \{}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *)data;}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ self-\/>\mbox{\hyperlink{classGtkStatsMonitor_a53dfcd9b12c83960609efcae39f51654}{set\_scroll\_speed}}(1);}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00503\ \ \ \ \ \}),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00504\ \ \ group\ =\ gtk\_radio\_menu\_item\_get\_group(GTK\_RADIO\_MENU\_ITEM(item));}
\DoxyCodeLine{00505\ }
\DoxyCodeLine{00506\ \ \ item\ =\ gtk\_radio\_menu\_item\_new\_with\_label(group,\ \textcolor{stringliteral}{"{}2"{}});}
\DoxyCodeLine{00507\ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(menu),\ item);}
\DoxyCodeLine{00508\ \ \ g\_signal\_connect(G\_OBJECT(item),\ \textcolor{stringliteral}{"{}toggled"{}},}
\DoxyCodeLine{00509\ \ \ \ \ G\_CALLBACK(+[](GtkMenuItem\ *item,\ gpointer\ data)\ \{}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (gtk\_check\_menu\_item\_get\_active(GTK\_CHECK\_MENU\_ITEM(item)))\ \{}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *)data;}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ self-\/>\mbox{\hyperlink{classGtkStatsMonitor_a53dfcd9b12c83960609efcae39f51654}{set\_scroll\_speed}}(2);}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00514\ \ \ \ \ \}),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00515\ \ \ group\ =\ gtk\_radio\_menu\_item\_get\_group(GTK\_RADIO\_MENU\_ITEM(item));}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00517\ \ \ item\ =\ gtk\_radio\_menu\_item\_new\_with\_label(group,\ \textcolor{stringliteral}{"{}3"{}});}
\DoxyCodeLine{00518\ \ \ gtk\_check\_menu\_item\_set\_active(GTK\_CHECK\_MENU\_ITEM(item),\ TRUE);}
\DoxyCodeLine{00519\ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(menu),\ item);}
\DoxyCodeLine{00520\ \ \ g\_signal\_connect(G\_OBJECT(item),\ \textcolor{stringliteral}{"{}toggled"{}},}
\DoxyCodeLine{00521\ \ \ \ \ G\_CALLBACK(+[](GtkMenuItem\ *item,\ gpointer\ data)\ \{}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (gtk\_check\_menu\_item\_get\_active(GTK\_CHECK\_MENU\_ITEM(item)))\ \{}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *)data;}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ self-\/>\mbox{\hyperlink{classGtkStatsMonitor_a53dfcd9b12c83960609efcae39f51654}{set\_scroll\_speed}}(3);}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00526\ \ \ \ \ \}),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00527\ \ \ group\ =\ gtk\_radio\_menu\_item\_get\_group(GTK\_RADIO\_MENU\_ITEM(item));}
\DoxyCodeLine{00528\ }
\DoxyCodeLine{00529\ \ \ item\ =\ gtk\_radio\_menu\_item\_new\_with\_label(group,\ \textcolor{stringliteral}{"{}6"{}});}
\DoxyCodeLine{00530\ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(menu),\ item);}
\DoxyCodeLine{00531\ \ \ g\_signal\_connect(G\_OBJECT(item),\ \textcolor{stringliteral}{"{}toggled"{}},}
\DoxyCodeLine{00532\ \ \ \ \ G\_CALLBACK(+[](GtkMenuItem\ *item,\ gpointer\ data)\ \{}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (gtk\_check\_menu\_item\_get\_active(GTK\_CHECK\_MENU\_ITEM(item)))\ \{}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *)data;}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ self-\/>\mbox{\hyperlink{classGtkStatsMonitor_a53dfcd9b12c83960609efcae39f51654}{set\_scroll\_speed}}(6);}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00537\ \ \ \ \ \}),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00538\ \ \ group\ =\ gtk\_radio\_menu\_item\_get\_group(GTK\_RADIO\_MENU\_ITEM(item));}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00540\ \ \ item\ =\ gtk\_radio\_menu\_item\_new\_with\_label(group,\ \textcolor{stringliteral}{"{}12"{}});}
\DoxyCodeLine{00541\ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(menu),\ item);}
\DoxyCodeLine{00542\ \ \ g\_signal\_connect(G\_OBJECT(item),\ \textcolor{stringliteral}{"{}toggled"{}},}
\DoxyCodeLine{00543\ \ \ \ \ G\_CALLBACK(+[](GtkMenuItem\ *item,\ gpointer\ data)\ \{}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (gtk\_check\_menu\_item\_get\_active(GTK\_CHECK\_MENU\_ITEM(item)))\ \{}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *)data;}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ self-\/>\mbox{\hyperlink{classGtkStatsMonitor_a53dfcd9b12c83960609efcae39f51654}{set\_scroll\_speed}}(12);}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00548\ \ \ \ \ \}),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00549\ \ \ \textcolor{comment}{//group\ =\ gtk\_radio\_menu\_item\_get\_group(GTK\_RADIO\_MENU\_ITEM(item));}}
\DoxyCodeLine{00550\ }
\DoxyCodeLine{00551\ \ \ item\ =\ gtk\_separator\_menu\_item\_new();}
\DoxyCodeLine{00552\ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(menu),\ item);}
\DoxyCodeLine{00553\ }
\DoxyCodeLine{00554\ \ \ item\ =\ gtk\_check\_menu\_item\_new\_with\_label(\textcolor{stringliteral}{"{}pause"{}});}
\DoxyCodeLine{00555\ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(menu),\ item);}
\DoxyCodeLine{00556\ \ \ g\_signal\_connect(G\_OBJECT(item),\ \textcolor{stringliteral}{"{}toggled"{}},}
\DoxyCodeLine{00557\ \ \ \ \ G\_CALLBACK(+[](GtkMenuItem\ *item,\ gpointer\ data)\ \{}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *)data;}
\DoxyCodeLine{00559\ \ \ \ \ \ \ self-\/>\mbox{\hyperlink{classGtkStatsMonitor_ae47e41302daa1e5c175aadb6ca9a19b0}{set\_pause}}(gtk\_check\_menu\_item\_get\_active(GTK\_CHECK\_MENU\_ITEM(item)));}
\DoxyCodeLine{00560\ \ \ \ \ \}),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00562\ \ \ \mbox{\hyperlink{classGtkStatsMonitor_a53dfcd9b12c83960609efcae39f51654}{set\_scroll\_speed}}(3);}
\DoxyCodeLine{00563\ \ \ \mbox{\hyperlink{classGtkStatsMonitor_ae47e41302daa1e5c175aadb6ca9a19b0}{set\_pause}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00564\ }
\DoxyCodeLine{00565\ \ \ gtk\_widget\_show\_all(\_speed\_menu\_item);}
\DoxyCodeLine{00566\ \ \ ++\_next\_chart\_index;}
\DoxyCodeLine{00567\ \}}
\DoxyCodeLine{00568\ }
\DoxyCodeLine{00575\ \textcolor{keywordtype}{void}\ GtkStatsMonitor::}
\DoxyCodeLine{00576\ setup\_frame\_rate\_label()\ \{}
\DoxyCodeLine{00577\ \ \ \_frame\_rate\_menu\_item\ =\ gtk\_menu\_item\_new();}
\DoxyCodeLine{00578\ \ \ \_frame\_rate\_label\ =\ gtk\_label\_new(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00579\ \ \ gtk\_container\_add(GTK\_CONTAINER(\_frame\_rate\_menu\_item),\ \_frame\_rate\_label);}
\DoxyCodeLine{00580\ \ \ gtk\_widget\_set\_sensitive(\_frame\_rate\_menu\_item,\ FALSE);}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00582\ \ \ gtk\_widget\_show(\_frame\_rate\_menu\_item);}
\DoxyCodeLine{00583\ \ \ gtk\_widget\_show(\_frame\_rate\_label);}
\DoxyCodeLine{00584\ \ \ gtk\_menu\_item\_set\_right\_justified(GTK\_MENU\_ITEM(\_frame\_rate\_menu\_item),\ TRUE);}
\DoxyCodeLine{00585\ }
\DoxyCodeLine{00586\ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(\_menu\_bar),\ \_frame\_rate\_menu\_item);}
\DoxyCodeLine{00587\ \}}
\DoxyCodeLine{00588\ }
\DoxyCodeLine{00592\ \textcolor{keywordtype}{void}\ GtkStatsMonitor::}
\DoxyCodeLine{00593\ update\_status\_bar()\ \{}
\DoxyCodeLine{00594\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatClientData}{PStatClientData}}\ *client\_data\ =\ get\_client\_data();}
\DoxyCodeLine{00595\ \ \ \textcolor{keywordflow}{if}\ (client\_data\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00596\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00597\ \ \ \}}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatThreadData}{PStatThreadData}}\ *thread\_data\ =\ get\_client\_data()-\/>\mbox{\hyperlink{classPStatClientData_a46e69042db6f96f3c5eb00990c904dc8}{get\_thread\_data}}(0);}
\DoxyCodeLine{00600\ \ \ \textcolor{keywordflow}{if}\ (thread\_data\ ==\ \textcolor{keyword}{nullptr}\ ||\ thread\_data-\/>is\_empty())\ \{}
\DoxyCodeLine{00601\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00602\ \ \ \}}
\DoxyCodeLine{00603\ \ \ \textcolor{keywordtype}{int}\ frame\_number\ =\ thread\_data-\/>\mbox{\hyperlink{classPStatThreadData_a69bcce3d1e7df55590225f42c70d815c}{get\_latest\_frame\_number}}();}
\DoxyCodeLine{00604\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatFrameData}{PStatFrameData}}\ \&frame\_data\ =\ thread\_data-\/>\mbox{\hyperlink{classPStatThreadData_a418fd8083999201fe9601b35e607999c}{get\_latest\_frame}}();}
\DoxyCodeLine{00605\ }
\DoxyCodeLine{00606\ \ \ \mbox{\hyperlink{classpvector}{pvector<int>}}\ collectors;}
\DoxyCodeLine{00607\ }
\DoxyCodeLine{00608\ \ \ \textcolor{comment}{//\ The\ first\ label\ displays\ the\ frame\ rate.}}
\DoxyCodeLine{00609\ \ \ \textcolor{keywordtype}{size\_t}\ li\ =\ 1;}
\DoxyCodeLine{00610\ \ \ collectors.push\_back(0);}
\DoxyCodeLine{00611\ \ \ \textcolor{keywordflow}{if}\ (\_status\_bar\_labels.empty())\ \{}
\DoxyCodeLine{00612\ \ \ \ \ \textcolor{comment}{//\ As\ workaround\ for\ https://gitlab.gnome.org/GNOME/gtk/-\//merge\_requests/2029}}
\DoxyCodeLine{00613\ \ \ \ \ \textcolor{comment}{//\ We\ manually\ create\ a\ GtkFlowBoxChild\ instance\ and\ attach\ the\ label\ to\ it}}
\DoxyCodeLine{00614\ \ \ \ \ \textcolor{comment}{//\ and\ increase\ its\ reference\ count\ so\ it\ it\ not\ prematurely\ destroyed\ when}}
\DoxyCodeLine{00615\ \ \ \ \ \textcolor{comment}{//\ removed\ from\ the\ GtkFlowBox,\ causing\ the\ app\ to\ segfault.}}
\DoxyCodeLine{00616\ \ \ \ \ GtkWidget\ *label\ =\ gtk\_label\_new(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00617\ \ \ \ \ GtkWidget\ *flow\_box\_child\ =\ gtk\_flow\_box\_child\_new();}
\DoxyCodeLine{00618\ \ \ \ \ gtk\_container\_add(GTK\_CONTAINER(flow\_box\_child),\ label);}
\DoxyCodeLine{00619\ \ \ \ \ gtk\_container\_add(GTK\_CONTAINER(\_status\_bar),\ flow\_box\_child);}
\DoxyCodeLine{00620\ \ \ \ \ \_status\_bar\_labels.push\_back(flow\_box\_child);}
\DoxyCodeLine{00621\ \ \ \ \ g\_object\_ref(flow\_box\_child);}
\DoxyCodeLine{00622\ \ \ \}}
\DoxyCodeLine{00623\ }
\DoxyCodeLine{00624\ \ \ \textcolor{comment}{//\ Gather\ the\ top-\/level\ collector\ list.}}
\DoxyCodeLine{00625\ \ \ \textcolor{keywordtype}{int}\ num\_toplevel\_collectors\ =\ client\_data-\/>\mbox{\hyperlink{classPStatClientData_a86cbac0fa6c4d9c66ff2d24f001c3148}{get\_num\_toplevel\_collectors}}();}
\DoxyCodeLine{00626\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ tc\ =\ 0;\ tc\ <\ num\_toplevel\_collectors;\ tc++)\ \{}
\DoxyCodeLine{00627\ \ \ \ \ \textcolor{keywordtype}{int}\ collector\ =\ client\_data-\/>\mbox{\hyperlink{classPStatClientData_abce44a655ded672baee4aa5b2463169f}{get\_toplevel\_collector}}(tc);}
\DoxyCodeLine{00628\ \ \ \ \ \textcolor{keywordflow}{if}\ (client\_data-\/>\mbox{\hyperlink{classPStatClientData_aa9e2c591cab46b192ff3aa9409e1f681}{has\_collector}}(collector)\ \&\&}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ client\_data-\/>\mbox{\hyperlink{classPStatClientData_acb68b1772c25759dfffd96795a1da39d}{get\_collector\_has\_level}}(collector,\ 0))\ \{}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \mbox{\hyperlink{classPStatView}{PStatView}}\ \&view\ =\ \mbox{\hyperlink{classPStatMonitor_a230f979e07e144f103ebef614b030742}{get\_level\_view}}(collector,\ 0);}
\DoxyCodeLine{00631\ \ \ \ \ \ \ view.\mbox{\hyperlink{classPStatView_a58673e539f32b9df52b690e82a8fddbb}{set\_to\_frame}}(frame\_data);}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ =\ view.\mbox{\hyperlink{classPStatView_a2dcc2465a2515c85d8993b34c80e00ef}{get\_net\_value}}();}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (value\ ==\ 0.0)\ \{}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Don't\ include\ it\ unless\ we've\ included\ it\ before.}}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::find(\_status\_bar\_collectors.begin(),\ \_status\_bar\_collectors.end(),\ collector)\ ==\ \_status\_bar\_collectors.end())\ \{}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00639\ }
\DoxyCodeLine{00640\ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ the\ value\ for\ other\ threads\ that\ have\ this\ collector.}}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ thread\_index\ =\ 1;\ thread\_index\ <\ client\_data-\/>\mbox{\hyperlink{classPStatClientData_a37f031ee8fbaaa8c139ada02d19a1926}{get\_num\_threads}}();\ ++thread\_index)\ \{}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classPStatView}{PStatView}}\ \&view\ =\ \mbox{\hyperlink{classPStatMonitor_a230f979e07e144f103ebef614b030742}{get\_level\_view}}(collector,\ thread\_index);}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ view.\mbox{\hyperlink{classPStatView_a58673e539f32b9df52b690e82a8fddbb}{set\_to\_frame}}(frame\_number);}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ value\ +=\ view.\mbox{\hyperlink{classPStatView_a2dcc2465a2515c85d8993b34c80e00ef}{get\_net\_value}}();}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00646\ }
\DoxyCodeLine{00647\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatCollectorDef}{PStatCollectorDef}}\ \&def\ =\ client\_data-\/>\mbox{\hyperlink{classPStatClientData_a24e17a5885214596815115a8bb768e2a}{get\_collector\_def}}(collector);}
\DoxyCodeLine{00648\ \ \ \ \ \ \ std::string\ text\ =\ def.\_name;}
\DoxyCodeLine{00649\ \ \ \ \ \ \ text\ +=\ \textcolor{stringliteral}{"{}:\ "{}}\ +\ \mbox{\hyperlink{classPStatGraph_aa9829b73ad4d9ce79092eafcb3202b57}{PStatGraph::format\_number}}(value,\ PStatGraph::GBU\_named\ |\ PStatGraph::GBU\_show\_units,\ def.\_level\_units);}
\DoxyCodeLine{00650\ }
\DoxyCodeLine{00651\ \ \ \ \ \ \ GtkWidget\ *flow\_box\_child;}
\DoxyCodeLine{00652\ \ \ \ \ \ \ GtkWidget\ *label;}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (li\ <\ \_status\_bar\_labels.size())\ \{}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \ \ flow\_box\_child\ =\ \_status\_bar\_labels[li++];}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ label\ =\ gtk\_bin\_get\_child(GTK\_BIN(flow\_box\_child));}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ gtk\_label\_set\_text(GTK\_LABEL(label),\ text.c\_str());}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ label\ =\ gtk\_label\_new(text.c\_str());}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ See\ comment\ above}}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ flow\_box\_child\ =\ gtk\_flow\_box\_child\_new();}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ gtk\_container\_add(GTK\_CONTAINER(flow\_box\_child),\ label);}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ gtk\_container\_add(GTK\_CONTAINER(\_status\_bar),\ flow\_box\_child);}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \_status\_bar\_labels.push\_back(flow\_box\_child);}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ g\_object\_ref(flow\_box\_child);}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00667\ }
\DoxyCodeLine{00668\ \ \ \ \ \ \ collectors.push\_back(collector);}
\DoxyCodeLine{00669\ \ \ \ \ \}}
\DoxyCodeLine{00670\ \ \ \}}
\DoxyCodeLine{00671\ }
\DoxyCodeLine{00672\ \ \ \_status\_bar\_collectors\ =\ std::move(collectors);}
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00674\ \ \ gtk\_widget\_show\_all(\_status\_bar);}
\DoxyCodeLine{00675\ \}}
\DoxyCodeLine{00676\ }
\DoxyCodeLine{00680\ gboolean\ GtkStatsMonitor::}
\DoxyCodeLine{00681\ status\_bar\_button\_event(GtkWidget\ *widget,\ GdkEventButton\ *event,\ gpointer\ data)\ \{}
\DoxyCodeLine{00682\ \ \ \mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *monitor\ =\ (\mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *)data;}
\DoxyCodeLine{00683\ }
\DoxyCodeLine{00684\ \ \ GtkFlowBoxChild\ *child\ =\ gtk\_flow\_box\_get\_child\_at\_pos(}
\DoxyCodeLine{00685\ \ \ \ \ GTK\_FLOW\_BOX(monitor-\/>\_status\_bar),\ event-\/>x,\ event-\/>y);}
\DoxyCodeLine{00686\ \ \ \textcolor{keywordflow}{if}\ (child\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00687\ \ \ \ \ \textcolor{keywordflow}{return}\ FALSE;}
\DoxyCodeLine{00688\ \ \ \}}
\DoxyCodeLine{00689\ }
\DoxyCodeLine{00690\ \ \ \textcolor{comment}{//\ Which\ child\ is\ this?}}
\DoxyCodeLine{00691\ \ \ GList\ *children\ =\ gtk\_container\_get\_children(GTK\_CONTAINER(monitor-\/>\_status\_bar));}
\DoxyCodeLine{00692\ \ \ \textcolor{keywordtype}{int}\ index\ =\ g\_list\_index(children,\ child);}
\DoxyCodeLine{00693\ \ \ g\_list\_free(children);}
\DoxyCodeLine{00694\ \ \ \textcolor{keywordflow}{if}\ (index\ <\ 0\ ||\ (\textcolor{keywordtype}{size\_t})index\ >=\ monitor-\/>\_status\_bar\_labels.size())\ \{}
\DoxyCodeLine{00695\ \ \ \ \ \textcolor{keywordflow}{return}\ FALSE;}
\DoxyCodeLine{00696\ \ \ \}}
\DoxyCodeLine{00697\ }
\DoxyCodeLine{00698\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatClientData}{PStatClientData}}\ *client\_data\ =\ monitor-\/>get\_client\_data();}
\DoxyCodeLine{00699\ \ \ \textcolor{keywordflow}{if}\ (client\_data\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00700\ \ \ \ \ \textcolor{keywordflow}{return}\ FALSE;}
\DoxyCodeLine{00701\ \ \ \}}
\DoxyCodeLine{00702\ }
\DoxyCodeLine{00703\ \ \ \textcolor{keywordtype}{int}\ collector\ =\ monitor-\/>\_status\_bar\_collectors[index];}
\DoxyCodeLine{00704\ }
\DoxyCodeLine{00705\ \ \ \textcolor{keywordflow}{if}\ (event-\/>type\ ==\ GDK\_2BUTTON\_PRESS\ \&\&\ event-\/>button\ ==\ 1)\ \{}
\DoxyCodeLine{00706\ \ \ \ \ monitor-\/>\mbox{\hyperlink{classGtkStatsMonitor_a57f8bda512d7e71c2ee485d9661a38f8}{open\_strip\_chart}}(0,\ collector,\ collector\ !=\ 0);}
\DoxyCodeLine{00707\ }
\DoxyCodeLine{00708\ \ \ \ \ \textcolor{comment}{//\ Also\ open\ a\ strip\ chart\ for\ other\ threads\ with\ data\ for\ this}}
\DoxyCodeLine{00709\ \ \ \ \ \textcolor{comment}{//\ collector.}}
\DoxyCodeLine{00710\ \ \ \ \ \textcolor{keywordflow}{if}\ (collector\ !=\ 0)\ \{}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ thread\_index\ =\ 1;\ thread\_index\ <\ client\_data-\/>\mbox{\hyperlink{classPStatClientData_a37f031ee8fbaaa8c139ada02d19a1926}{get\_num\_threads}}();\ ++thread\_index)\ \{}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classPStatView}{PStatView}}\ \&view\ =\ monitor-\/>\mbox{\hyperlink{classPStatMonitor_a230f979e07e144f103ebef614b030742}{get\_level\_view}}(collector,\ thread\_index);}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (view.\mbox{\hyperlink{classPStatView_a2dcc2465a2515c85d8993b34c80e00ef}{get\_net\_value}}()\ >\ 0.0)\ \{}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \ \ monitor-\/>\mbox{\hyperlink{classGtkStatsMonitor_a57f8bda512d7e71c2ee485d9661a38f8}{open\_strip\_chart}}(thread\_index,\ collector,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00717\ \ \ \ \ \}}
\DoxyCodeLine{00718\ \ \ \ \ \textcolor{keywordflow}{return}\ TRUE;}
\DoxyCodeLine{00719\ \ \ \}}
\DoxyCodeLine{00720\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (event-\/>type\ ==\ GDK\_BUTTON\_PRESS\ \&\&\ event-\/>button\ ==\ 3\ \&\&\ index\ >\ 0)\ \{}
\DoxyCodeLine{00721\ \ \ \ \ \mbox{\hyperlink{classPStatView}{PStatView}}\ \&level\_view\ =\ monitor-\/>\mbox{\hyperlink{classPStatMonitor_a230f979e07e144f103ebef614b030742}{get\_level\_view}}(collector,\ 0);}
\DoxyCodeLine{00722\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatViewLevel}{PStatViewLevel}}\ *view\_level\ =\ level\_view.\mbox{\hyperlink{classPStatView_a51f7c68f54e4bbec06ef911dac40e3a1}{get\_top\_level}}();}
\DoxyCodeLine{00723\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_children\ =\ view\_level-\/>\mbox{\hyperlink{classPStatViewLevel_a3a93376402f21958f0aa27198b7d0455}{get\_num\_children}}();}
\DoxyCodeLine{00724\ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_children\ ==\ 0)\ \{}
\DoxyCodeLine{00725\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ FALSE;}
\DoxyCodeLine{00726\ \ \ \ \ \}}
\DoxyCodeLine{00727\ }
\DoxyCodeLine{00728\ \ \ \ \ GtkWidget\ *menu\ =\ gtk\_menu\_new();}
\DoxyCodeLine{00729\ }
\DoxyCodeLine{00730\ \ \ \ \ \textcolor{comment}{//\ Reverse\ the\ order\ since\ the\ menus\ are\ listed\ from\ the\ top\ down;\ we\ want}}
\DoxyCodeLine{00731\ \ \ \ \ \textcolor{comment}{//\ to\ be\ visually\ consistent\ with\ the\ graphs,\ which\ list\ these\ labels\ from}}
\DoxyCodeLine{00732\ \ \ \ \ \textcolor{comment}{//\ the\ bottom\ up.}}
\DoxyCodeLine{00733\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ c\ =\ num\_children\ -\/\ 1;\ c\ >=\ 0;\ c-\/-\/)\ \{}
\DoxyCodeLine{00734\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatViewLevel}{PStatViewLevel}}\ *child\_level\ =\ view\_level-\/>\mbox{\hyperlink{classPStatViewLevel_a0d86322855b8c8376719a4d3ff19d9ac}{get\_child}}(c);}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ child\_collector\ =\ child\_level-\/>get\_collector();}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \textcolor{keyword}{const}\ MenuDef\ *menu\_def\ =\ monitor-\/>\mbox{\hyperlink{classGtkStatsMonitor_a9e6da0c29b29e7bf376ebdf743968dd6}{add\_menu}}(\{CT\_strip\_chart,\ 0,\ child\_collector,\ -\/1,\ \textcolor{keyword}{true}\});}
\DoxyCodeLine{00738\ }
\DoxyCodeLine{00739\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ =\ child\_level-\/>\mbox{\hyperlink{classPStatViewLevel_a3a61c1a360fcbe9512164e7190647a6d}{get\_net\_value}}();}
\DoxyCodeLine{00740\ }
\DoxyCodeLine{00741\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatCollectorDef}{PStatCollectorDef}}\ \&def\ =\ client\_data-\/>\mbox{\hyperlink{classPStatClientData_a24e17a5885214596815115a8bb768e2a}{get\_collector\_def}}(child\_collector);}
\DoxyCodeLine{00742\ \ \ \ \ \ \ std::string\ text\ =\ def.\_name;}
\DoxyCodeLine{00743\ \ \ \ \ \ \ text\ +=\ \textcolor{stringliteral}{"{}:\ "{}}\ +\ \mbox{\hyperlink{classPStatGraph_aa9829b73ad4d9ce79092eafcb3202b57}{PStatGraph::format\_number}}(value,\ PStatGraph::GBU\_named\ |\ PStatGraph::GBU\_show\_units,\ def.\_level\_units);}
\DoxyCodeLine{00744\ }
\DoxyCodeLine{00745\ \ \ \ \ \ \ GtkWidget\ *menu\_item\ =\ gtk\_menu\_item\_new\_with\_label(text.c\_str());}
\DoxyCodeLine{00746\ \ \ \ \ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(menu),\ menu\_item);}
\DoxyCodeLine{00747\ }
\DoxyCodeLine{00748\ \ \ \ \ \ \ g\_signal\_connect(G\_OBJECT(menu\_item),\ \textcolor{stringliteral}{"{}activate"{}},}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ G\_CALLBACK(\mbox{\hyperlink{classGtkStatsMonitor_a35a4d279db316126b4f8f564d7f2fb92}{menu\_activate}}),}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{void}\ *)menu\_def);}
\DoxyCodeLine{00751\ \ \ \ \ \}}
\DoxyCodeLine{00752\ }
\DoxyCodeLine{00753\ \ \ \ \ gtk\_widget\_show\_all(menu);}
\DoxyCodeLine{00754\ }
\DoxyCodeLine{00755\ \ \ \ \ GtkWidget\ *flow\_box\_child\ =\ monitor-\/>\_status\_bar\_labels[index];}
\DoxyCodeLine{00756\ \ \ \ \ GtkWidget\ *label\ =\ gtk\_bin\_get\_child(GTK\_BIN(flow\_box\_child));}
\DoxyCodeLine{00757\ \ \ \ \ gtk\_menu\_popup\_at\_widget(GTK\_MENU(menu),\ label,}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GDK\_GRAVITY\_NORTH\_WEST,}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GDK\_GRAVITY\_SOUTH\_WEST,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00760\ \ \ \ \ \textcolor{keywordflow}{return}\ TRUE;}
\DoxyCodeLine{00761\ \ \ \}}
\DoxyCodeLine{00762\ \ \ \textcolor{keywordflow}{return}\ FALSE;}
\DoxyCodeLine{00763\ \}}
\DoxyCodeLine{00764\ }
\DoxyCodeLine{00768\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a35a4d279db316126b4f8f564d7f2fb92}{GtkStatsMonitor::}}}
\DoxyCodeLine{00769\ \mbox{\hyperlink{classGtkStatsMonitor_a35a4d279db316126b4f8f564d7f2fb92}{menu\_activate}}(GtkWidget\ *widget,\ gpointer\ data)\ \{}
\DoxyCodeLine{00770\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classGtkStatsMonitor_1_1MenuDef}{MenuDef}}\ \&menu\_def\ =\ *(\textcolor{keyword}{const}\ \mbox{\hyperlink{classGtkStatsMonitor_1_1MenuDef}{MenuDef}}\ *)data;}
\DoxyCodeLine{00771\ \ \ \mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *monitor\ =\ menu\_def.\_monitor;}
\DoxyCodeLine{00772\ }
\DoxyCodeLine{00773\ \ \ \textcolor{keywordflow}{if}\ (monitor\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00774\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00775\ \ \ \}}
\DoxyCodeLine{00776\ }
\DoxyCodeLine{00777\ \ \ \textcolor{keywordflow}{switch}\ (menu\_def.\_chart\_type)\ \{}
\DoxyCodeLine{00778\ \ \ \textcolor{keywordflow}{case}\ CT\_timeline:}
\DoxyCodeLine{00779\ \ \ \ \ monitor-\/>\mbox{\hyperlink{classGtkStatsMonitor_aa0344882ca7016dbb2e612f01a383f82}{open\_timeline}}();}
\DoxyCodeLine{00780\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00782\ \ \ \textcolor{keywordflow}{case}\ CT\_strip\_chart:}
\DoxyCodeLine{00783\ \ \ \ \ monitor-\/>\mbox{\hyperlink{classGtkStatsMonitor_a57f8bda512d7e71c2ee485d9661a38f8}{open\_strip\_chart}}(menu\_def.\_thread\_index,}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ menu\_def.\_collector\_index,}
\DoxyCodeLine{00785\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ menu\_def.\_show\_level);}
\DoxyCodeLine{00786\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00787\ }
\DoxyCodeLine{00788\ \ \ \textcolor{keywordflow}{case}\ CT\_flame\_graph:}
\DoxyCodeLine{00789\ \ \ \ \ monitor-\/>\mbox{\hyperlink{classGtkStatsMonitor_a3054e3a48a5f9152d1b45763dc73456f}{open\_flame\_graph}}(menu\_def.\_thread\_index,}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ menu\_def.\_collector\_index,}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ menu\_def.\_frame\_number);}
\DoxyCodeLine{00792\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00793\ }
\DoxyCodeLine{00794\ \ \ \textcolor{keywordflow}{case}\ CT\_piano\_roll:}
\DoxyCodeLine{00795\ \ \ \ \ monitor-\/>\mbox{\hyperlink{classGtkStatsMonitor_a4e028f877405a71add259a6d06fb119d}{open\_piano\_roll}}(menu\_def.\_thread\_index);}
\DoxyCodeLine{00796\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00797\ }
\DoxyCodeLine{00798\ \ \ \textcolor{keywordflow}{case}\ CT\_choose\_color:}
\DoxyCodeLine{00799\ \ \ \ \ monitor-\/>\mbox{\hyperlink{classGtkStatsMonitor_a0eb544d844d68a09f948e724baa84ca3}{choose\_collector\_color}}(menu\_def.\_collector\_index);}
\DoxyCodeLine{00800\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00801\ }
\DoxyCodeLine{00802\ \ \ \textcolor{keywordflow}{case}\ CT\_reset\_color:}
\DoxyCodeLine{00803\ \ \ \ \ monitor-\/>\mbox{\hyperlink{classGtkStatsMonitor_a6e412663b4ffcb0235d4bded75957f84}{reset\_collector\_color}}(menu\_def.\_collector\_index);}
\DoxyCodeLine{00804\ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00805\ \ \ \}}
\DoxyCodeLine{00806\ \}}
\DoxyCodeLine{00807\ }
\DoxyCodeLine{00811\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_ab1d9c24e26d06cc533fc852a09a269be}{GtkStatsMonitor::}}}
\DoxyCodeLine{00812\ \mbox{\hyperlink{classGtkStatsMonitor_ab1d9c24e26d06cc533fc852a09a269be}{handle\_status\_bar\_click}}(\textcolor{keywordtype}{int}\ item)\ \{}
\DoxyCodeLine{00813\ \ \ \textcolor{keywordflow}{if}\ (item\ ==\ 0)\ \{}
\DoxyCodeLine{00814\ \ \ \ \ \mbox{\hyperlink{classGtkStatsMonitor_a57f8bda512d7e71c2ee485d9661a38f8}{open\_strip\_chart}}(0,\ 0,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00815\ \ \ \}}
\DoxyCodeLine{00816\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (item\ >=\ 1\ \&\&\ (\textcolor{keywordtype}{size\_t})item\ <\ \_status\_bar\_collectors.size())\ \{}
\DoxyCodeLine{00817\ \ \ \ \ \textcolor{keywordtype}{int}\ collector\ =\ \_status\_bar\_collectors[item];}
\DoxyCodeLine{00818\ \ \ \ \ \mbox{\hyperlink{classGtkStatsMonitor_a57f8bda512d7e71c2ee485d9661a38f8}{open\_strip\_chart}}(0,\ collector,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00819\ }
\DoxyCodeLine{00820\ \ \ \ \ \textcolor{comment}{//\ Also\ open\ a\ strip\ chart\ for\ other\ threads\ with\ data\ for\ this}}
\DoxyCodeLine{00821\ \ \ \ \ \textcolor{comment}{//\ collector.}}
\DoxyCodeLine{00822\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatClientData}{PStatClientData}}\ *client\_data\ =\ get\_client\_data();}
\DoxyCodeLine{00823\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ thread\_index\ =\ 1;\ thread\_index\ <\ client\_data-\/>\mbox{\hyperlink{classPStatClientData_a37f031ee8fbaaa8c139ada02d19a1926}{get\_num\_threads}}();\ ++thread\_index)\ \{}
\DoxyCodeLine{00824\ \ \ \ \ \ \ \mbox{\hyperlink{classPStatView}{PStatView}}\ \&view\ =\ \mbox{\hyperlink{classPStatMonitor_a230f979e07e144f103ebef614b030742}{get\_level\_view}}(collector,\ thread\_index);}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (view.\mbox{\hyperlink{classPStatView_a2dcc2465a2515c85d8993b34c80e00ef}{get\_net\_value}}()\ >\ 0.0)\ \{}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classGtkStatsMonitor_a57f8bda512d7e71c2ee485d9661a38f8}{open\_strip\_chart}}(thread\_index,\ collector,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00828\ \ \ \ \ \}}
\DoxyCodeLine{00829\ \ \ \}}
\DoxyCodeLine{00830\ \}}
\DoxyCodeLine{00831\ }
\DoxyCodeLine{00835\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsMonitor_a46ad6d1bdfcc9faed3f2e58df9c5e1e4}{GtkStatsMonitor::}}}
\DoxyCodeLine{00836\ \mbox{\hyperlink{classGtkStatsMonitor_a46ad6d1bdfcc9faed3f2e58df9c5e1e4}{handle\_status\_bar\_popup}}(\textcolor{keywordtype}{int}\ item)\ \{}
\DoxyCodeLine{00837\ \ \ \textcolor{keywordflow}{if}\ (item\ >=\ 0\ \&\&\ (\textcolor{keywordtype}{size\_t})item\ <\ \_status\_bar\_collectors.size())\ \{}
\DoxyCodeLine{00838\ \ \ \ \ \textcolor{keywordtype}{int}\ collector\ =\ \_status\_bar\_collectors[item];}
\DoxyCodeLine{00839\ }
\DoxyCodeLine{00840\ \ \ \ \ \mbox{\hyperlink{classPStatView}{PStatView}}\ \&level\_view\ =\ \mbox{\hyperlink{classPStatMonitor_a230f979e07e144f103ebef614b030742}{get\_level\_view}}(collector,\ 0);}
\DoxyCodeLine{00841\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatViewLevel}{PStatViewLevel}}\ *view\_level\ =\ level\_view.\mbox{\hyperlink{classPStatView_a51f7c68f54e4bbec06ef911dac40e3a1}{get\_top\_level}}();}
\DoxyCodeLine{00842\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_children\ =\ view\_level-\/>\mbox{\hyperlink{classPStatViewLevel_a3a93376402f21958f0aa27198b7d0455}{get\_num\_children}}();}
\DoxyCodeLine{00843\ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_children\ ==\ 0)\ \{}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00845\ \ \ \ \ \}}
\DoxyCodeLine{00846\ }
\DoxyCodeLine{00847\ \ \ \ \ GtkWidget\ *menu\ =\ gtk\_menu\_new();}
\DoxyCodeLine{00848\ }
\DoxyCodeLine{00849\ \ \ \ \ \textcolor{comment}{//\ Reverse\ the\ order\ since\ the\ menus\ are\ listed\ from\ the\ top\ down;\ we\ want}}
\DoxyCodeLine{00850\ \ \ \ \ \textcolor{comment}{//\ to\ be\ visually\ consistent\ with\ the\ graphs,\ which\ list\ these\ labels\ from}}
\DoxyCodeLine{00851\ \ \ \ \ \textcolor{comment}{//\ the\ bottom\ up.}}
\DoxyCodeLine{00852\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatClientData}{PStatClientData}}\ *client\_data\ =\ get\_client\_data();}
\DoxyCodeLine{00853\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ c\ =\ num\_children\ -\/\ 1;\ c\ >=\ 0;\ c-\/-\/)\ \{}
\DoxyCodeLine{00854\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatViewLevel}{PStatViewLevel}}\ *child\_level\ =\ view\_level-\/>\mbox{\hyperlink{classPStatViewLevel_a0d86322855b8c8376719a4d3ff19d9ac}{get\_child}}(c);}
\DoxyCodeLine{00855\ }
\DoxyCodeLine{00856\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ child\_collector\ =\ child\_level-\/>get\_collector();}
\DoxyCodeLine{00857\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classGtkStatsMonitor_1_1MenuDef}{MenuDef}}\ *menu\_def\ =\ \mbox{\hyperlink{classGtkStatsMonitor_a9e6da0c29b29e7bf376ebdf743968dd6}{add\_menu}}(\{CT\_strip\_chart,\ 0,\ child\_collector,\ -\/1,\ \textcolor{keyword}{true}\});}
\DoxyCodeLine{00858\ }
\DoxyCodeLine{00859\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ value\ =\ child\_level-\/>\mbox{\hyperlink{classPStatViewLevel_a3a61c1a360fcbe9512164e7190647a6d}{get\_net\_value}}();}
\DoxyCodeLine{00860\ }
\DoxyCodeLine{00861\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatCollectorDef}{PStatCollectorDef}}\ \&def\ =\ client\_data-\/>\mbox{\hyperlink{classPStatClientData_a24e17a5885214596815115a8bb768e2a}{get\_collector\_def}}(child\_collector);}
\DoxyCodeLine{00862\ \ \ \ \ \ \ std::string\ text\ =\ def.\_name;}
\DoxyCodeLine{00863\ \ \ \ \ \ \ text\ +=\ \textcolor{stringliteral}{"{}:\ "{}}\ +\ \mbox{\hyperlink{classPStatGraph_aa9829b73ad4d9ce79092eafcb3202b57}{PStatGraph::format\_number}}(value,\ PStatGraph::GBU\_named\ |\ PStatGraph::GBU\_show\_units,\ def.\_level\_units);}
\DoxyCodeLine{00864\ }
\DoxyCodeLine{00865\ \ \ \ \ \ \ GtkWidget\ *menu\_item\ =\ gtk\_menu\_item\_new\_with\_label(text.c\_str());}
\DoxyCodeLine{00866\ \ \ \ \ \ \ gtk\_menu\_shell\_append(GTK\_MENU\_SHELL(menu),\ menu\_item);}
\DoxyCodeLine{00867\ }
\DoxyCodeLine{00868\ \ \ \ \ \ \ g\_signal\_connect(G\_OBJECT(menu\_item),\ \textcolor{stringliteral}{"{}activate"{}},}
\DoxyCodeLine{00869\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ G\_CALLBACK(\mbox{\hyperlink{classGtkStatsMonitor_a35a4d279db316126b4f8f564d7f2fb92}{menu\_activate}}),}
\DoxyCodeLine{00870\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{void}\ *)menu\_def);}
\DoxyCodeLine{00871\ \ \ \ \ \}}
\DoxyCodeLine{00872\ }
\DoxyCodeLine{00873\ \ \ \ \ gtk\_widget\_show\_all(menu);}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00875\ \ \ \ \ GtkWidget\ *flow\_box\_child\ =\ \_status\_bar\_labels[item];}
\DoxyCodeLine{00876\ \ \ \ \ GtkWidget\ *label\ =\ gtk\_bin\_get\_child(GTK\_BIN(flow\_box\_child));}
\DoxyCodeLine{00877\ \ \ \ \ gtk\_menu\_popup\_at\_widget(GTK\_MENU(menu),\ label,}
\DoxyCodeLine{00878\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GDK\_GRAVITY\_NORTH\_WEST,}
\DoxyCodeLine{00879\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GDK\_GRAVITY\_SOUTH\_WEST,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00880\ }
\DoxyCodeLine{00881\ \ \ \}}
\DoxyCodeLine{00882\ \}}

\end{DoxyCode}
