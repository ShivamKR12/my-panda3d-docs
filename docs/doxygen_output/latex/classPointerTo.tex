\doxysection{Pointer\+To\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classPointerTo}{}\label{classPointerTo}\index{PointerTo$<$ T $>$@{PointerTo$<$ T $>$}}


{\ttfamily \#include $<$pointer\+To.\+h$>$}

Inheritance diagram for Pointer\+To\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classPointerTo}
\end{center}
\end{figure}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classPointerTo_ad57edf0a637e97b8ca66b15b2761475e}\label{classPointerTo_ad57edf0a637e97b8ca66b15b2761475e} 
typedef \mbox{\hyperlink{classPointerToBase}{Pointer\+To\+Base}}$<$ T $>$\+::\+To {\bfseries To}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classPointerToBase}{Pointer\+To\+Base$<$ T $>$}}}
\begin{DoxyCompactItemize}
\item 
typedef T {\bfseries To}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classPointerTo_aa77c49c213066ea8a3bf45e4aa1b89ea}\label{classPointerTo_aa77c49c213066ea8a3bf45e4aa1b89ea} 
ALWAYS\+\_\+\+INLINE constexpr {\bfseries Pointer\+To} (std\+::nullptr\+\_\+t) noexcept
\item 
\Hypertarget{classPointerTo_a9a620fe1cfd6b4efc15d1dcb55d6b01f}\label{classPointerTo_a9a620fe1cfd6b4efc15d1dcb55d6b01f} 
ALWAYS\+\_\+\+INLINE {\bfseries Pointer\+To} (To \texorpdfstring{$\ast$}{*}ptr) noexcept
\item 
\Hypertarget{classPointerTo_ac83ed28fe685089d9fd0b1939aa02f1b}\label{classPointerTo_ac83ed28fe685089d9fd0b1939aa02f1b} 
INLINE {\bfseries Pointer\+To} (const \mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ T $>$ \&copy)
\item 
\Hypertarget{classPointerTo_a6129c06293597497e2466a647ad7bf5f}\label{classPointerTo_a6129c06293597497e2466a647ad7bf5f} 
INLINE {\bfseries Pointer\+To} (\mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ T $>$ \&\&from) noexcept
\item 
\Hypertarget{classPointerTo_a321fde5f9c6a2a66d95ad0a522835195}\label{classPointerTo_a321fde5f9c6a2a66d95ad0a522835195} 
{\footnotesize template$<$class Y $>$ }\\ALWAYS\+\_\+\+INLINE {\bfseries Pointer\+To} (Y \texorpdfstring{$\ast$}{*}ptr) noexcept
\item 
\Hypertarget{classPointerTo_aa19b89ba570c7d7173d8cf96b2f3e586}\label{classPointerTo_aa19b89ba570c7d7173d8cf96b2f3e586} 
{\footnotesize template$<$class Y $>$ }\\ALWAYS\+\_\+\+INLINE {\bfseries Pointer\+To} (const \mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ Y $>$ \&r) noexcept
\item 
\Hypertarget{classPointerTo_a5a6d53e966b948c2018d2b77b519e35a}\label{classPointerTo_a5a6d53e966b948c2018d2b77b519e35a} 
{\footnotesize template$<$class Y $>$ }\\ALWAYS\+\_\+\+INLINE {\bfseries Pointer\+To} (\mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ Y $>$ \&\&r) noexcept
\item 
\Hypertarget{classPointerTo_a4592b9ac811991c6a4b94ca2f6d3cea8}\label{classPointerTo_a4592b9ac811991c6a4b94ca2f6d3cea8} 
INLINE \mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ T $>$ \& {\bfseries operator=} (\mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ T $>$ \&\&from) noexcept
\item 
\Hypertarget{classPointerTo_a333a9c45367f51754affb7aebaf33b56}\label{classPointerTo_a333a9c45367f51754affb7aebaf33b56} 
{\footnotesize template$<$class Y $>$ }\\ALWAYS\+\_\+\+INLINE \mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ T $>$ \& {\bfseries operator=} (const \mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ Y $>$ \&r) noexcept
\item 
\Hypertarget{classPointerTo_aa85dcf79810fa8a51a753164d10c8233}\label{classPointerTo_aa85dcf79810fa8a51a753164d10c8233} 
{\footnotesize template$<$class Y $>$ }\\ALWAYS\+\_\+\+INLINE \mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ T $>$ \& {\bfseries operator=} (\mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ Y $>$ \&\&r) noexcept
\item 
\Hypertarget{classPointerTo_afd680ab27ee7d979384e3920529ae2db}\label{classPointerTo_afd680ab27ee7d979384e3920529ae2db} 
constexpr To \& {\bfseries operator\texorpdfstring{$\ast$}{*}} () const noexcept
\item 
\Hypertarget{classPointerTo_a60d067698e9fa36dafe9277f5c1e0dd9}\label{classPointerTo_a60d067698e9fa36dafe9277f5c1e0dd9} 
constexpr To \texorpdfstring{$\ast$}{*} {\bfseries operator-\/$>$} () const noexcept
\item 
\Hypertarget{classPointerTo_abd7494a6a7a34243d2ba378af31e09eb}\label{classPointerTo_abd7494a6a7a34243d2ba378af31e09eb} 
constexpr {\bfseries operator T\texorpdfstring{$\ast$}{*}} () const noexcept
\item 
\Hypertarget{classPointerTo_adfe5d54e6105e59f0bf568b5ae77e38d}\label{classPointerTo_adfe5d54e6105e59f0bf568b5ae77e38d} 
INLINE T \texorpdfstring{$\ast$}{*}\& {\bfseries cheat} ()
\item 
\Hypertarget{classPointerTo_a11d3ba252605ddde4f48a2f51819ebf4}\label{classPointerTo_a11d3ba252605ddde4f48a2f51819ebf4} 
INLINE \mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ T $>$ \& {\bfseries operator=} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
\Hypertarget{classPointerTo_aaaec1f1bd7260d8fb34bae97764190ea}\label{classPointerTo_aaaec1f1bd7260d8fb34bae97764190ea} 
INLINE \mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ T $>$ \& {\bfseries operator=} (const \mbox{\hyperlink{classPointerTo}{Pointer\+To}}$<$ T $>$ \&copy)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classPointerToVoid}{Pointer\+To\+Void}}}
\begin{DoxyCompactItemize}
\item 
INLINE bool {\bfseries operator$<$} (const void \texorpdfstring{$\ast$}{*}other) const
\item 
INLINE bool {\bfseries operator$<$} (const \mbox{\hyperlink{classPointerToVoid}{Pointer\+To\+Void}} \&other) const
\item 
INLINE bool {\bfseries operator==} (const \mbox{\hyperlink{classPointerToVoid}{Pointer\+To\+Void}} \&other) const
\item 
INLINE bool {\bfseries operator!=} (const \mbox{\hyperlink{classPointerToVoid}{Pointer\+To\+Void}} \&other) const
\item 
INLINE void {\bfseries swap} (\mbox{\hyperlink{classPointerToVoid}{Pointer\+To\+Void}} \&other) noexcept
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classPointerTo_a5f58f838af79d10b6ec6de1704617f26}\label{classPointerTo_a5f58f838af79d10b6ec6de1704617f26} 
PUBLISHED \+: ALWAYS\+\_\+\+INLINE constexpr \mbox{\hyperlink{classPointerTo}{Pointer\+To}}() noexcept = default
\item 
\Hypertarget{classPointerTo_ac593d06ba5b3b6283d7d89913923c104}\label{classPointerTo_ac593d06ba5b3b6283d7d89913923c104} 
PUBLISHED \+: constexpr To \texorpdfstring{$\ast$}{*}p() const noexcept
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes inherited from \mbox{\hyperlink{classMemoryBase}{Memory\+Base}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries ALLOC\+\_\+\+MEMORY\+\_\+\+BASE}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classPointerToBase}{Pointer\+To\+Base$<$ T $>$}}}
\begin{DoxyCompactItemize}
\item 
INLINE {\bfseries Pointer\+To\+Base} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
INLINE {\bfseries Pointer\+To\+Base} (const \mbox{\hyperlink{classPointerToBase}{Pointer\+To\+Base}}$<$ T $>$ \&copy)
\item 
INLINE {\bfseries Pointer\+To\+Base} (\mbox{\hyperlink{classPointerToBase}{Pointer\+To\+Base}}$<$ T $>$ \&\&from) noexcept
\item 
{\footnotesize template$<$class Y $>$ }\\INLINE {\bfseries Pointer\+To\+Base} (\mbox{\hyperlink{classPointerToBase}{Pointer\+To\+Base}}$<$ Y $>$ \&\&r) noexcept
\item 
INLINE void {\bfseries reassign} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
INLINE void {\bfseries reassign} (const \mbox{\hyperlink{classPointerToBase}{Pointer\+To\+Base}}$<$ To $>$ \&copy)
\item 
INLINE void {\bfseries reassign} (\mbox{\hyperlink{classPointerToBase}{Pointer\+To\+Base}}$<$ To $>$ \&\&from) noexcept
\item 
{\footnotesize template$<$class Y $>$ }\\INLINE void {\bfseries reassign} (\mbox{\hyperlink{classPointerToBase}{Pointer\+To\+Base}}$<$ Y $>$ \&\&from) noexcept
\item 
INLINE void {\bfseries update\+\_\+type} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
void {\bfseries output} (std\+::ostream \&out) const
\item 
INLINE void {\bfseries update\+\_\+type} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
INLINE void {\bfseries update\+\_\+type} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
INLINE void {\bfseries update\+\_\+type} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
INLINE void {\bfseries update\+\_\+type} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
INLINE void {\bfseries update\+\_\+type} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
INLINE void {\bfseries update\+\_\+type} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
INLINE void {\bfseries update\+\_\+type} (To \texorpdfstring{$\ast$}{*}ptr)
\item 
INLINE void {\bfseries update\+\_\+type} (To \texorpdfstring{$\ast$}{*}ptr)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classPointerToBase}{Pointer\+To\+Base$<$ T $>$}}}
\begin{DoxyCompactItemize}
\item 
PUBLISHED \+: ALWAYS\+\_\+\+INLINE void clear()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classPointerToVoid}{Pointer\+To\+Void}}}
\begin{DoxyCompactItemize}
\item 
Atomic\+Adjust\+::\+Pointer {\bfseries \+\_\+void\+\_\+ptr} = nullptr
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class T$>$\newline
class Pointer\+To$<$ T $>$}
This file defines the classes \doxylink{classPointerTo}{Pointer\+To} and \doxylink{classConstPointerTo}{Const\+Pointer\+To} (and their abbreviations, PT and CPT). These should be used in place of traditional C-\/style pointers wherever implicit reference counting is desired.

The syntax is\+: instead of\+:

Pointer\+To$<$\+My\+Class$>$ p; My\+Class \texorpdfstring{$\ast$}{*}p; PT(\+My\+Class) p;

Const\+Pointer\+To$<$\+My\+Class$>$ p; const My\+Class \texorpdfstring{$\ast$}{*}p; CPT(\+My\+Class) p;

\doxylink{classPointerTo}{Pointer\+To} and \doxylink{classConstPointerTo}{Const\+Pointer\+To} will automatically increment the object\textquotesingle{}s reference count while the pointer is kept. When the \doxylink{classPointerTo}{Pointer\+To} object is reassigned or goes out of scope, the reference count is automatically decremented. If the reference count reaches zero, the object is freed.

Note that const Pointer\+To$<$\+My\+Class$>$ is different from Const\+Pointer\+To$<$\+My\+Class$>$. A const \doxylink{classPointerTo}{Pointer\+To} may not reassign its pointer, but it may still modify the contents at that address. On the other hand, a \doxylink{classConstPointerTo}{Const\+Pointer\+To} may reassign its pointer at will, but may not modify the contents. It is like the difference between (My\+Class \texorpdfstring{$\ast$}{*} const) and (const My\+Class \texorpdfstring{$\ast$}{*}).

In order to use \doxylink{classPointerTo}{Pointer\+To}, it is necessary that the thing pointed to --My\+Class in the above example--either inherits from \doxylink{classReferenceCount}{Reference\+Count}, or is a proxy built with \doxylink{classRefCountProxy}{Ref\+Count\+Proxy} or \doxylink{classRefCountObj}{Ref\+Count\+Obj} (see \doxylink{referenceCount_8h}{reference\+Count.\+h}). However, also see \doxylink{classPointerToArray}{Pointer\+To\+Array}, which does not have this restriction.

It is crucial that the \doxylink{classPointerTo}{Pointer\+To} object is only used to refer to objects allocated from the free store, for which delete is a sensible thing to do. If you assign a \doxylink{classPointerTo}{Pointer\+To} to an automatic variable (allocated from the stack, for instance), bad things will certainly happen when the reference count reaches zero and it tries to delete it.

It\textquotesingle{}s also important to remember that, as always, a virtual destructor is required if you plan to support polymorphism. That is, if you define a \doxylink{classPointerTo}{Pointer\+To} to some base type, and assign to it instances of a class derived from that base class, the base class must have a virtual destructor in order to properly destruct the derived object when it is deleted. \doxylink{classPointerTo}{Pointer\+To} is a template class which implements a smart pointer to an object derived from \doxylink{classReferenceCount}{Reference\+Count}. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
panda/src/express/\mbox{\hyperlink{pointerTo_8h}{pointer\+To.\+h}}\end{DoxyCompactItemize}
