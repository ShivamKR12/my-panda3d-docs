\doxysection{ffmpeg\+Video.\+cxx}
\hypertarget{ffmpegVideo_8cxx_source}{}\label{ffmpegVideo_8cxx_source}\index{panda/src/ffmpeg/ffmpegVideo.cxx@{panda/src/ffmpeg/ffmpegVideo.cxx}}
\mbox{\hyperlink{ffmpegVideo_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ffmpegVideo_8h}{ffmpegVideo.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ffmpegVideoCursor_8h}{ffmpegVideoCursor.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__ffmpeg_8h}{config\_ffmpeg.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamReader_8h}{bamReader.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dcast_8h}{dcast.h}}"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ FfmpegVideo::\_type\_handle;}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00026\ FfmpegVideo::}
\DoxyCodeLine{00027\ FfmpegVideo(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFilename}{Filename}}\ \&name)\ :}
\DoxyCodeLine{00028\ \ \ \mbox{\hyperlink{classMovieVideo}{MovieVideo}}(name)}
\DoxyCodeLine{00029\ \{}
\DoxyCodeLine{00030\ \ \ \_filename\ =\ name;}
\DoxyCodeLine{00031\ \}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00038\ FfmpegVideo::}
\DoxyCodeLine{00039\ FfmpegVideo(\textcolor{keyword}{const}\ \mbox{\hyperlink{classSubfileInfo}{SubfileInfo}}\ \&info)\ :}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{classMovieVideo}{MovieVideo}}(info.get\_filename())}
\DoxyCodeLine{00041\ \{}
\DoxyCodeLine{00042\ \ \ \_filename\ =\ info.get\_filename();}
\DoxyCodeLine{00043\ \ \ \_subfile\_info\ =\ info;}
\DoxyCodeLine{00044\ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00049\ FfmpegVideo::}
\DoxyCodeLine{00050\ \string~FfmpegVideo()\ \{}
\DoxyCodeLine{00051\ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00056\ PT(\mbox{\hyperlink{classMovieVideoCursor}{MovieVideoCursor}})\ FfmpegVideo::}
\DoxyCodeLine{00057\ open()\ \{}
\DoxyCodeLine{00058\ \ \ PT(\mbox{\hyperlink{classFfmpegVideoCursor}{FfmpegVideoCursor}})\ result\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classFfmpegVideoCursor}{FfmpegVideoCursor}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00059\ \ \ \textcolor{keywordflow}{if}\ (result-\/>\_format\_ctx\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00060\ \ \ \ \ ffmpeg\_cat.error()\ <<\ \textcolor{stringliteral}{"{}Could\ not\ open\ "{}}\ <<\ \_filename\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00062\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00064\ \ \ \}}
\DoxyCodeLine{00065\ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00070\ PT(\mbox{\hyperlink{classMovieVideo}{MovieVideo}})\ FfmpegVideo::}
\DoxyCodeLine{00071\ make(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFilename}{Filename}}\ \&name)\ \{}
\DoxyCodeLine{00072\ \ \ \textcolor{keywordflow}{return}\ DCAST(\mbox{\hyperlink{classMovieVideo}{MovieVideo}},\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classFfmpegVideo}{FfmpegVideo}}(name));}
\DoxyCodeLine{00073\ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00078\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classFfmpegVideo_ade196f757548787249624f4e6113ed10}{FfmpegVideo::}}}
\DoxyCodeLine{00079\ \mbox{\hyperlink{classFfmpegVideo_ade196f757548787249624f4e6113ed10}{register\_with\_read\_factory}}()\ \{}
\DoxyCodeLine{00080\ \ \ BamReader::get\_factory()-\/>register\_factory(get\_class\_type(),\ \mbox{\hyperlink{classFfmpegVideo_a90f3bc8173bd798616037c4fdceb6fc4}{make\_from\_bam}});}
\DoxyCodeLine{00081\ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00087\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classFfmpegVideo_a2f9382c5501b20a4d7f8048aec9e66a7}{FfmpegVideo::}}}
\DoxyCodeLine{00088\ \mbox{\hyperlink{classFfmpegVideo_a2f9382c5501b20a4d7f8048aec9e66a7}{write\_datagram}}(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg)\ \{}
\DoxyCodeLine{00089\ \ \ \mbox{\hyperlink{classMovieVideo_a1acd490e71a8b5697642e308267c1185}{MovieVideo::write\_datagram}}(manager,\ dg);}
\DoxyCodeLine{00090\ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00097\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *\mbox{\hyperlink{classFfmpegVideo_a90f3bc8173bd798616037c4fdceb6fc4}{FfmpegVideo::}}}
\DoxyCodeLine{00098\ \mbox{\hyperlink{classFfmpegVideo_a90f3bc8173bd798616037c4fdceb6fc4}{make\_from\_bam}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFactoryParams}{FactoryParams}}\ \&params)\ \{}
\DoxyCodeLine{00099\ \ \ \mbox{\hyperlink{classFfmpegVideo}{FfmpegVideo}}\ *video\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classFfmpegVideo}{FfmpegVideo}}(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00100\ \ \ \mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ scan;}
\DoxyCodeLine{00101\ \ \ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager;}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ parse\_params(params,\ scan,\ manager);}
\DoxyCodeLine{00104\ \ \ video-\/>\mbox{\hyperlink{classFfmpegVideo_ae623185bbf74a6bd5122712a22299a78}{fillin}}(scan,\ manager);}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \textcolor{keywordflow}{return}\ video;}
\DoxyCodeLine{00107\ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00113\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classFfmpegVideo_ae623185bbf74a6bd5122712a22299a78}{FfmpegVideo::}}}
\DoxyCodeLine{00114\ \mbox{\hyperlink{classFfmpegVideo_ae623185bbf74a6bd5122712a22299a78}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00115\ \ \ \mbox{\hyperlink{classMovieVideo_af83b8c092b68aba4f7e59116dc436522}{MovieVideo::fillin}}(scan,\ manager);}
\DoxyCodeLine{00116\ \}}

\end{DoxyCode}
