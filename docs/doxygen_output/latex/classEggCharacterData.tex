\doxysection{Egg\+Character\+Data Class Reference}
\hypertarget{classEggCharacterData}{}\label{classEggCharacterData}\index{EggCharacterData@{EggCharacterData}}


{\ttfamily \#include $<$egg\+Character\+Data.\+h$>$}

Inheritance diagram for Egg\+Character\+Data\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classEggCharacterData}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classEggCharacterData_af4c959d09f226eef870c734d992620a5}\label{classEggCharacterData_af4c959d09f226eef870c734d992620a5} 
{\bfseries Egg\+Character\+Data} (\mbox{\hyperlink{classEggCharacterCollection}{Egg\+Character\+Collection}} \texorpdfstring{$\ast$}{*}collection)
\item 
void \mbox{\hyperlink{classEggCharacterData_ad882a65c39d5711483aebe8fe1989467}{rename\+\_\+char}} (const std\+::string \&name)
\item 
void \mbox{\hyperlink{classEggCharacterData_ad59d6a9f7c36416c77105a4f5c024191}{add\+\_\+model}} (int model\+\_\+index, \mbox{\hyperlink{classEggNode}{Egg\+Node}} \texorpdfstring{$\ast$}{*}model\+\_\+root, \mbox{\hyperlink{classEggData}{Egg\+Data}} \texorpdfstring{$\ast$}{*}egg\+\_\+data)
\item 
\Hypertarget{classEggCharacterData_ac03f8dc6405e3ede33647a46f7ab9a67}\label{classEggCharacterData_ac03f8dc6405e3ede33647a46f7ab9a67} 
INLINE int {\bfseries get\+\_\+num\+\_\+models} () const
\item 
\Hypertarget{classEggCharacterData_af445642279af8d5f5513ede771a4ac2c}\label{classEggCharacterData_af445642279af8d5f5513ede771a4ac2c} 
INLINE int {\bfseries get\+\_\+model\+\_\+index} (int n) const
\item 
\Hypertarget{classEggCharacterData_a60de16ef5e300d7893a3ec191427d334}\label{classEggCharacterData_a60de16ef5e300d7893a3ec191427d334} 
INLINE \mbox{\hyperlink{classEggNode}{Egg\+Node}} \texorpdfstring{$\ast$}{*} {\bfseries get\+\_\+model\+\_\+root} (int n) const
\item 
\Hypertarget{classEggCharacterData_ad036d41e0cbf771929f53e0d470c4ef5}\label{classEggCharacterData_ad036d41e0cbf771929f53e0d470c4ef5} 
INLINE \mbox{\hyperlink{classEggData}{Egg\+Data}} \texorpdfstring{$\ast$}{*} {\bfseries get\+\_\+egg\+\_\+data} (int n) const
\item 
int \mbox{\hyperlink{classEggCharacterData_a781dd50ca0652abcffb2c519db22705c}{get\+\_\+num\+\_\+frames}} (int model\+\_\+index) const
\item 
bool \mbox{\hyperlink{classEggCharacterData_a9f9289591422c32283998e1d4542e188}{check\+\_\+num\+\_\+frames}} (int model\+\_\+index)
\item 
double \mbox{\hyperlink{classEggCharacterData_a3777905f160f6b74de0935f0c2241442}{get\+\_\+frame\+\_\+rate}} (int model\+\_\+index) const
\item 
\Hypertarget{classEggCharacterData_a805053afac7eba40fbaa5ccf48bde532}\label{classEggCharacterData_a805053afac7eba40fbaa5ccf48bde532} 
INLINE \mbox{\hyperlink{classEggJointData}{Egg\+Joint\+Data}} \texorpdfstring{$\ast$}{*} {\bfseries get\+\_\+root\+\_\+joint} () const
\item 
\Hypertarget{classEggCharacterData_a8cf17a021af8ff6cf925c12293a6c313}\label{classEggCharacterData_a8cf17a021af8ff6cf925c12293a6c313} 
INLINE \mbox{\hyperlink{classEggJointData}{Egg\+Joint\+Data}} \texorpdfstring{$\ast$}{*} {\bfseries find\+\_\+joint} (const std\+::string \&name) const
\item 
\Hypertarget{classEggCharacterData_aada850dd54ef9fe71ba3909de8f80237}\label{classEggCharacterData_aada850dd54ef9fe71ba3909de8f80237} 
INLINE \mbox{\hyperlink{classEggJointData}{Egg\+Joint\+Data}} \texorpdfstring{$\ast$}{*} {\bfseries make\+\_\+new\+\_\+joint} (const std\+::string \&name, \mbox{\hyperlink{classEggJointData}{Egg\+Joint\+Data}} \texorpdfstring{$\ast$}{*}parent)
\item 
\Hypertarget{classEggCharacterData_a2d665f2a049bad84a87a7912d2f74359}\label{classEggCharacterData_a2d665f2a049bad84a87a7912d2f74359} 
INLINE int {\bfseries get\+\_\+num\+\_\+joints} () const
\item 
\Hypertarget{classEggCharacterData_acbc44eed9df5655aaee08232df9c135e}\label{classEggCharacterData_acbc44eed9df5655aaee08232df9c135e} 
INLINE \mbox{\hyperlink{classEggJointData}{Egg\+Joint\+Data}} \texorpdfstring{$\ast$}{*} {\bfseries get\+\_\+joint} (int n) const
\item 
bool \mbox{\hyperlink{classEggCharacterData_ad948e6a6da71e5403999b860cf29aa27}{do\+\_\+reparent}} ()
\item 
void \mbox{\hyperlink{classEggCharacterData_a27afbfc265e20debed76abf426bed4d1}{choose\+\_\+optimal\+\_\+hierarchy}} ()
\item 
\Hypertarget{classEggCharacterData_a818706430832663e0a057b6bd8fd7f75}\label{classEggCharacterData_a818706430832663e0a057b6bd8fd7f75} 
INLINE int {\bfseries get\+\_\+num\+\_\+sliders} () const
\item 
\Hypertarget{classEggCharacterData_a25e46fd7cdc56f682ee179113e61af47}\label{classEggCharacterData_a25e46fd7cdc56f682ee179113e61af47} 
INLINE \mbox{\hyperlink{classEggSliderData}{Egg\+Slider\+Data}} \texorpdfstring{$\ast$}{*} {\bfseries get\+\_\+slider} (int n) const
\item 
\mbox{\hyperlink{classEggSliderData}{Egg\+Slider\+Data}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classEggCharacterData_a852f02cbeea898a5984e9fd14e15ea3f}{find\+\_\+slider}} (const std\+::string \&name) const
\item 
\mbox{\hyperlink{classEggSliderData}{Egg\+Slider\+Data}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classEggCharacterData_ab0b108a835a587aea159766117ea749c}{make\+\_\+slider}} (const std\+::string \&name)
\item 
\Hypertarget{classEggCharacterData_adaa426feacc79883169d26f503e2f61d}\label{classEggCharacterData_adaa426feacc79883169d26f503e2f61d} 
INLINE int {\bfseries get\+\_\+num\+\_\+components} () const
\item 
\Hypertarget{classEggCharacterData_aea9535c953bf008d3592fa064d39fda9}\label{classEggCharacterData_aea9535c953bf008d3592fa064d39fda9} 
INLINE \mbox{\hyperlink{classEggComponentData}{Egg\+Component\+Data}} \texorpdfstring{$\ast$}{*} {\bfseries get\+\_\+component} (int n) const
\item 
size\+\_\+t \mbox{\hyperlink{classEggCharacterData_a9728ab2f8e3c56800ba48754a3d87079}{estimate\+\_\+db\+\_\+size}} () const
\item 
\Hypertarget{classEggCharacterData_a233a1d78715fefe98b56be3d72fafc24}\label{classEggCharacterData_a233a1d78715fefe98b56be3d72fafc24} 
virtual void {\bfseries write} (std\+::ostream \&out, int indent\+\_\+level=0) const
\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classEggCharacterData_a5d712cd161a12e6203fe47ec9b108451}\label{classEggCharacterData_a5d712cd161a12e6203fe47ec9b108451} 
class {\bfseries Egg\+Character\+Collection}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classNamable}{Namable}}}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classTypeHandle}{Type\+Handle}} {\bfseries get\+\_\+class\+\_\+type} ()
\item 
static void {\bfseries init\+\_\+type} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes inherited from \mbox{\hyperlink{classMemoryBase}{Memory\+Base}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries ALLOC\+\_\+\+MEMORY\+\_\+\+BASE}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Represents a single character, as read and collected from several models and animation files. This contains a hierarchy of \doxylink{classEggJointData}{Egg\+Joint\+Data} nodes representing the skeleton, as well as a list of \doxylink{classEggSliderData}{Egg\+Slider\+Data} nodes representing the morph channels for the character.

This is very similar to the \doxylink{classCharacter}{Character} class from Panda, in that it\textquotesingle{}s capable of associating skeleton-\/morph animation channels with models and calculating the vertex position for each frame. To some degree, it duplicates the functionality of \doxylink{classCharacter}{Character}. However, it differs in one fundamental principle\+: it is designed to be a non-\/real-\/time operation, working directly on the Egg structures as they are, instead of first boiling the Egg data into native Panda \doxylink{classGeom}{Geom} tables for real-\/time animation. Because of this, it is (a) double-\/precision instead of single precision, (b) capable of generating modified Egg files, and (c) about a hundred times slower than the Panda \doxylink{classCharacter}{Character} class.

The data in this structure is normally filled in by the \doxylink{classEggCharacterCollection}{Egg\+Character\+Collection} class. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classEggCharacterData_ad59d6a9f7c36416c77105a4f5c024191}\label{classEggCharacterData_ad59d6a9f7c36416c77105a4f5c024191} 
\index{EggCharacterData@{EggCharacterData}!add\_model@{add\_model}}
\index{add\_model@{add\_model}!EggCharacterData@{EggCharacterData}}
\doxysubsubsection{\texorpdfstring{add\_model()}{add\_model()}}
{\footnotesize\ttfamily void Egg\+Character\+Data\+::add\+\_\+model (\begin{DoxyParamCaption}\item[{int}]{model\+\_\+index,  }\item[{\mbox{\hyperlink{classEggNode}{Egg\+Node}} \texorpdfstring{$\ast$}{*}}]{model\+\_\+root,  }\item[{\mbox{\hyperlink{classEggData}{Egg\+Data}} \texorpdfstring{$\ast$}{*}}]{egg\+\_\+data }\end{DoxyParamCaption})}

Indicates that the given model\+\_\+index (with the indicated model\+\_\+root) is associated with this character. This is normally called by the \doxylink{classEggCharacterCollection}{Egg\+Character\+Collection} class as new models are discovered.

A "{}model"{} here is either a character model (or one LOD of a character model), or a character animation file\+: in either case, a hierarchy of joints. \Hypertarget{classEggCharacterData_a9f9289591422c32283998e1d4542e188}\label{classEggCharacterData_a9f9289591422c32283998e1d4542e188} 
\index{EggCharacterData@{EggCharacterData}!check\_num\_frames@{check\_num\_frames}}
\index{check\_num\_frames@{check\_num\_frames}!EggCharacterData@{EggCharacterData}}
\doxysubsubsection{\texorpdfstring{check\_num\_frames()}{check\_num\_frames()}}
{\footnotesize\ttfamily bool Egg\+Character\+Data\+::check\+\_\+num\+\_\+frames (\begin{DoxyParamCaption}\item[{int}]{model\+\_\+index }\end{DoxyParamCaption})}

Walks through each component and ensures that all have the same number of frames of animation (except for those that contain 0 or 1 frames, of course). Returns true if all are valid, false if there is a discreprency (in which case the shorter component are extended). \Hypertarget{classEggCharacterData_a27afbfc265e20debed76abf426bed4d1}\label{classEggCharacterData_a27afbfc265e20debed76abf426bed4d1} 
\index{EggCharacterData@{EggCharacterData}!choose\_optimal\_hierarchy@{choose\_optimal\_hierarchy}}
\index{choose\_optimal\_hierarchy@{choose\_optimal\_hierarchy}!EggCharacterData@{EggCharacterData}}
\doxysubsubsection{\texorpdfstring{choose\_optimal\_hierarchy()}{choose\_optimal\_hierarchy()}}
{\footnotesize\ttfamily void Egg\+Character\+Data\+::choose\+\_\+optimal\+\_\+hierarchy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Chooses the best possible parent joint for each of the joints in the hierarchy, based on the score computed by \doxylink{classEggJointData_a116ad3ff91a23b6957011697dd76ff2c}{Egg\+Joint\+Data\+::score\+\_\+reparent\+\_\+to()}. This is a fairly expensive operation that involves lots of recomputing of transforms across the hierarchy.

The joints are not actually reparented yet, but the new\+\_\+parent of each joint is set. Call \doxylink{classEggCharacterData_ad948e6a6da71e5403999b860cf29aa27}{do\+\_\+reparent()} to actually perform the suggested reparenting operation. \Hypertarget{classEggCharacterData_ad948e6a6da71e5403999b860cf29aa27}\label{classEggCharacterData_ad948e6a6da71e5403999b860cf29aa27} 
\index{EggCharacterData@{EggCharacterData}!do\_reparent@{do\_reparent}}
\index{do\_reparent@{do\_reparent}!EggCharacterData@{EggCharacterData}}
\doxysubsubsection{\texorpdfstring{do\_reparent()}{do\_reparent()}}
{\footnotesize\ttfamily bool Egg\+Character\+Data\+::do\+\_\+reparent (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Begins the process of restructuring the joint hierarchy according to the previous calls to reparent\+\_\+to() on various joints. This will reparent the joint hierachy in all models as requested, while adjusting the transforms as appropriate so that each joint retains the same net transform across all frames that it had before the operation. Returns true on success, false on failure. \Hypertarget{classEggCharacterData_a9728ab2f8e3c56800ba48754a3d87079}\label{classEggCharacterData_a9728ab2f8e3c56800ba48754a3d87079} 
\index{EggCharacterData@{EggCharacterData}!estimate\_db\_size@{estimate\_db\_size}}
\index{estimate\_db\_size@{estimate\_db\_size}!EggCharacterData@{EggCharacterData}}
\doxysubsubsection{\texorpdfstring{estimate\_db\_size()}{estimate\_db\_size()}}
{\footnotesize\ttfamily size\+\_\+t Egg\+Character\+Data\+::estimate\+\_\+db\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the estimated amount of memory, in megabytes, that will be required to perform the \doxylink{classEggCharacterData_ad948e6a6da71e5403999b860cf29aa27}{do\+\_\+reparent()} operation. This is used mainly be \doxylink{classEggCharacterDb}{Egg\+Character\+Db} to decide up front whether to store this data in-\/\+RAM or on-\/ disk. \Hypertarget{classEggCharacterData_a852f02cbeea898a5984e9fd14e15ea3f}\label{classEggCharacterData_a852f02cbeea898a5984e9fd14e15ea3f} 
\index{EggCharacterData@{EggCharacterData}!find\_slider@{find\_slider}}
\index{find\_slider@{find\_slider}!EggCharacterData@{EggCharacterData}}
\doxysubsubsection{\texorpdfstring{find\_slider()}{find\_slider()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classEggSliderData}{Egg\+Slider\+Data}} \texorpdfstring{$\ast$}{*} Egg\+Character\+Data\+::find\+\_\+slider (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption}) const}

Returns the slider with the indicated name, or NULL if no slider has that name. \Hypertarget{classEggCharacterData_a3777905f160f6b74de0935f0c2241442}\label{classEggCharacterData_a3777905f160f6b74de0935f0c2241442} 
\index{EggCharacterData@{EggCharacterData}!get\_frame\_rate@{get\_frame\_rate}}
\index{get\_frame\_rate@{get\_frame\_rate}!EggCharacterData@{EggCharacterData}}
\doxysubsubsection{\texorpdfstring{get\_frame\_rate()}{get\_frame\_rate()}}
{\footnotesize\ttfamily double Egg\+Character\+Data\+::get\+\_\+frame\+\_\+rate (\begin{DoxyParamCaption}\item[{int}]{model\+\_\+index }\end{DoxyParamCaption}) const}

Returns the stated frame rate of the specified model. Similar to \doxylink{classEggCharacterData_a781dd50ca0652abcffb2c519db22705c}{get\+\_\+num\+\_\+frames()}. \Hypertarget{classEggCharacterData_a781dd50ca0652abcffb2c519db22705c}\label{classEggCharacterData_a781dd50ca0652abcffb2c519db22705c} 
\index{EggCharacterData@{EggCharacterData}!get\_num\_frames@{get\_num\_frames}}
\index{get\_num\_frames@{get\_num\_frames}!EggCharacterData@{EggCharacterData}}
\doxysubsubsection{\texorpdfstring{get\_num\_frames()}{get\_num\_frames()}}
{\footnotesize\ttfamily int Egg\+Character\+Data\+::get\+\_\+num\+\_\+frames (\begin{DoxyParamCaption}\item[{int}]{model\+\_\+index }\end{DoxyParamCaption}) const}

Returns the number of frames of animation of the indicated model. This is more reliable than asking a particular joint or slider of the animation for its number of frames, since a particular joint may have only 1 frame (if it is unanimated), even though the overall animation has many frames. \Hypertarget{classEggCharacterData_ab0b108a835a587aea159766117ea749c}\label{classEggCharacterData_ab0b108a835a587aea159766117ea749c} 
\index{EggCharacterData@{EggCharacterData}!make\_slider@{make\_slider}}
\index{make\_slider@{make\_slider}!EggCharacterData@{EggCharacterData}}
\doxysubsubsection{\texorpdfstring{make\_slider()}{make\_slider()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classEggSliderData}{Egg\+Slider\+Data}} \texorpdfstring{$\ast$}{*} Egg\+Character\+Data\+::make\+\_\+slider (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})}

Returns the slider matching the indicated name. If no such slider exists already, creates a new one. \Hypertarget{classEggCharacterData_ad882a65c39d5711483aebe8fe1989467}\label{classEggCharacterData_ad882a65c39d5711483aebe8fe1989467} 
\index{EggCharacterData@{EggCharacterData}!rename\_char@{rename\_char}}
\index{rename\_char@{rename\_char}!EggCharacterData@{EggCharacterData}}
\doxysubsubsection{\texorpdfstring{rename\_char()}{rename\_char()}}
{\footnotesize\ttfamily void Egg\+Character\+Data\+::rename\+\_\+char (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})}

Renames all of the models in the character data to the indicated name. This is the name that is used to identify unique skeleton hierarchies; if you set two different models to the same name, they will be loaded together as if they are expected to have the same skeleton hierarchy. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
pandatool/src/eggcharbase/\mbox{\hyperlink{eggCharacterData_8h}{egg\+Character\+Data.\+h}}\item 
pandatool/src/eggcharbase/\mbox{\hyperlink{eggCharacterData_8cxx}{egg\+Character\+Data.\+cxx}}\end{DoxyCompactItemize}
