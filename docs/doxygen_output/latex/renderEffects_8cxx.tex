\doxysection{panda/src/pgraph/render\+Effects.cxx File Reference}
\hypertarget{renderEffects_8cxx}{}\label{renderEffects_8cxx}\index{panda/src/pgraph/renderEffects.cxx@{panda/src/pgraph/renderEffects.cxx}}
{\ttfamily \#include "{}render\+Effects.\+h"{}}\newline
{\ttfamily \#include "{}billboard\+Effect.\+h"{}}\newline
{\ttfamily \#include "{}decal\+Effect.\+h"{}}\newline
{\ttfamily \#include "{}compass\+Effect.\+h"{}}\newline
{\ttfamily \#include "{}polylight\+Effect.\+h"{}}\newline
{\ttfamily \#include "{}show\+Bounds\+Effect.\+h"{}}\newline
{\ttfamily \#include "{}config\+\_\+pgraph.\+h"{}}\newline
{\ttfamily \#include "{}bam\+Reader.\+h"{}}\newline
{\ttfamily \#include "{}bam\+Writer.\+h"{}}\newline
{\ttfamily \#include "{}datagram\+Iterator.\+h"{}}\newline
{\ttfamily \#include "{}indent.\+h"{}}\newline
{\ttfamily \#include "{}compare\+To.\+h"{}}\newline
{\ttfamily \#include "{}light\+Re\+Mutex\+Holder.\+h"{}}\newline
{\ttfamily \#include "{}light\+Mutex\+Holder.\+h"{}}\newline
{\ttfamily \#include "{}thread.\+h"{}}\newline
{\ttfamily \#include $<$iterator$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{renderEffects_8cxx_a6436db3319c4ef68fb09b2523dbcd1aa}{CPT}} (\mbox{\hyperlink{classTransformState}{Transform\+State}}) \mbox{\hyperlink{classRenderEffects}{Render\+Effects}}
\item 
\mbox{\hyperlink{renderEffects_8cxx_ae54dcd437011974395af0e147e87941d}{CPT}} (\mbox{\hyperlink{classRenderEffects}{Render\+Effects}}) \mbox{\hyperlink{classRenderEffects}{Render\+Effects}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PANDA 3D SOFTWARE Copyright (c) Carnegie Mellon University. All rights reserved.

All use of this software is subject to the terms of the revised BSD license. You should have received a copy of this license along with this source code in a file named "{}\+LICENSE."{}

\begin{DoxyAuthor}{Author}
drose 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2002-\/03-\/14 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{renderEffects_8cxx_ae54dcd437011974395af0e147e87941d}\label{renderEffects_8cxx_ae54dcd437011974395af0e147e87941d} 
\index{renderEffects.cxx@{renderEffects.cxx}!CPT@{CPT}}
\index{CPT@{CPT}!renderEffects.cxx@{renderEffects.cxx}}
\doxysubsubsection{\texorpdfstring{CPT()}{CPT()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily CPT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classRenderEffects}{Render\+Effects}}}]{ }\end{DoxyParamCaption})}

Returns a \doxylink{classRenderEffects}{Render\+Effects} with one effect set.

Returns a \doxylink{classRenderEffects}{Render\+Effects} with two effects set.

Returns a \doxylink{classRenderEffects}{Render\+Effects} with three effects set.

Returns a \doxylink{classRenderEffects}{Render\+Effects} with four effects set.

Returns a new \doxylink{classRenderEffects}{Render\+Effects} object that represents the same as the source state, with the new \doxylink{classRenderEffect}{Render\+Effect} added. If there is already a \doxylink{classRenderEffect}{Render\+Effect} with the same type, it is replaced. Returns a new \doxylink{classRenderEffects}{Render\+Effects} object that represents the same as the source state, with the indicated \doxylink{classRenderEffect}{Render\+Effect} removed. Looks for a \doxylink{classRenderEffect}{Render\+Effect} of the indicated type in the state, and returns it if it is found, or NULL if it is not. This method overrides Reference\+Count\+::unref() to check whether the remaining reference count is entirely in the cache, and if so, it checks for and breaks a cycle in the cache involving this object. This is designed to prevent leaks from cyclical references within the cache.

Note that this is not a virtual method, and cannot be because \doxylink{classReferenceCount}{Reference\+Count} itself declares no virtual methods (it avoids the overhead of a virtual function pointer). But this doesn\textquotesingle{}t matter, because PT(\+Transform\+State) is a template class, and will call the appropriate method even though it is non-\/virtual. Returns the total number of unique \doxylink{classRenderEffects}{Render\+Effects} objects allocated in the world. This will go up and down during normal operations.

This function is used to share a common \doxylink{classRenderEffects}{Render\+Effects} pointer for all equivalent \doxylink{classRenderEffects}{Render\+Effects} objects.

See the similar logic in \doxylink{classRenderEffect}{Render\+Effect}. The idea is to create a new \doxylink{classRenderEffects}{Render\+Effects} object and pass it through this function, which will share the pointer with a previously-\/created \doxylink{classRenderEffects}{Render\+Effects} object if it is equivalent. \Hypertarget{renderEffects_8cxx_a6436db3319c4ef68fb09b2523dbcd1aa}\label{renderEffects_8cxx_a6436db3319c4ef68fb09b2523dbcd1aa} 
\index{renderEffects.cxx@{renderEffects.cxx}!CPT@{CPT}}
\index{CPT@{CPT}!renderEffects.cxx@{renderEffects.cxx}}
\doxysubsubsection{\texorpdfstring{CPT()}{CPT()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily CPT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTransformState}{Transform\+State}}}]{ }\end{DoxyParamCaption})}

Preprocesses the accumulated transform that is about to be applied to (or through) this node due to a flatten operation. The returned value will be used instead. Returns true if all of the effects in this set can safely be shared with a sibling node that has the exact same set of effects, or false if this would be bad for any of the effects. Returns a new \doxylink{classRenderEffects}{Render\+Effects} transformed by the indicated matrix. Provides an arbitrary ordering among all unique \doxylink{classRenderEffects}{Render\+Effects}, so we can store the essentially different ones in a big set and throw away the rest.

This method is not needed outside of the \doxylink{classRenderEffects}{Render\+Effects} class because all equivalent \doxylink{classRenderEffects}{Render\+Effects} objects are guaranteed to share the same pointer; thus, a pointer comparison is always sufficient. Searches for an effect with the indicated type in the state, and returns its index if it is found, or -\/1 if it is not. Returns a \doxylink{classRenderEffects}{Render\+Effects} with no effects set. 