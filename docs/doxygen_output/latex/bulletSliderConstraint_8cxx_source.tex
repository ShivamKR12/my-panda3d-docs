\doxysection{bullet\+Slider\+Constraint.\+cxx}
\hypertarget{bulletSliderConstraint_8cxx_source}{}\label{bulletSliderConstraint_8cxx_source}\index{panda/src/bullet/bulletSliderConstraint.cxx@{panda/src/bullet/bulletSliderConstraint.cxx}}
\mbox{\hyperlink{bulletSliderConstraint_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletSliderConstraint_8h}{bulletSliderConstraint.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletRigidBodyNode_8h}{bulletRigidBodyNode.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletWorld_8h}{bulletWorld.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{deg__2__rad_8h}{deg\_2\_rad.h}}"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ BulletSliderConstraint::\_type\_handle;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00026\ BulletSliderConstraint::}
\DoxyCodeLine{00027\ BulletSliderConstraint(\textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletRigidBodyNode}{BulletRigidBodyNode}}\ *node\_a,}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *frame\_a,}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ use\_frame\_a)\ \{}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \mbox{\hyperlink{classbtRigidBody}{btRigidBody}}\ *ptr\_a\ =\ btRigidBody::upcast(node\_a-\/>get\_object());}
\DoxyCodeLine{00032\ \ \ btTransform\ trans\_a\ =\ TransformState\_to\_btTrans(frame\_a);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \_constraint\ =\ \textcolor{keyword}{new}\ btSliderConstraint(*ptr\_a,\ trans\_a,\ use\_frame\_a);}
\DoxyCodeLine{00035\ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00040\ BulletSliderConstraint::}
\DoxyCodeLine{00041\ BulletSliderConstraint(\textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletRigidBodyNode}{BulletRigidBodyNode}}\ *node\_a,}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBulletRigidBodyNode}{BulletRigidBodyNode}}\ *node\_b,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *frame\_a,}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *frame\_b,}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ use\_frame\_a)\ \{}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \mbox{\hyperlink{classbtRigidBody}{btRigidBody}}\ *ptr\_a\ =\ btRigidBody::upcast(node\_a-\/>get\_object());}
\DoxyCodeLine{00048\ \ \ btTransform\ trans\_a\ =\ TransformState\_to\_btTrans(frame\_a);}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \mbox{\hyperlink{classbtRigidBody}{btRigidBody}}\ *ptr\_b\ =\ btRigidBody::upcast(node\_b-\/>get\_object());}
\DoxyCodeLine{00051\ \ \ btTransform\ trans\_b\ =\ TransformState\_to\_btTrans(frame\_b);}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \_constraint\ =\ \textcolor{keyword}{new}\ btSliderConstraint(*ptr\_a,\ *ptr\_b,\ trans\_a,\ trans\_b,\ use\_frame\_a);}
\DoxyCodeLine{00054\ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00059\ btTypedConstraint\ *BulletSliderConstraint::}
\DoxyCodeLine{00060\ ptr()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{keywordflow}{return}\ \_constraint;}
\DoxyCodeLine{00063\ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00068\ PN\_stdfloat\ BulletSliderConstraint::}
\DoxyCodeLine{00069\ get\_lower\_linear\_limit()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \textcolor{keywordflow}{return}\ (PN\_stdfloat)\_constraint-\/>getLowerLinLimit();}
\DoxyCodeLine{00073\ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00078\ PN\_stdfloat\ BulletSliderConstraint::}
\DoxyCodeLine{00079\ get\_upper\_linear\_limit()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{keywordflow}{return}\ (PN\_stdfloat)\_constraint-\/>getUpperLinLimit();}
\DoxyCodeLine{00083\ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00088\ PN\_stdfloat\ BulletSliderConstraint::}
\DoxyCodeLine{00089\ get\_lower\_angular\_limit()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00090\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \textcolor{keywordflow}{return}\ rad\_2\_deg(\_constraint-\/>getLowerAngLimit());}
\DoxyCodeLine{00093\ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00098\ PN\_stdfloat\ BulletSliderConstraint::}
\DoxyCodeLine{00099\ get\_upper\_angular\_limit()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00100\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \textcolor{keywordflow}{return}\ rad\_2\_deg(\_constraint-\/>getUpperAngLimit());}
\DoxyCodeLine{00103\ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00108\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00109\ set\_lower\_linear\_limit(PN\_stdfloat\ value)\ \{}
\DoxyCodeLine{00110\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \_constraint-\/>setLowerLinLimit((btScalar)value);}
\DoxyCodeLine{00113\ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00118\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00119\ set\_upper\_linear\_limit(PN\_stdfloat\ value)\ \{}
\DoxyCodeLine{00120\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \_constraint-\/>setUpperLinLimit((btScalar)value);}
\DoxyCodeLine{00123\ \}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00128\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00129\ set\_lower\_angular\_limit(PN\_stdfloat\ value)\ \{}
\DoxyCodeLine{00130\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \_constraint-\/>setLowerAngLimit((btScalar)deg\_2\_rad(value));}
\DoxyCodeLine{00133\ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00138\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00139\ set\_upper\_angular\_limit(PN\_stdfloat\ value)\ \{}
\DoxyCodeLine{00140\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \_constraint-\/>setUpperAngLimit((btScalar)deg\_2\_rad(value));}
\DoxyCodeLine{00143\ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00148\ PN\_stdfloat\ BulletSliderConstraint::}
\DoxyCodeLine{00149\ get\_linear\_pos()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00150\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \textcolor{keywordflow}{return}\ (PN\_stdfloat)\_constraint-\/>getLinearPos();}
\DoxyCodeLine{00153\ \}}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00158\ PN\_stdfloat\ BulletSliderConstraint::}
\DoxyCodeLine{00159\ get\_angular\_pos()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00160\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \textcolor{keywordflow}{return}\ (PN\_stdfloat)\_constraint-\/>getAngularPos();}
\DoxyCodeLine{00163\ \}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00168\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00169\ set\_powered\_linear\_motor(\textcolor{keywordtype}{bool}\ on)\ \{}
\DoxyCodeLine{00170\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \_constraint-\/>setPoweredLinMotor(on);}
\DoxyCodeLine{00173\ \}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00178\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00179\ set\_target\_linear\_motor\_velocity(PN\_stdfloat\ target\_velocity)\ \{}
\DoxyCodeLine{00180\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \_constraint-\/>setTargetLinMotorVelocity((btScalar)target\_velocity);}
\DoxyCodeLine{00183\ \}}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00188\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00189\ set\_max\_linear\_motor\_force(PN\_stdfloat\ max\_force)\ \{}
\DoxyCodeLine{00190\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \_constraint-\/>setMaxLinMotorForce((btScalar)max\_force);}
\DoxyCodeLine{00193\ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00198\ \textcolor{keywordtype}{bool}\ BulletSliderConstraint::}
\DoxyCodeLine{00199\ get\_powered\_linear\_motor()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00200\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \textcolor{keywordflow}{return}\ \_constraint-\/>getPoweredLinMotor();}
\DoxyCodeLine{00203\ \}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00208\ PN\_stdfloat\ BulletSliderConstraint::}
\DoxyCodeLine{00209\ get\_target\_linear\_motor\_velocity()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00210\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \textcolor{keywordflow}{return}\ (PN\_stdfloat)\_constraint-\/>getTargetLinMotorVelocity();}
\DoxyCodeLine{00213\ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00218\ PN\_stdfloat\ BulletSliderConstraint::}
\DoxyCodeLine{00219\ get\_max\_linear\_motor\_force()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00220\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \textcolor{keywordflow}{return}\ (PN\_stdfloat)\_constraint-\/>getMaxLinMotorForce();}
\DoxyCodeLine{00223\ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00228\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00229\ set\_powered\_angular\_motor(\textcolor{keywordtype}{bool}\ on)\ \{}
\DoxyCodeLine{00230\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \_constraint-\/>setPoweredAngMotor(on);}
\DoxyCodeLine{00233\ \}}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00238\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00239\ set\_target\_angular\_motor\_velocity(PN\_stdfloat\ target\_velocity)\ \{}
\DoxyCodeLine{00240\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \_constraint-\/>setTargetAngMotorVelocity((btScalar)target\_velocity);}
\DoxyCodeLine{00243\ \}}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00248\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00249\ set\_max\_angular\_motor\_force(PN\_stdfloat\ max\_force)\ \{}
\DoxyCodeLine{00250\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \ \ \_constraint-\/>setMaxAngMotorForce((btScalar)max\_force);}
\DoxyCodeLine{00253\ \}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00258\ \textcolor{keywordtype}{bool}\ BulletSliderConstraint::}
\DoxyCodeLine{00259\ get\_powered\_angular\_motor()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00260\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \ \ \textcolor{keywordflow}{return}\ \_constraint-\/>getPoweredAngMotor();}
\DoxyCodeLine{00263\ \}}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00268\ PN\_stdfloat\ BulletSliderConstraint::}
\DoxyCodeLine{00269\ get\_target\_angular\_motor\_velocity()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00270\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \textcolor{keywordflow}{return}\ (PN\_stdfloat)\_constraint-\/>getTargetAngMotorVelocity();}
\DoxyCodeLine{00273\ \}}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00278\ PN\_stdfloat\ BulletSliderConstraint::}
\DoxyCodeLine{00279\ get\_max\_angular\_motor\_force()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00280\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \ \ \textcolor{keywordflow}{return}\ (PN\_stdfloat)\_constraint-\/>getMaxAngMotorForce();}
\DoxyCodeLine{00283\ \}}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00288\ \textcolor{keywordtype}{void}\ BulletSliderConstraint::}
\DoxyCodeLine{00289\ set\_frames(\textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *ts\_a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classTransformState}{TransformState}}\ *ts\_b)\ \{}
\DoxyCodeLine{00290\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \ \ btTransform\ frame\_a\ =\ TransformState\_to\_btTrans(ts\_a);}
\DoxyCodeLine{00293\ \ \ btTransform\ frame\_b\ =\ TransformState\_to\_btTrans(ts\_b);}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \ \ \_constraint-\/>setFrames(frame\_a,\ frame\_b);}
\DoxyCodeLine{00296\ \}}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00301\ CPT(\mbox{\hyperlink{classTransformState}{TransformState}})\ BulletSliderConstraint::}
\DoxyCodeLine{00302\ get\_frame\_a()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00303\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00305\ \ \ \textcolor{keywordflow}{return}\ btTrans\_to\_TransformState(\_constraint-\/>getFrameOffsetA());}
\DoxyCodeLine{00306\ \}}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00311\ CPT(\mbox{\hyperlink{classTransformState}{TransformState}})\ BulletSliderConstraint::}
\DoxyCodeLine{00312\ get\_frame\_b()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00313\ \ \ \mbox{\hyperlink{classLightMutexHolder}{LightMutexHolder}}\ holder(BulletWorld::get\_global\_lock());}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \textcolor{keywordflow}{return}\ btTrans\_to\_TransformState(\_constraint-\/>getFrameOffsetB());}
\DoxyCodeLine{00316\ \}}

\end{DoxyCode}
