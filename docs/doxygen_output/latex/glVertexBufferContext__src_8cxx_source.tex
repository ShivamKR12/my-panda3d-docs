\doxysection{gl\+Vertex\+Buffer\+Context\+\_\+src.\+cxx}
\hypertarget{glVertexBufferContext__src_8cxx_source}{}\label{glVertexBufferContext__src_8cxx_source}\index{panda/src/glstuff/glVertexBufferContext\_src.cxx@{panda/src/glstuff/glVertexBufferContext\_src.cxx}}
\mbox{\hyperlink{glVertexBufferContext__src_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ CLP(\mbox{\hyperlink{classVertexBufferContext}{VertexBufferContext}})::\_type\_handle;}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00026\ \textcolor{keywordtype}{void}\ CLP(\mbox{\hyperlink{classVertexBufferContext}{VertexBufferContext}})::}
\DoxyCodeLine{00027\ evict\_lru()\ \{}
\DoxyCodeLine{00028\ \ \ dequeue\_lru();}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \textcolor{comment}{//\ Make\ sure\ the\ buffer\ is\ unbound\ before\ we\ delete\ it.}}
\DoxyCodeLine{00031\ \ \ \textcolor{keywordflow}{if}\ (\_glgsg-\/>\_current\_vbuffer\_index\ ==\ \_index)\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordflow}{if}\ (GLCAT.is\_debug()\ \&\&\ gl\_debug\_buffers)\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ GLCAT.debug()}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}unbinding\ vertex\ buffer\(\backslash\)n"{}};}
\DoxyCodeLine{00035\ \ \ \ \ \}}
\DoxyCodeLine{00036\ \ \ \ \ \_glgsg-\/>\_glBindBuffer(GL\_ARRAY\_BUFFER,\ 0);}
\DoxyCodeLine{00037\ \ \ \ \ \_glgsg-\/>\_current\_vbuffer\_index\ =\ 0;}
\DoxyCodeLine{00038\ \ \ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \textcolor{comment}{//\ Free\ the\ buffer.}}
\DoxyCodeLine{00041\ \ \ \_glgsg-\/>\_glDeleteBuffers(1,\ \&\_index);}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \textcolor{comment}{//\ We\ still\ need\ a\ valid\ index\ number,\ though,\ in\ case\ we\ want\ to\ re-\/load}}
\DoxyCodeLine{00044\ \ \ \textcolor{comment}{//\ the\ buffer\ later.}}
\DoxyCodeLine{00045\ \ \ \_glgsg-\/>\_glGenBuffers(1,\ \&\_index);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ update\_data\_size\_bytes(0);}
\DoxyCodeLine{00048\ \ \ mark\_unloaded();}
\DoxyCodeLine{00049\ \}}

\end{DoxyCode}
