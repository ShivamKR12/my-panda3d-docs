\doxysection{ode\+Util.\+cxx}
\hypertarget{odeUtil_8cxx_source}{}\label{odeUtil_8cxx_source}\index{panda/src/ode/odeUtil.cxx@{panda/src/ode/odeUtil.cxx}}
\mbox{\hyperlink{odeUtil_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{odeUtil_8h}{odeUtil.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ dReal\ OdeUtil::OC\_infinity\ =\ dInfinity;}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00021\ \mbox{\hyperlink{classOdeJoint}{OdeJoint}}\ OdeUtil::}
\DoxyCodeLine{00022\ get\_connecting\_joint(\textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeBody}{OdeBody}}\ \&body1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeBody}{OdeBody}}\ \&body2)\ \{}
\DoxyCodeLine{00023\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classOdeJoint}{OdeJoint}}(dConnectingJoint(body1.get\_id(),body2.get\_id()));}
\DoxyCodeLine{00024\ \}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00029\ \mbox{\hyperlink{classOdeJointCollection}{OdeJointCollection}}\ OdeUtil::}
\DoxyCodeLine{00030\ get\_connecting\_joint\_list(\textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeBody}{OdeBody}}\ \&body1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeBody}{OdeBody}}\ \&body2)\ \{}
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ max\_possible\_joints\ =\ std::min(body1.get\_num\_joints(),\ body1.get\_num\_joints());}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ dJointID\ *joint\_list\ =\ (dJointID\ *)PANDA\_MALLOC\_ARRAY(max\_possible\_joints\ *\ \textcolor{keyword}{sizeof}(dJointID));}
\DoxyCodeLine{00034\ \ \ \textcolor{keywordtype}{int}\ num\_joints\ =\ dConnectingJointList(body1.get\_id(),\ body2.get\_id(),}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ joint\_list);}
\DoxyCodeLine{00036\ \ \ \mbox{\hyperlink{classOdeJointCollection}{OdeJointCollection}}\ joints;}
\DoxyCodeLine{00037\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_joints;\ i++)\ \{}
\DoxyCodeLine{00038\ \ \ \ \ joints.add\_joint(\mbox{\hyperlink{classOdeJoint}{OdeJoint}}(joint\_list[i]));}
\DoxyCodeLine{00039\ \ \ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ PANDA\_FREE\_ARRAY(joint\_list);}
\DoxyCodeLine{00042\ \ \ \textcolor{keywordflow}{return}\ joints;}
\DoxyCodeLine{00043\ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00049\ \textcolor{keywordtype}{int}\ OdeUtil::}
\DoxyCodeLine{00050\ are\_connected(\textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeBody}{OdeBody}}\ \&body1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeBody}{OdeBody}}\ \&body2)\ \{}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{return}\ dAreConnected(body1.get\_id(),body2.get\_id());}
\DoxyCodeLine{00052\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00062\ \textcolor{keywordtype}{int}\ OdeUtil::}
\DoxyCodeLine{00063\ are\_connected\_excluding(\textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeBody}{OdeBody}}\ \&body1,}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeBody}{OdeBody}}\ \&body2,}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ joint\_type)\ \{}
\DoxyCodeLine{00066\ \ \ \textcolor{keywordflow}{return}\ dAreConnectedExcluding(body1.get\_id(),}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ body2.get\_id(),}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ joint\_type);}
\DoxyCodeLine{00069\ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00075\ PT(\mbox{\hyperlink{classOdeCollisionEntry}{OdeCollisionEntry}})\ OdeUtil::}
\DoxyCodeLine{00076\ collide(\textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeGeom}{OdeGeom}}\ \&geom1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeGeom}{OdeGeom}}\ \&geom2,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{short}\ \textcolor{keywordtype}{int}\ max\_contacts)\ \{}
\DoxyCodeLine{00077\ \ \ dContactGeom\ *contact\_list\ =\ (dContactGeom\ *)PANDA\_MALLOC\_ARRAY(max\_contacts\ *\ \textcolor{keyword}{sizeof}(dContactGeom));}
\DoxyCodeLine{00078\ \ \ \textcolor{keywordtype}{int}\ num\_contacts\ =\ dCollide(geom1.get\_id(),\ geom2.get\_id(),\ max\_contacts,\ contact\_list,\ \textcolor{keyword}{sizeof}(dContactGeom));}
\DoxyCodeLine{00079\ \ \ PT(\mbox{\hyperlink{classOdeCollisionEntry}{OdeCollisionEntry}})\ entry\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classOdeCollisionEntry}{OdeCollisionEntry}}();}
\DoxyCodeLine{00080\ \ \ entry-\/>\_geom1\ =\ geom1.get\_id();}
\DoxyCodeLine{00081\ \ \ entry-\/>\_geom2\ =\ geom2.get\_id();}
\DoxyCodeLine{00082\ \ \ entry-\/>\_body1\ =\ dGeomGetBody(geom1.get\_id());}
\DoxyCodeLine{00083\ \ \ entry-\/>\_body2\ =\ dGeomGetBody(geom2.get\_id());}
\DoxyCodeLine{00084\ \ \ entry-\/>\_num\_contacts\ =\ num\_contacts;}
\DoxyCodeLine{00085\ \ \ entry-\/>\_contact\_geoms\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classOdeContactGeom}{OdeContactGeom}}[num\_contacts];}
\DoxyCodeLine{00086\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_contacts;\ i++)\ \{}
\DoxyCodeLine{00087\ \ \ \ \ entry-\/>\_contact\_geoms[i]\ =\ contact\_list[i];}
\DoxyCodeLine{00088\ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ PANDA\_FREE\_ARRAY(contact\_list);}
\DoxyCodeLine{00091\ \ \ \textcolor{keywordflow}{return}\ entry;}
\DoxyCodeLine{00092\ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \mbox{\hyperlink{classOdeGeom}{OdeGeom}}\ OdeUtil::}
\DoxyCodeLine{00095\ space\_to\_geom(\textcolor{keyword}{const}\ \mbox{\hyperlink{classOdeSpace}{OdeSpace}}\ \&space)\ \{}
\DoxyCodeLine{00096\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classOdeGeom}{OdeGeom}}((dGeomID)space.get\_id());}
\DoxyCodeLine{00097\ \}}

\end{DoxyCode}
