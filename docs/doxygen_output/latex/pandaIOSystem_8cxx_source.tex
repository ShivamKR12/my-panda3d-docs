\doxysection{panda\+IOSystem.\+cxx}
\hypertarget{pandaIOSystem_8cxx_source}{}\label{pandaIOSystem_8cxx_source}\index{pandatool/src/assimp/pandaIOSystem.cxx@{pandatool/src/assimp/pandaIOSystem.cxx}}
\mbox{\hyperlink{pandaIOSystem_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandaIOSystem_8h}{pandaIOSystem.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandaIOStream_8h}{pandaIOStream.h}}"{}}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00021\ \mbox{\hyperlink{classPandaIOSystem_adcdd5f104aa86d9563bc2e78d46242d7}{PandaIOSystem::}}}
\DoxyCodeLine{00022\ \mbox{\hyperlink{classPandaIOSystem_adcdd5f104aa86d9563bc2e78d46242d7}{PandaIOSystem}}(\mbox{\hyperlink{classVirtualFileSystem}{VirtualFileSystem}}\ *vfs)\ :\ \_vfs(vfs)\ \{}
\DoxyCodeLine{00023\ \}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00028\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classPandaIOSystem_a26421ead3f1390e66027331dd30cfe94}{PandaIOSystem::}}}
\DoxyCodeLine{00029\ \mbox{\hyperlink{classPandaIOSystem_a26421ead3f1390e66027331dd30cfe94}{Exists}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *file)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00030\ \ \ \mbox{\hyperlink{classFilename}{Filename}}\ fn\ =\ \mbox{\hyperlink{classFilename_ab17a80adaab942d6570d114d6f0675c3}{Filename::from\_os\_specific}}(file);}
\DoxyCodeLine{00031\ \ \ \textcolor{keywordflow}{return}\ \_vfs-\/>exists(fn);}
\DoxyCodeLine{00032\ \}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00037\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classPandaIOSystem_ac27d9e5b9223c97b0f13b185ce5152e7}{PandaIOSystem::}}}
\DoxyCodeLine{00038\ \mbox{\hyperlink{classPandaIOSystem_ac27d9e5b9223c97b0f13b185ce5152e7}{Close}}(Assimp::IOStream\ *file)\ \{}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{classPandaIOStream}{PandaIOStream}}\ *pstr\ =\ (\mbox{\hyperlink{classPandaIOStream}{PandaIOStream}}*)\ file;}
\DoxyCodeLine{00040\ \ \ \_vfs-\/>close\_read\_file(\&pstr-\/>\_istream);}
\DoxyCodeLine{00041\ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00046\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classPandaIOSystem_a8a9e0d3f7fa454b3e23e4b14beb71622}{PandaIOSystem::}}}
\DoxyCodeLine{00047\ \mbox{\hyperlink{classPandaIOSystem_a8a9e0d3f7fa454b3e23e4b14beb71622}{ComparePaths}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *p1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *p2)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{classFilename}{Filename}}\ fn1\ =\ \mbox{\hyperlink{classFilename_ab17a80adaab942d6570d114d6f0675c3}{Filename::from\_os\_specific}}(p1);}
\DoxyCodeLine{00049\ \ \ \mbox{\hyperlink{classFilename}{Filename}}\ fn2\ =\ \mbox{\hyperlink{classFilename_ab17a80adaab942d6570d114d6f0675c3}{Filename::from\_os\_specific}}(p2);}
\DoxyCodeLine{00050\ \ \ fn1.\mbox{\hyperlink{classFilename_aae0841e487db8763ec578db102d87bc6}{make\_canonical}}();}
\DoxyCodeLine{00051\ \ \ fn2.\mbox{\hyperlink{classFilename_aae0841e487db8763ec578db102d87bc6}{make\_canonical}}();}
\DoxyCodeLine{00052\ \ \ \textcolor{keywordflow}{return}\ fn1\ ==\ fn2;}
\DoxyCodeLine{00053\ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00058\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{classPandaIOSystem_a3b1f1642a7bb375912b48708192d1a28}{PandaIOSystem::}}}
\DoxyCodeLine{00059\ \mbox{\hyperlink{classPandaIOSystem_a3b1f1642a7bb375912b48708192d1a28}{getOsSeparator}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00060\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{00061\ \ \ \textcolor{keywordflow}{return}\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'};}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00063\ \ \ \textcolor{keywordflow}{return}\ \textcolor{charliteral}{'/'};}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00065\ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00070\ Assimp::IOStream\ *\mbox{\hyperlink{classPandaIOSystem_a9c716fe12f91ce79888568f4f51f3dee}{PandaIOSystem::}}}
\DoxyCodeLine{00071\ \mbox{\hyperlink{classPandaIOSystem_a9c716fe12f91ce79888568f4f51f3dee}{Open}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *file,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *mode)\ \{}
\DoxyCodeLine{00072\ \ \ \mbox{\hyperlink{classFilename}{Filename}}\ fn\ =\ \mbox{\hyperlink{classFilename_ab17a80adaab942d6570d114d6f0675c3}{Filename::from\_os\_specific}}(file);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \textcolor{keywordflow}{if}\ (mode[0]\ ==\ \textcolor{charliteral}{'r'})\ \{}
\DoxyCodeLine{00075\ \ \ \ \ std::istream\ *stream\ =\ \_vfs-\/>open\_read\_file(file,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordflow}{if}\ (stream\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classPandaIOStream}{PandaIOStream}}(*stream);}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00082\ \ \ \ \ nassert\_raise(\textcolor{stringliteral}{"{}write\ mode\ not\ implemented"{}});}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00084\ \ \ \}}
\DoxyCodeLine{00085\ \}}

\end{DoxyCode}
