\doxysection{win\+Stats\+Graph.\+h}
\hypertarget{winStatsGraph_8h_source}{}\label{winStatsGraph_8h_source}\index{pandatool/src/win-\/stats/winStatsGraph.h@{pandatool/src/win-\/stats/winStatsGraph.h}}
\mbox{\hyperlink{winStatsGraph_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifndef\ WINSTATSGRAPH\_H}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ WINSTATSGRAPH\_H}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pandatoolbase_8h}{pandatoolbase.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{winStatsLabelStack_8h}{winStatsLabelStack.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pmap_8h}{pmap.h}}"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#ifndef\ WIN32\_LEAN\_AND\_MEAN}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#define\ WIN32\_LEAN\_AND\_MEAN\ 1}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{windows_8h}{windows.h}}>}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classPStatGraph}{PStatGraph}};}
\DoxyCodeLine{00027\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classWinStatsMonitor}{WinStatsMonitor}};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classWinStatsGraph}{WinStatsGraph}}\ \{}
\DoxyCodeLine{00034\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00035\ \ \ \textcolor{comment}{//\ What\ is\ the\ user\ adjusting\ by\ dragging\ the\ mouse\ in\ a\ window?}}
\DoxyCodeLine{00036\ \ \ \textcolor{keyword}{enum}\ DragMode\ \{}
\DoxyCodeLine{00037\ \ \ \ \ DM\_none,}
\DoxyCodeLine{00038\ \ \ \ \ DM\_scale,}
\DoxyCodeLine{00039\ \ \ \ \ DM\_left\_margin,}
\DoxyCodeLine{00040\ \ \ \ \ DM\_right\_margin,}
\DoxyCodeLine{00041\ \ \ \ \ DM\_guide\_bar,}
\DoxyCodeLine{00042\ \ \ \ \ DM\_new\_guide\_bar,}
\DoxyCodeLine{00043\ \ \ \ \ DM\_sizing,}
\DoxyCodeLine{00044\ \ \ \ \ DM\_pan,}
\DoxyCodeLine{00045\ \ \ \};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{classWinStatsGraph}{WinStatsGraph}}(\mbox{\hyperlink{classWinStatsMonitor}{WinStatsMonitor}}\ *monitor);}
\DoxyCodeLine{00049\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classWinStatsGraph}{\string~WinStatsGraph}}();}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a647e6ac8b4a69314d42f7f7b0cabab35}{new\_collector}}(\textcolor{keywordtype}{int}\ collector\_index);}
\DoxyCodeLine{00052\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_ad931580f25f48517a8652e91cf76fc19}{new\_data}}(\textcolor{keywordtype}{int}\ thread\_index,\ \textcolor{keywordtype}{int}\ frame\_number);}
\DoxyCodeLine{00053\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ force\_redraw()=0;}
\DoxyCodeLine{00054\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_af587ea85dbd88208f0a5e863a68b2b21}{changed\_graph\_size}}(\textcolor{keywordtype}{int}\ graph\_xsize,\ \textcolor{keywordtype}{int}\ graph\_ysize);}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a34152fa836e9bdf03848ff66f6d1af34}{set\_time\_units}}(\textcolor{keywordtype}{int}\ unit\_mask);}
\DoxyCodeLine{00057\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a13dca094434d17ba4a8d6227d050a225}{set\_scroll\_speed}}(\textcolor{keywordtype}{double}\ scroll\_speed);}
\DoxyCodeLine{00058\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a0e6c130af2d0846c9195f291e324e8b4}{set\_pause}}(\textcolor{keywordtype}{bool}\ pause);}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_aba675cf8df04c42d2630cdeb8de18b28}{user\_guide\_bars\_changed}}();}
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a16be06b08bc21b5b542205428a1734c9}{on\_click\_label}}(\textcolor{keywordtype}{int}\ collector\_index);}
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_af0fb2345b78c22ff952ad7933da28389}{on\_popup\_label}}(\textcolor{keywordtype}{int}\ collector\_index);}
\DoxyCodeLine{00063\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_ab41c5cb94385c9056550b6770718f373}{on\_enter\_label}}(\textcolor{keywordtype}{int}\ collector\_index);}
\DoxyCodeLine{00064\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a79e68ee93295dc80330a4bf0ccf8269b}{on\_leave\_label}}(\textcolor{keywordtype}{int}\ collector\_index);}
\DoxyCodeLine{00065\ \ \ \textcolor{keyword}{virtual}\ std::string\ \mbox{\hyperlink{classWinStatsGraph_a02897678ac15f7cc2c53b208864de49d}{get\_label\_tooltip}}(\textcolor{keywordtype}{int}\ collector\_index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_acc7a6d69229485cc5e6b1a0aaae66ab4}{clear\_graph\_tooltip}}();}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ HWND\ \mbox{\hyperlink{classWinStatsGraph_a5bef990c40badf52fe65219577e0c2b0}{get\_window}}();}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a0c3acadc92682d63b6116602e7f8e991}{reset\_collector\_color}}(\textcolor{keywordtype}{int}\ collector\_index);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00074\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a95fbe603386c41220a755ff7539b3179}{close}}();}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_ae4264dd0c02b3f91b5300f523b1aa5c6}{setup\_label\_stack}}();}
\DoxyCodeLine{00077\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_ad0ab730ec9b18e916af83ecc06624d02}{move\_label\_stack}}();}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a66d3acee49e839e08f8efc12beb03a54}{start\_animation}}();}
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classWinStatsGraph_a428a0d378cb71146d38f61e70bceff25}{animate}}(\textcolor{keywordtype}{double}\ time,\ \textcolor{keywordtype}{double}\ dt);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a09816c5e652ee201e9e4d82b442fffdf}{get\_window\_state}}(\textcolor{keywordtype}{int}\ \&x,\ \textcolor{keywordtype}{int}\ \&y,\ \textcolor{keywordtype}{int}\ \&width,\ \textcolor{keywordtype}{int}\ \&height,}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \&maximized,\ \textcolor{keywordtype}{bool}\ \&minimized)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00084\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_ac5e136b133729a00045771eb9a1085fe}{set\_window\_state}}(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y,\ \textcolor{keywordtype}{int}\ width,\ \textcolor{keywordtype}{int}\ height,}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ maximized,\ \textcolor{keywordtype}{bool}\ minimized);}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ HBRUSH\ \mbox{\hyperlink{classWinStatsGraph_a6c23dc88d8af5cc9e790ff31a8f74f09}{get\_collector\_brush}}(\textcolor{keywordtype}{int}\ collector\_index,\ \textcolor{keywordtype}{bool}\ highlight\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00088\ \ \ COLORREF\ \mbox{\hyperlink{classWinStatsGraph_a63439518bdc72a5d963e0eb8f7449b5c}{get\_collector\_text\_color}}(\textcolor{keywordtype}{int}\ collector\_index,\ \textcolor{keywordtype}{bool}\ highlight\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ LONG\ \mbox{\hyperlink{classWinStatsGraph_a9c3aa3051d400418232bea75f31872b5}{window\_proc}}(HWND\ hwnd,\ UINT\ msg,\ WPARAM\ wparam,\ LPARAM\ lparam);}
\DoxyCodeLine{00091\ \ \ \textcolor{keyword}{virtual}\ LONG\ graph\_window\_proc(HWND\ hwnd,\ UINT\ msg,\ WPARAM\ wparam,\ LPARAM\ lparam);}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_af804831604ea2b4c7a21737fa9ae4a2d}{additional\_window\_paint}}(HDC\ hdc);}
\DoxyCodeLine{00094\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_aa1e5392417ee3dddc526dd7e7d608a3f}{additional\_graph\_window\_paint}}(HDC\ hdc);}
\DoxyCodeLine{00095\ \ \ \textcolor{keyword}{virtual}\ std::string\ \mbox{\hyperlink{classWinStatsGraph_aa36a5a0b5f72fd4c46f5bddc548481b8}{get\_graph\_tooltip}}(\textcolor{keywordtype}{int}\ mouse\_x,\ \textcolor{keywordtype}{int}\ mouse\_y)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00096\ \ \ \textcolor{keyword}{virtual}\ DragMode\ \mbox{\hyperlink{classWinStatsGraph_a6e217fc14d67434560f235087055ccd4}{consider\_drag\_start}}(\textcolor{keywordtype}{int}\ mouse\_x,\ \textcolor{keywordtype}{int}\ mouse\_y,}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ width,\ \textcolor{keywordtype}{int}\ height);}
\DoxyCodeLine{00098\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_abfaa9f4c7cc277cf347ada58c7db2183}{set\_drag\_mode}}(DragMode\ drag\_mode);}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classWinStatsGraph_a4afd9c0b5f7e8e40e754b51db3e9c4d1}{move\_graph\_window}}(\textcolor{keywordtype}{int}\ graph\_left,\ \textcolor{keywordtype}{int}\ graph\_top,}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ graph\_xsize,\ \textcolor{keywordtype}{int}\ graph\_ysize);}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{//\ Table\ of\ brushes\ for\ our\ various\ collectors.}}
\DoxyCodeLine{00105\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classpmap}{pmap<int,\ std::pair<HBRUSH,\ HBRUSH>}}\ >\ \mbox{\hyperlink{classpmap}{Brushes}};}
\DoxyCodeLine{00106\ \ \ \mbox{\hyperlink{classpmap}{Brushes}}\ \_brushes;}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classpmap}{pmap<int,\ std::pair<COLORREF,\ COLORREF>}}\ >\ \mbox{\hyperlink{classpmap}{TextColors}};}
\DoxyCodeLine{00109\ \ \ \mbox{\hyperlink{classpmap}{TextColors}}\ \_text\_colors;}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \mbox{\hyperlink{classWinStatsMonitor}{WinStatsMonitor}}\ *\_monitor;}
\DoxyCodeLine{00112\ \ \ HWND\ \_window;}
\DoxyCodeLine{00113\ \ \ HWND\ \_graph\_window;}
\DoxyCodeLine{00114\ \ \ HWND\ \_tooltip\_window;}
\DoxyCodeLine{00115\ \ \ \mbox{\hyperlink{classWinStatsLabelStack}{WinStatsLabelStack}}\ \_label\_stack;}
\DoxyCodeLine{00116\ \ \ std::string\ \_tooltip\_text;}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ HCURSOR\ \_sizewe\_cursor;}
\DoxyCodeLine{00119\ \ \ HCURSOR\ \_hand\_cursor;}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ HBITMAP\ \_bitmap;}
\DoxyCodeLine{00122\ \ \ HDC\ \_bitmap\_dc;}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \textcolor{keywordtype}{int}\ \_graph\_left,\ \_graph\_top;}
\DoxyCodeLine{00125\ \ \ \textcolor{keywordtype}{int}\ \_bitmap\_xsize,\ \_bitmap\_ysize;}
\DoxyCodeLine{00126\ \ \ \textcolor{keywordtype}{int}\ \_left\_margin,\ \_right\_margin;}
\DoxyCodeLine{00127\ \ \ \textcolor{keywordtype}{int}\ \_top\_margin,\ \_bottom\_margin;}
\DoxyCodeLine{00128\ \ \ \textcolor{keywordtype}{int}\ \_top\_label\_stack\_margin;}
\DoxyCodeLine{00129\ \ \ \textcolor{keywordtype}{int}\ \_pixel\_scale;}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ COLORREF\ \_dark\_color;}
\DoxyCodeLine{00132\ \ \ COLORREF\ \_light\_color;}
\DoxyCodeLine{00133\ \ \ COLORREF\ \_user\_guide\_bar\_color;}
\DoxyCodeLine{00134\ \ \ COLORREF\ \_frame\_guide\_bar\_color;}
\DoxyCodeLine{00135\ \ \ HPEN\ \_dark\_pen;}
\DoxyCodeLine{00136\ \ \ HPEN\ \_light\_pen;}
\DoxyCodeLine{00137\ \ \ HPEN\ \_user\_guide\_bar\_pen;}
\DoxyCodeLine{00138\ \ \ HPEN\ \_frame\_guide\_bar\_pen;}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ DragMode\ \_drag\_mode;}
\DoxyCodeLine{00141\ \ \ DragMode\ \_potential\_drag\_mode;}
\DoxyCodeLine{00142\ \ \ \textcolor{keywordtype}{int}\ \_drag\_start\_x,\ \_drag\_start\_y;}
\DoxyCodeLine{00143\ \ \ \textcolor{keywordtype}{double}\ \_drag\_scale\_start;}
\DoxyCodeLine{00144\ \ \ \textcolor{keywordtype}{int}\ \_drag\_guide\_bar;}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \textcolor{keywordtype}{int}\ \_highlighted\_index\ =\ -\/1;}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \textcolor{keywordtype}{bool}\ \_pause;}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \textcolor{keywordtype}{bool}\ \_timer\_running\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00151\ \ \ \textcolor{keywordtype}{double}\ \_time;}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00154\ \ \ \textcolor{keywordtype}{void}\ setup\_bitmap(\textcolor{keywordtype}{int}\ xsize,\ \textcolor{keywordtype}{int}\ ysize);}
\DoxyCodeLine{00155\ \ \ \textcolor{keywordtype}{void}\ release\_bitmap();}
\DoxyCodeLine{00156\ \ \ \textcolor{keywordtype}{void}\ create\_graph\_window();}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \textcolor{keyword}{static}\ LRESULT\ WINAPI\ static\_graph\_subclass\_proc(HWND\ hwnd,\ UINT\ msg,\ WPARAM\ wparam,\ LPARAM\ lparam,\ UINT\_PTR\ subclass,\ DWORD\_PTR\ ref\_data);}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00161\ \ \ \textcolor{keyword}{static}\ DWORD\ graph\_window\_style;}
\DoxyCodeLine{00162\ \};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
