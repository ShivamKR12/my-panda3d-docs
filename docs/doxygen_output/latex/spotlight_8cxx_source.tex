\doxysection{spotlight.\+cxx}
\hypertarget{spotlight_8cxx_source}{}\label{spotlight_8cxx_source}\index{panda/src/pgraphnodes/spotlight.cxx@{panda/src/pgraphnodes/spotlight.cxx}}
\mbox{\hyperlink{spotlight_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{spotlight_8h}{spotlight.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{graphicsStateGuardianBase_8h}{graphicsStateGuardianBase.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamWriter_8h}{bamWriter.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamReader_8h}{bamReader.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagram_8h}{datagram.h}}"{}}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagramIterator_8h}{datagramIterator.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{colorAttrib_8h}{colorAttrib.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{texture_8h}{texture.h}}"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__pgraph_8h}{config\_pgraph.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pnmImage_8h}{pnmImage.h}}"{}}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ Spotlight::\_type\_handle;}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00030\ \mbox{\hyperlink{classCycleData}{CycleData}}\ *Spotlight::CData::}
\DoxyCodeLine{00031\ make\_copy()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00032\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ CData(*\textcolor{keyword}{this});}
\DoxyCodeLine{00033\ \}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00039\ \textcolor{keywordtype}{void}\ Spotlight::CData::}
\DoxyCodeLine{00040\ write\_datagram(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00041\ \ \ dg.add\_stdfloat(\_exponent);}
\DoxyCodeLine{00042\ \ \ \_specular\_color.write\_datagram(dg);}
\DoxyCodeLine{00043\ \ \ \_attenuation.write\_datagram(dg);}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordflow}{if}\ (manager-\/>get\_file\_minor\_ver()\ >=\ 41)\ \{}
\DoxyCodeLine{00045\ \ \ \ \ dg.add\_stdfloat(\_max\_distance);}
\DoxyCodeLine{00046\ \ \ \}}
\DoxyCodeLine{00047\ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00053\ \textcolor{keywordtype}{void}\ Spotlight::CData::}
\DoxyCodeLine{00054\ fillin(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00055\ \ \ \_exponent\ =\ scan.get\_stdfloat();}
\DoxyCodeLine{00056\ \ \ \_specular\_color.read\_datagram(scan);}
\DoxyCodeLine{00057\ \ \ \_attenuation.read\_datagram(scan);}
\DoxyCodeLine{00058\ \ \ \textcolor{keywordflow}{if}\ (manager-\/>get\_file\_minor\_ver()\ >=\ 41)\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \_max\_distance\ =\ scan.get\_stdfloat();}
\DoxyCodeLine{00060\ \ \ \}}
\DoxyCodeLine{00061\ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00066\ \mbox{\hyperlink{classSpotlight_a820ed92ad19093193b8dfc102f9f7676}{Spotlight::}}}
\DoxyCodeLine{00067\ \mbox{\hyperlink{classSpotlight_a820ed92ad19093193b8dfc102f9f7676}{Spotlight}}(\textcolor{keyword}{const}\ std::string\ \&name)\ :}
\DoxyCodeLine{00068\ \ \ \mbox{\hyperlink{classLightLensNode}{LightLensNode}}(name)\ \{}
\DoxyCodeLine{00069\ \ \ \_lenses[0].\_lens-\/>set\_interocular\_distance(0);}
\DoxyCodeLine{00070\ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00076\ \mbox{\hyperlink{classSpotlight_a820ed92ad19093193b8dfc102f9f7676}{Spotlight::}}}
\DoxyCodeLine{00077\ \mbox{\hyperlink{classSpotlight_a820ed92ad19093193b8dfc102f9f7676}{Spotlight}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classSpotlight}{Spotlight}}\ \&copy)\ :}
\DoxyCodeLine{00078\ \ \ \mbox{\hyperlink{classLightLensNode}{LightLensNode}}(copy),}
\DoxyCodeLine{00079\ \ \ \_cycler(copy.\_cycler)}
\DoxyCodeLine{00080\ \{}
\DoxyCodeLine{00081\ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00088\ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *\mbox{\hyperlink{classSpotlight_afdd77a7f2f671f1df739e66449b0793e}{Spotlight::}}}
\DoxyCodeLine{00089\ \mbox{\hyperlink{classSpotlight_afdd77a7f2f671f1df739e66449b0793e}{make\_copy}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00090\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classSpotlight_a820ed92ad19093193b8dfc102f9f7676}{Spotlight}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{00091\ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00097\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classSpotlight_ad9132b75db621708b7beac8e3d12e0cf}{Spotlight::}}}
\DoxyCodeLine{00098\ \mbox{\hyperlink{classSpotlight_ad9132b75db621708b7beac8e3d12e0cf}{xform}}(\textcolor{keyword}{const}\ LMatrix4\ \&mat)\ \{}
\DoxyCodeLine{00099\ \ \ \mbox{\hyperlink{classLensNode_a770601a230dbe2e1d7266550740d80ef}{LightLensNode::xform}}(mat);}
\DoxyCodeLine{00100\ \ \ mark\_viz\_stale();}
\DoxyCodeLine{00101\ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00106\ \textcolor{keywordtype}{void}\ Spotlight::}
\DoxyCodeLine{00107\ write(std::ostream\ \&out,\ \textcolor{keywordtype}{int}\ indent\_level)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00108\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level)\ <<\ *\textcolor{keyword}{this}\ <<\ \textcolor{stringliteral}{"{}:\(\backslash\)n"{}};}
\DoxyCodeLine{00109\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level\ +\ 2)}
\DoxyCodeLine{00110\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}color\ "{}}\ <<\ get\_color()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00111\ \ \ \textcolor{keywordflow}{if}\ (\_has\_specular\_color)\ \{}
\DoxyCodeLine{00112\ \ \ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level\ +\ 2)}
\DoxyCodeLine{00113\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}specular\ color\ "{}}\ <<\ \mbox{\hyperlink{classSpotlight_a21a5fe490ed676cf12bf80e67033dd37}{get\_specular\_color}}()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00114\ \ \ \}}
\DoxyCodeLine{00115\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level\ +\ 2)}
\DoxyCodeLine{00116\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}attenuation\ "{}}\ <<\ \mbox{\hyperlink{classSpotlight_a0bfd457144d2e738c9f945a2bb6fd117}{get\_attenuation}}()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00117\ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level\ +\ 2)}
\DoxyCodeLine{00118\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}exponent\ "{}}\ <<\ get\_exponent()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \textcolor{keywordflow}{if}\ (!cinf(get\_max\_distance()))\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \mbox{\hyperlink{indent_8cxx_a20c026b79ac844b38fcd02e70a7497d1}{indent}}(out,\ indent\_level\ +\ 2)}
\DoxyCodeLine{00122\ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}max\ distance\ "{}}\ <<\ get\_max\_distance()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00123\ \ \ \}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \mbox{\hyperlink{classLens}{Lens}}\ *lens\ =\ get\_lens();}
\DoxyCodeLine{00126\ \ \ \textcolor{keywordflow}{if}\ (lens\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00127\ \ \ \ \ lens-\/>write(out,\ indent\_level\ +\ 2);}
\DoxyCodeLine{00128\ \ \ \}}
\DoxyCodeLine{00129\ \}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00143\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classSpotlight_aa7654ed47297d8ff13658533b7427132}{Spotlight::}}}
\DoxyCodeLine{00144\ \mbox{\hyperlink{classSpotlight_aa7654ed47297d8ff13658533b7427132}{get\_vector\_to\_light}}(LVector3\ \&result,\ \textcolor{keyword}{const}\ LPoint3\ \&from\_object\_point,}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ LMatrix4\ \&to\_object\_space)\ \{}
\DoxyCodeLine{00146\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00147\ \}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00161\ PT(\mbox{\hyperlink{classTexture}{Texture}})\ Spotlight::}
\DoxyCodeLine{00162\ make\_spot(\textcolor{keywordtype}{int}\ pixel\_width,\ PN\_stdfloat\ full\_radius,\ LColor\ \&fg,\ LColor\ \&bg)\ \{}
\DoxyCodeLine{00163\ \ \ \textcolor{keywordtype}{int}\ num\_channels;}
\DoxyCodeLine{00164\ \ \ \textcolor{keywordflow}{if}\ (fg[0]\ ==\ fg[1]\ \&\&\ fg[1]\ ==\ fg[2]\ \&\&}
\DoxyCodeLine{00165\ \ \ \ \ \ \ bg[0]\ ==\ bg[1]\ \&\&\ bg[1]\ ==\ bg[2])\ \{}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{comment}{//\ grayscale}}
\DoxyCodeLine{00167\ \ \ \ \ num\_channels\ =\ 1;}
\DoxyCodeLine{00168\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{comment}{//\ color}}
\DoxyCodeLine{00170\ \ \ \ \ num\_channels\ =\ 3;}
\DoxyCodeLine{00171\ \ \ \}}
\DoxyCodeLine{00172\ \ \ \textcolor{keywordflow}{if}\ (fg[3]\ !=\ 1.0f\ ||\ bg[3]\ !=\ 1.0f)\ \{}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{comment}{//\ with\ alpha.}}
\DoxyCodeLine{00174\ \ \ \ \ ++num\_channels;}
\DoxyCodeLine{00175\ \ \ \}}
\DoxyCodeLine{00176\ \ \ \mbox{\hyperlink{classPNMImage}{PNMImage}}\ image(pixel\_width,\ pixel\_width,\ num\_channels);}
\DoxyCodeLine{00177\ \ \ image.render\_spot(LCAST(\textcolor{keywordtype}{float},\ fg),\ LCAST(\textcolor{keywordtype}{float},\ bg),\ full\_radius,\ 1.0);}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ PT(\mbox{\hyperlink{classTexture}{Texture}})\ tex\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classTexture}{Texture}}(\textcolor{stringliteral}{"{}spot"{}});}
\DoxyCodeLine{00180\ \ \ tex-\/>load(image);}
\DoxyCodeLine{00181\ \ \ tex-\/>set\_border\_color(bg);}
\DoxyCodeLine{00182\ \ \ tex-\/>set\_wrap\_u(SamplerState::WM\_border\_color);}
\DoxyCodeLine{00183\ \ \ tex-\/>set\_wrap\_v(SamplerState::WM\_border\_color);}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ tex-\/>set\_minfilter(SamplerState::FT\_linear);}
\DoxyCodeLine{00186\ \ \ tex-\/>set\_magfilter(SamplerState::FT\_linear);}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \textcolor{keywordflow}{return}\ tex;}
\DoxyCodeLine{00189\ \}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00197\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classSpotlight_a6f978a0be97a6681d95ba0de9ae74606}{Spotlight::}}}
\DoxyCodeLine{00198\ \mbox{\hyperlink{classSpotlight_a6f978a0be97a6681d95ba0de9ae74606}{get\_class\_priority}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00199\ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{int})CP\_spot\_priority;}
\DoxyCodeLine{00200\ \}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00205\ \textcolor{keywordtype}{void}\ Spotlight::}
\DoxyCodeLine{00206\ bind(\mbox{\hyperlink{classGraphicsStateGuardianBase}{GraphicsStateGuardianBase}}\ *gsg,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classNodePath}{NodePath}}\ \&light,\ \textcolor{keywordtype}{int}\ light\_id)\ \{}
\DoxyCodeLine{00207\ \ \ gsg-\/>bind\_light(\textcolor{keyword}{this},\ light,\ light\_id);}
\DoxyCodeLine{00208\ \}}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00214\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classSpotlight_ac63e0b459644b17e70965a47838fa2c4}{Spotlight::}}}
\DoxyCodeLine{00215\ \mbox{\hyperlink{classSpotlight_ac63e0b459644b17e70965a47838fa2c4}{fill\_viz\_geom}}(\mbox{\hyperlink{classGeomNode}{GeomNode}}\ *viz\_geom)\ \{}
\DoxyCodeLine{00216\ \ \ \mbox{\hyperlink{classLens}{Lens}}\ *lens\ =\ get\_lens();}
\DoxyCodeLine{00217\ \ \ \textcolor{keywordflow}{if}\ (lens\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00219\ \ \ \}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ PT(\mbox{\hyperlink{classGeom}{Geom}})\ geom\ =\ lens-\/>make\_geometry();}
\DoxyCodeLine{00222\ \ \ \textcolor{keywordflow}{if}\ (geom\ ==\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00224\ \ \ \}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ viz\_geom-\/>\mbox{\hyperlink{classGeomNode_a18e924a32fc78e567f156bd3678a7057}{add\_geom}}(geom,\ get\_viz\_state());}
\DoxyCodeLine{00227\ \}}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00232\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ Spotlight::}
\DoxyCodeLine{00233\ get\_viz\_state()\ \{}
\DoxyCodeLine{00234\ \ \ \textcolor{keywordflow}{return}\ RenderState::make}
\DoxyCodeLine{00235\ \ \ \ \ (ColorAttrib::make\_flat(get\_color()));}
\DoxyCodeLine{00236\ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00241\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classSpotlight_a3758577168dd40a9d77e945a861960b9}{Spotlight::}}}
\DoxyCodeLine{00242\ \mbox{\hyperlink{classSpotlight_a3758577168dd40a9d77e945a861960b9}{register\_with\_read\_factory}}()\ \{}
\DoxyCodeLine{00243\ \ \ BamReader::get\_factory()-\/>register\_factory(get\_class\_type(),\ \mbox{\hyperlink{classSpotlight_afbc85d998194b511ad91be6c462b8e58}{make\_from\_bam}});}
\DoxyCodeLine{00244\ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00250\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classSpotlight_ac3eb5d47c31cf8b6b72a00cd8a569b90}{Spotlight::}}}
\DoxyCodeLine{00251\ \mbox{\hyperlink{classSpotlight_ac3eb5d47c31cf8b6b72a00cd8a569b90}{write\_datagram}}(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg)\ \{}
\DoxyCodeLine{00252\ \ \ \mbox{\hyperlink{classLightLensNode_a9375ae74db7e0c61849489cf122c47ca}{LightLensNode::write\_datagram}}(manager,\ dg);}
\DoxyCodeLine{00253\ \ \ \textcolor{keywordflow}{if}\ (manager-\/>get\_file\_minor\_ver()\ >=\ 39)\ \{}
\DoxyCodeLine{00254\ \ \ \ \ dg.add\_bool(\_has\_specular\_color);}
\DoxyCodeLine{00255\ \ \ \}}
\DoxyCodeLine{00256\ \ \ manager-\/>\mbox{\hyperlink{classBamWriter_a4a957fdbd6f508ee3029a41a794030cd}{write\_cdata}}(dg,\ \_cycler);}
\DoxyCodeLine{00257\ \}}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00264\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *\mbox{\hyperlink{classSpotlight_afbc85d998194b511ad91be6c462b8e58}{Spotlight::}}}
\DoxyCodeLine{00265\ \mbox{\hyperlink{classSpotlight_afbc85d998194b511ad91be6c462b8e58}{make\_from\_bam}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFactoryParams}{FactoryParams}}\ \&params)\ \{}
\DoxyCodeLine{00266\ \ \ \mbox{\hyperlink{classSpotlight}{Spotlight}}\ *node\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classSpotlight_a820ed92ad19093193b8dfc102f9f7676}{Spotlight}}(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00267\ \ \ \mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ scan;}
\DoxyCodeLine{00268\ \ \ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager;}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \ \ parse\_params(params,\ scan,\ manager);}
\DoxyCodeLine{00271\ \ \ node-\/>\mbox{\hyperlink{classSpotlight_af9d938baa02730416179dc98b9290c1d}{fillin}}(scan,\ manager);}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \textcolor{keywordflow}{return}\ node;}
\DoxyCodeLine{00274\ \}}
\DoxyCodeLine{00275\ }
\DoxyCodeLine{00280\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classSpotlight_af9d938baa02730416179dc98b9290c1d}{Spotlight::}}}
\DoxyCodeLine{00281\ \mbox{\hyperlink{classSpotlight_af9d938baa02730416179dc98b9290c1d}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager)\ \{}
\DoxyCodeLine{00282\ \ \ \mbox{\hyperlink{classLightLensNode_a0b67a0d0ecbd9770b7794a05d393b4ca}{LightLensNode::fillin}}(scan,\ manager);}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \textcolor{keywordflow}{if}\ (manager-\/>get\_file\_minor\_ver()\ >=\ 39)\ \{}
\DoxyCodeLine{00285\ \ \ \ \ \_has\_specular\_color\ =\ scan.get\_bool();}
\DoxyCodeLine{00286\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00287\ \ \ \ \ \_has\_specular\_color\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00288\ \ \ \}}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \ \ manager-\/>\mbox{\hyperlink{classBamReader_ae63d90cd5d2c87fe3159f6b5d6d9fe10}{read\_cdata}}(scan,\ \_cycler);}
\DoxyCodeLine{00291\ \}}

\end{DoxyCode}
