\doxysection{bullet\+Closest\+Hit\+Ray\+Result.\+cxx}
\hypertarget{bulletClosestHitRayResult_8cxx_source}{}\label{bulletClosestHitRayResult_8cxx_source}\index{panda/src/bullet/bulletClosestHitRayResult.cxx@{panda/src/bullet/bulletClosestHitRayResult.cxx}}
\mbox{\hyperlink{bulletClosestHitRayResult_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bulletClosestHitRayResult_8h}{bulletClosestHitRayResult.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00019\ BulletClosestHitRayResult::}
\DoxyCodeLine{00020\ BulletClosestHitRayResult(\textcolor{keyword}{const}\ \mbox{\hyperlink{structbtVector3}{btVector3}}\ \&from\_pos,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structbtVector3}{btVector3}}\ \&to\_pos,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classBitMask}{CollideMask}}\ \&mask)}
\DoxyCodeLine{00021\ \ :\ \mbox{\hyperlink{classbtCollisionWorld}{btCollisionWorld}}::ClosestRayResultCallback(from\_pos,\ to\_pos),\ \_mask(mask)\ \{}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \_shapePart\ =\ -\/1;}
\DoxyCodeLine{00024\ \ \ \_triangleIndex\ =\ -\/1;}
\DoxyCodeLine{00025\ \}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00030\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structBulletClosestHitRayResult_a0c8d06e0cfe6aa7be278b1427f31b2c5}{BulletClosestHitRayResult::}}}
\DoxyCodeLine{00031\ \mbox{\hyperlink{structBulletClosestHitRayResult_a0c8d06e0cfe6aa7be278b1427f31b2c5}{needsCollision}}(btBroadphaseProxy*\ proxy0)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ btCollisionObject\ *obj0\ =\ (btCollisionObject\ *)\ proxy0-\/>m\_clientObject;}
\DoxyCodeLine{00034\ \ \ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *node0\ =\ (\mbox{\hyperlink{classPandaNode}{PandaNode}}\ *)\ obj0-\/>getUserPointer();}
\DoxyCodeLine{00035\ \ \ \mbox{\hyperlink{classBitMask}{CollideMask}}\ mask0\ =\ node0-\/>get\_into\_collide\_mask();}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \textcolor{keywordflow}{return}\ (\_mask\ \&\ mask0)\ !=\ 0;}
\DoxyCodeLine{00038\ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00043\ btScalar\ \mbox{\hyperlink{structBulletClosestHitRayResult_ac8f9a53e3226da98a418e45bd44f3745}{BulletClosestHitRayResult::}}}
\DoxyCodeLine{00044\ \mbox{\hyperlink{structBulletClosestHitRayResult_ac8f9a53e3226da98a418e45bd44f3745}{addSingleResult}}(btCollisionWorld::LocalRayResult\&\ rayResult,\ \textcolor{keywordtype}{bool}\ normalInWorldSpace)\ \{}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{//\ Store\ partindex\ information}}
\DoxyCodeLine{00047\ \ \ \textcolor{keywordflow}{if}\ (rayResult.m\_localShapeInfo)\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \_shapePart\ =\ rayResult.m\_localShapeInfo-\/>m\_shapePart;}
\DoxyCodeLine{00049\ \ \ \ \ \_triangleIndex\ =\ rayResult.m\_localShapeInfo-\/>m\_triangleIndex;}
\DoxyCodeLine{00050\ \ \ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{comment}{//\ Call\ the\ default\ implementation}}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{return}\ btCollisionWorld::ClosestRayResultCallback::addSingleResult(rayResult,\ normalInWorldSpace);}
\DoxyCodeLine{00054\ \};}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00059\ \textcolor{keywordtype}{bool}\ BulletClosestHitRayResult::}
\DoxyCodeLine{00060\ has\_hit()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{keywordflow}{return}\ hasHit();}
\DoxyCodeLine{00063\ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00068\ PN\_stdfloat\ BulletClosestHitRayResult::}
\DoxyCodeLine{00069\ get\_hit\_fraction()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{return}\ (PN\_stdfloat)m\_closestHitFraction;}
\DoxyCodeLine{00072\ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00077\ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *BulletClosestHitRayResult::}
\DoxyCodeLine{00078\ get\_node()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{const}\ btCollisionObject\ *objectPtr\ =\ m\_collisionObject;}
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{return}\ (objectPtr)\ ?\ (\mbox{\hyperlink{classPandaNode}{PandaNode}}\ *)objectPtr-\/>getUserPointer()\ :\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00082\ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00087\ LPoint3\ BulletClosestHitRayResult::}
\DoxyCodeLine{00088\ get\_hit\_pos()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \textcolor{keywordflow}{return}\ btVector3\_to\_LPoint3(m\_hitPointWorld);}
\DoxyCodeLine{00091\ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00096\ LVector3\ BulletClosestHitRayResult::}
\DoxyCodeLine{00097\ get\_hit\_normal()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \textcolor{keywordflow}{return}\ btVector3\_to\_LVector3(m\_hitNormalWorld);}
\DoxyCodeLine{00100\ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00105\ LPoint3\ BulletClosestHitRayResult::}
\DoxyCodeLine{00106\ get\_from\_pos()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \textcolor{keywordflow}{return}\ btVector3\_to\_LPoint3(m\_rayFromWorld);}
\DoxyCodeLine{00109\ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00114\ LPoint3\ BulletClosestHitRayResult::}
\DoxyCodeLine{00115\ get\_to\_pos()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \textcolor{keywordflow}{return}\ btVector3\_to\_LPoint3(m\_rayToWorld);}
\DoxyCodeLine{00118\ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00123\ \textcolor{keywordtype}{int}\ BulletClosestHitRayResult::}
\DoxyCodeLine{00124\ get\_shape\_part()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \textcolor{keywordflow}{return}\ \_shapePart;}
\DoxyCodeLine{00127\ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00132\ \textcolor{keywordtype}{int}\ BulletClosestHitRayResult::}
\DoxyCodeLine{00133\ get\_triangle\_index()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \textcolor{keywordflow}{return}\ \_triangleIndex;}
\DoxyCodeLine{00136\ \}}

\end{DoxyCode}
