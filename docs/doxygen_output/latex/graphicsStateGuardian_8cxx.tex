\doxysection{panda/src/display/graphics\+State\+Guardian.cxx File Reference}
\hypertarget{graphicsStateGuardian_8cxx}{}\label{graphicsStateGuardian_8cxx}\index{panda/src/display/graphicsStateGuardian.cxx@{panda/src/display/graphicsStateGuardian.cxx}}
{\ttfamily \#include "{}graphics\+State\+Guardian.\+h"{}}\newline
{\ttfamily \#include "{}graphics\+Engine.\+h"{}}\newline
{\ttfamily \#include "{}config\+\_\+display.\+h"{}}\newline
{\ttfamily \#include "{}texture\+Context.\+h"{}}\newline
{\ttfamily \#include "{}vertex\+Buffer\+Context.\+h"{}}\newline
{\ttfamily \#include "{}index\+Buffer\+Context.\+h"{}}\newline
{\ttfamily \#include "{}render\+Buffer.\+h"{}}\newline
{\ttfamily \#include "{}light.\+h"{}}\newline
{\ttfamily \#include "{}plane\+Node.\+h"{}}\newline
{\ttfamily \#include "{}throw\+\_\+event.\+h"{}}\newline
{\ttfamily \#include "{}clock\+Object.\+h"{}}\newline
{\ttfamily \#include "{}p\+Stat\+Timer.\+h"{}}\newline
{\ttfamily \#include "{}p\+Stat\+GPUTimer.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Tristrips.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Trifans.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Linestrips.\+h"{}}\newline
{\ttfamily \#include "{}color\+Write\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}shader.\+h"{}}\newline
{\ttfamily \#include "{}pnotify.\+h"{}}\newline
{\ttfamily \#include "{}drawable\+Region.\+h"{}}\newline
{\ttfamily \#include "{}display\+Region.\+h"{}}\newline
{\ttfamily \#include "{}graphics\+Output.\+h"{}}\newline
{\ttfamily \#include "{}texture\+Pool.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Munger.\+h"{}}\newline
{\ttfamily \#include "{}state\+Munger.\+h"{}}\newline
{\ttfamily \#include "{}ambient\+Light.\+h"{}}\newline
{\ttfamily \#include "{}directional\+Light.\+h"{}}\newline
{\ttfamily \#include "{}point\+Light.\+h"{}}\newline
{\ttfamily \#include "{}sphere\+Light.\+h"{}}\newline
{\ttfamily \#include "{}spotlight.\+h"{}}\newline
{\ttfamily \#include "{}texture\+Reload\+Request.\+h"{}}\newline
{\ttfamily \#include "{}shader\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}material\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}depth\+Write\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}light\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}tex\+Gen\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}shader\+Generator.\+h"{}}\newline
{\ttfamily \#include "{}light\+Lens\+Node.\+h"{}}\newline
{\ttfamily \#include "{}color\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}color\+Scale\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}clip\+Plane\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}fog\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}render\+Mode\+Attrib.\+h"{}}\newline
{\ttfamily \#include "{}config\+\_\+pstatclient.\+h"{}}\newline
{\ttfamily \#include $<$limits.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{graphicsStateGuardian_8cxx_a30acd46cb88a72fab16bfa688e6f8171}{PT}} (\mbox{\hyperlink{classOcclusionQueryContext}{Occlusion\+Query\+Context}}) \mbox{\hyperlink{classGraphicsStateGuardian}{Graphics\+State\+Guardian}}
\item 
\mbox{\hyperlink{graphicsStateGuardian_8cxx_aec184f4415404143c9a65fca1fc58b98}{PT}} (\mbox{\hyperlink{classGeomMunger}{Geom\+Munger}}) \mbox{\hyperlink{classGraphicsStateGuardian}{Graphics\+State\+Guardian}}
\item 
\mbox{\hyperlink{graphicsStateGuardian_8cxx_a31e68d40895b7033fe0f10a9a3d35e50}{PT}} (\mbox{\hyperlink{classTexture}{Texture}}) \mbox{\hyperlink{classGraphicsStateGuardian}{Graphics\+State\+Guardian}}
\item 
\mbox{\hyperlink{graphicsStateGuardian_8cxx_acc430ff15ad6563c077bb59dde12e4b7}{CPT}} (\mbox{\hyperlink{classTransformState}{Transform\+State}}) \mbox{\hyperlink{classGraphicsStateGuardian}{Graphics\+State\+Guardian}}
\item 
\mbox{\hyperlink{graphicsStateGuardian_8cxx_a9626a982943bb5c4053266b5144931c4}{CPT}} (\mbox{\hyperlink{classRenderState}{Render\+State}}) \mbox{\hyperlink{classGraphicsStateGuardian}{Graphics\+State\+Guardian}}
\item 
\Hypertarget{graphicsStateGuardian_8cxx_a2b67a2af52541f88cb0407aa15a78824}\label{graphicsStateGuardian_8cxx_a2b67a2af52541f88cb0407aa15a78824} 
std\+::ostream \& {\bfseries operator$<$$<$} (std\+::ostream \&out, Graphics\+State\+Guardian\+::\+Shader\+Model sm)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PANDA 3D SOFTWARE Copyright (c) Carnegie Mellon University. All rights reserved.

All use of this software is subject to the terms of the revised BSD license. You should have received a copy of this license along with this source code in a file named "{}\+LICENSE."{}

\begin{DoxyAuthor}{Author}
drose 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
1999-\/02-\/02 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
fperazzi, Panda\+SE 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2010-\/05-\/05 \+\_\+max\+\_\+2d\+\_\+texture\+\_\+array\+\_\+layers, \+\_\+supports\+\_\+2d\+\_\+texture\+\_\+array, get\+\_\+supports\+\_\+cg\+\_\+profile) 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{graphicsStateGuardian_8cxx_a9626a982943bb5c4053266b5144931c4}\label{graphicsStateGuardian_8cxx_a9626a982943bb5c4053266b5144931c4} 
\index{graphicsStateGuardian.cxx@{graphicsStateGuardian.cxx}!CPT@{CPT}}
\index{CPT@{CPT}!graphicsStateGuardian.cxx@{graphicsStateGuardian.cxx}}
\doxysubsubsection{\texorpdfstring{CPT()}{CPT()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily CPT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classRenderState}{Render\+State}}}]{ }\end{DoxyParamCaption})}

Called during draw to begin a three-\/step rendering phase to draw decals. The first step, begin\+\_\+decal\+\_\+base\+\_\+first(), is called prior to drawing the base geometry. It should set up whatever internal state is appropriate, as well as returning a \doxylink{classRenderState}{Render\+State} object that should be applied to the base geometry for rendering.

Called during draw to begin a three-\/step rendering phase to draw decals. The second step, begin\+\_\+decal\+\_\+nested(), is called after drawing the base geometry and prior to drawing any of the nested decal geometry that is to be applied to the base geometry.

Called during draw to begin a three-\/step rendering phase to draw decals. The third step, begin\+\_\+decal\+\_\+base\+\_\+second(), is called after drawing the base geometry and the nested decal geometry, and prior to drawing the base geometry one more time (if needed).

It should return a \doxylink{classRenderState}{Render\+State} object appropriate for rendering the base geometry the second time, or NULL if it is not necessary to re-\/render the base geometry. \Hypertarget{graphicsStateGuardian_8cxx_acc430ff15ad6563c077bb59dde12e4b7}\label{graphicsStateGuardian_8cxx_acc430ff15ad6563c077bb59dde12e4b7} 
\index{graphicsStateGuardian.cxx@{graphicsStateGuardian.cxx}!CPT@{CPT}}
\index{CPT@{CPT}!graphicsStateGuardian.cxx@{graphicsStateGuardian.cxx}}
\doxysubsubsection{\texorpdfstring{CPT()}{CPT()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily CPT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTransformState}{Transform\+State}}}]{ }\end{DoxyParamCaption})}

Given a lens, this function calculates the appropriate projection matrix for this gsg. The result depends on the peculiarities of the rendering API.

Returns what the cs\+\_\+transform would be set to after a call to set\+\_\+coordinate\+\_\+system(cs). This is another way of saying the cs\+\_\+transform when rendering the scene for a camera with the indicated coordinate system. Returns a transform that converts from the GSG\textquotesingle{}s external coordinate system (as returned by get\+\_\+coordinate\+\_\+system()) to its internal coordinate system (as returned by get\+\_\+internal\+\_\+coordinate\+\_\+system()). This is used for rendering. This is fundametically similar to do\+\_\+issue\+\_\+light(), with calls to apply\+\_\+clip\+\_\+plane() and enable\+\_\+clip\+\_\+planes(), as appropriate. \Hypertarget{graphicsStateGuardian_8cxx_aec184f4415404143c9a65fca1fc58b98}\label{graphicsStateGuardian_8cxx_aec184f4415404143c9a65fca1fc58b98} 
\index{graphicsStateGuardian.cxx@{graphicsStateGuardian.cxx}!PT@{PT}}
\index{PT@{PT}!graphicsStateGuardian.cxx@{graphicsStateGuardian.cxx}}
\doxysubsubsection{\texorpdfstring{PT()}{PT()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily PT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classGeomMunger}{Geom\+Munger}}}]{ }\end{DoxyParamCaption})}

Looks up or creates a \doxylink{classGeomMunger}{Geom\+Munger} object to munge vertices appropriate to this GSG for the indicated state.

Creates a new \doxylink{classGeomMunger}{Geom\+Munger} object to munge vertices appropriate to this GSG for the indicated state. \Hypertarget{graphicsStateGuardian_8cxx_a30acd46cb88a72fab16bfa688e6f8171}\label{graphicsStateGuardian_8cxx_a30acd46cb88a72fab16bfa688e6f8171} 
\index{graphicsStateGuardian.cxx@{graphicsStateGuardian.cxx}!PT@{PT}}
\index{PT@{PT}!graphicsStateGuardian.cxx@{graphicsStateGuardian.cxx}}
\doxysubsubsection{\texorpdfstring{PT()}{PT()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily PT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classOcclusionQueryContext}{Occlusion\+Query\+Context}}}]{ }\end{DoxyParamCaption})}

Ends a previous call to begin\+\_\+occlusion\+\_\+query(). This call returns the \doxylink{classOcclusionQueryContext}{Occlusion\+Query\+Context} object that will (eventually) report the number of pixels that passed the depth test between the call to begin\+\_\+occlusion\+\_\+query() and end\+\_\+occlusion\+\_\+query(). \Hypertarget{graphicsStateGuardian_8cxx_a31e68d40895b7033fe0f10a9a3d35e50}\label{graphicsStateGuardian_8cxx_a31e68d40895b7033fe0f10a9a3d35e50} 
\index{graphicsStateGuardian.cxx@{graphicsStateGuardian.cxx}!PT@{PT}}
\index{PT@{PT}!graphicsStateGuardian.cxx@{graphicsStateGuardian.cxx}}
\doxysubsubsection{\texorpdfstring{PT()}{PT()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily PT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTexture}{Texture}}}]{ }\end{DoxyParamCaption})}

Like fetch\+\_\+specified\+\_\+value, but for texture inputs.

Returns a shadow map for the given light source. If none exists, it is created, using the given host window to create the buffer, or the current window if that is set to NULL.

Returns a dummy shadow map that can be used for a light of the given type that does not cast shadows. Creates a depth buffer for shadow mapping. A derived GSG can override this if it knows that a particular buffer type works best for shadow rendering. 