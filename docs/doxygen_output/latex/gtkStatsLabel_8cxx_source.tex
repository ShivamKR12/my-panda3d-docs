\doxysection{gtk\+Stats\+Label.\+cxx}
\hypertarget{gtkStatsLabel_8cxx_source}{}\label{gtkStatsLabel_8cxx_source}\index{pandatool/src/gtk-\/stats/gtkStatsLabel.cxx@{pandatool/src/gtk-\/stats/gtkStatsLabel.cxx}}
\mbox{\hyperlink{gtkStatsLabel_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsLabel_8h}{gtkStatsLabel.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsMonitor_8h}{gtkStatsMonitor.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gtkStatsGraph_8h}{gtkStatsGraph.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{convert__srgb_8h}{convert\_srgb.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keywordtype}{int}\ GtkStatsLabel::\_left\_margin\ =\ 6;}
\DoxyCodeLine{00020\ \textcolor{keywordtype}{int}\ GtkStatsLabel::\_right\_margin\ =\ 2;}
\DoxyCodeLine{00021\ \textcolor{keywordtype}{int}\ GtkStatsLabel::\_top\_margin\ =\ 1;}
\DoxyCodeLine{00022\ \textcolor{keywordtype}{int}\ GtkStatsLabel::\_bottom\_margin\ =\ 1;}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00027\ GtkStatsLabel::}
\DoxyCodeLine{00028\ GtkStatsLabel(\mbox{\hyperlink{classGtkStatsMonitor}{GtkStatsMonitor}}\ *monitor,\ \mbox{\hyperlink{classGtkStatsGraph}{GtkStatsGraph}}\ *graph,}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ thread\_index,\ \textcolor{keywordtype}{int}\ collector\_index,\ \textcolor{keywordtype}{bool}\ use\_fullname,}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ align\_right)\ :}
\DoxyCodeLine{00031\ \ \ \_monitor(monitor),}
\DoxyCodeLine{00032\ \ \ \_graph(graph),}
\DoxyCodeLine{00033\ \ \ \_thread\_index(thread\_index),}
\DoxyCodeLine{00034\ \ \ \_collector\_index(collector\_index),}
\DoxyCodeLine{00035\ \ \ \_align\_right(align\_right)}
\DoxyCodeLine{00036\ \{}
\DoxyCodeLine{00037\ \ \ \_widget\ =\ gtk\_drawing\_area\_new();}
\DoxyCodeLine{00038\ \ \ gtk\_widget\_add\_events(\_widget,}
\DoxyCodeLine{00039\ \ \ \ \ \ \ GDK\_ENTER\_NOTIFY\_MASK\ |\ GDK\_LEAVE\_NOTIFY\_MASK\ |}
\DoxyCodeLine{00040\ \ \ \ \ \ \ GDK\_BUTTON\_PRESS\_MASK);}
\DoxyCodeLine{00041\ \ \ g\_signal\_connect(G\_OBJECT(\_widget),\ \textcolor{stringliteral}{"{}draw"{}},}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ G\_CALLBACK(draw\_callback),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00043\ \ \ g\_signal\_connect(G\_OBJECT(\_widget),\ \textcolor{stringliteral}{"{}enter\_notify\_event"{}},}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ G\_CALLBACK(enter\_notify\_event\_callback),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00045\ \ \ g\_signal\_connect(G\_OBJECT(\_widget),\ \textcolor{stringliteral}{"{}leave\_notify\_event"{}},}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ G\_CALLBACK(leave\_notify\_event\_callback),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00047\ \ \ g\_signal\_connect(G\_OBJECT(\_widget),\ \textcolor{stringliteral}{"{}button\_press\_event"{}},}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ G\_CALLBACK(button\_press\_event\_callback),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00049\ \ \ g\_signal\_connect(G\_OBJECT(\_widget),\ \textcolor{stringliteral}{"{}query-\/tooltip"{}},}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ G\_CALLBACK(query\_tooltip\_callback),\ \textcolor{keyword}{this});}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ gtk\_widget\_set\_has\_tooltip(\_widget,\ TRUE);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \_highlight\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00055\ \ \ \_mouse\_within\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ update\_color();}
\DoxyCodeLine{00058\ \ \ update\_text(use\_fullname);}
\DoxyCodeLine{00059\ \ \ gtk\_widget\_show\_all(\_widget);}
\DoxyCodeLine{00060\ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00065\ GtkStatsLabel::}
\DoxyCodeLine{00066\ \string~GtkStatsLabel()\ \{}
\DoxyCodeLine{00067\ \ \ \textcolor{keywordflow}{if}\ (\_layout)\ \{}
\DoxyCodeLine{00068\ \ \ \ \ g\_object\_unref(\_layout);}
\DoxyCodeLine{00069\ \ \ \ \ \_layout\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00070\ \ \ \}}
\DoxyCodeLine{00071\ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00076\ GtkWidget\ *\mbox{\hyperlink{classGtkStatsLabel_a77fbcbb5a62a01791b429e4be24c01b8}{GtkStatsLabel::}}}
\DoxyCodeLine{00077\ \mbox{\hyperlink{classGtkStatsLabel_a77fbcbb5a62a01791b429e4be24c01b8}{get\_widget}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00078\ \ \ \textcolor{keywordflow}{return}\ \_widget;}
\DoxyCodeLine{00079\ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00084\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGtkStatsLabel_af9beaa01301e041ba6b2dba6b4ae0122}{GtkStatsLabel::}}}
\DoxyCodeLine{00085\ \mbox{\hyperlink{classGtkStatsLabel_af9beaa01301e041ba6b2dba6b4ae0122}{get\_height}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00086\ \ \ \textcolor{keywordflow}{return}\ \_height;}
\DoxyCodeLine{00087\ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00092\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGtkStatsLabel_ad9c87ba477b1799f8becb44c41c0af2c}{GtkStatsLabel::}}}
\DoxyCodeLine{00093\ \mbox{\hyperlink{classGtkStatsLabel_ad9c87ba477b1799f8becb44c41c0af2c}{get\_collector\_index}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00094\ \ \ \textcolor{keywordflow}{return}\ \_collector\_index;}
\DoxyCodeLine{00095\ \}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00100\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classGtkStatsLabel_a63c64084fb3f820a3e1844ef721b52b3}{GtkStatsLabel::}}}
\DoxyCodeLine{00101\ \mbox{\hyperlink{classGtkStatsLabel_a63c64084fb3f820a3e1844ef721b52b3}{get\_thread\_index}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00102\ \ \ \textcolor{keywordflow}{return}\ \_thread\_index;}
\DoxyCodeLine{00103\ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00108\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsLabel_a98c09875cb6e06ce212ec1389c0d418f}{GtkStatsLabel::}}}
\DoxyCodeLine{00109\ \mbox{\hyperlink{classGtkStatsLabel_a98c09875cb6e06ce212ec1389c0d418f}{set\_highlight}}(\textcolor{keywordtype}{bool}\ highlight)\ \{}
\DoxyCodeLine{00110\ \ \ \textcolor{keywordflow}{if}\ (\_highlight\ !=\ highlight)\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \_highlight\ =\ highlight;}
\DoxyCodeLine{00112\ \ \ \ \ gtk\_widget\_queue\_draw(\_widget);}
\DoxyCodeLine{00113\ \ \ \}}
\DoxyCodeLine{00114\ \}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00119\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classGtkStatsLabel_a7053071b58681120abbc370eb47262aa}{GtkStatsLabel::}}}
\DoxyCodeLine{00120\ \mbox{\hyperlink{classGtkStatsLabel_a7053071b58681120abbc370eb47262aa}{get\_highlight}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00121\ \ \ \textcolor{keywordflow}{return}\ \_highlight;}
\DoxyCodeLine{00122\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00127\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsLabel_aba5b14af7c0fbfd58ad144ca256389eb}{GtkStatsLabel::}}}
\DoxyCodeLine{00128\ \mbox{\hyperlink{classGtkStatsLabel_aba5b14af7c0fbfd58ad144ca256389eb}{update\_color}}()\ \{}
\DoxyCodeLine{00129\ \ \ \textcolor{comment}{//\ Set\ the\ fg\ and\ bg\ colors\ on\ the\ label.}}
\DoxyCodeLine{00130\ \ \ LRGBColor\ rgb\ =\ \_monitor-\/>\mbox{\hyperlink{classPStatMonitor_ad9ffc763ea877e02022759a28c0449e6}{get\_collector\_color}}(\_collector\_index);}
\DoxyCodeLine{00131\ \ \ \_bg\_color\ =\ LRGBColor(}
\DoxyCodeLine{00132\ \ \ \ \ encode\_sRGB\_float((\textcolor{keywordtype}{float})rgb[0]),}
\DoxyCodeLine{00133\ \ \ \ \ encode\_sRGB\_float((\textcolor{keywordtype}{float})rgb[1]),}
\DoxyCodeLine{00134\ \ \ \ \ encode\_sRGB\_float((\textcolor{keywordtype}{float})rgb[2]));}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \_highlight\_bg\_color\ =\ LRGBColor(}
\DoxyCodeLine{00137\ \ \ \ \ encode\_sRGB\_float((\textcolor{keywordtype}{float})rgb[0]\ *\ 0.75f),}
\DoxyCodeLine{00138\ \ \ \ \ encode\_sRGB\_float((\textcolor{keywordtype}{float})rgb[1]\ *\ 0.75f),}
\DoxyCodeLine{00139\ \ \ \ \ encode\_sRGB\_float((\textcolor{keywordtype}{float})rgb[2]\ *\ 0.75f));}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \textcolor{comment}{//\ Should\ our\ foreground\ be\ black\ or\ white?}}
\DoxyCodeLine{00142\ \ \ PN\_stdfloat\ bright\ =\ \_bg\_color.dot(LRGBColor(0.2126,\ 0.7152,\ 0.0722));}
\DoxyCodeLine{00143\ \ \ \textcolor{keywordflow}{if}\ (bright\ >=\ 0.5)\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \_fg\_color\ =\ LRGBColor(0);}
\DoxyCodeLine{00145\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \_fg\_color\ =\ LRGBColor(1);}
\DoxyCodeLine{00147\ \ \ \}}
\DoxyCodeLine{00148\ \ \ \textcolor{keywordflow}{if}\ (bright\ *\ 0.75\ >=\ 0.5)\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \_highlight\_fg\_color\ =\ LRGBColor(0);}
\DoxyCodeLine{00150\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00151\ \ \ \ \ \_highlight\_fg\_color\ =\ LRGBColor(1);}
\DoxyCodeLine{00152\ \ \ \}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ gtk\_widget\_queue\_draw(\_widget);}
\DoxyCodeLine{00155\ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00160\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGtkStatsLabel_afa1eff1512c632704bd9dc544ab45cd7}{GtkStatsLabel::}}}
\DoxyCodeLine{00161\ \mbox{\hyperlink{classGtkStatsLabel_afa1eff1512c632704bd9dc544ab45cd7}{update\_text}}(\textcolor{keywordtype}{bool}\ use\_fullname)\ \{}
\DoxyCodeLine{00162\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classPStatClientData}{PStatClientData}}\ *client\_data\ =\ \_monitor-\/>get\_client\_data();}
\DoxyCodeLine{00163\ \ \ \textcolor{keywordflow}{if}\ (use\_fullname)\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \_text\ =\ client\_data-\/>\mbox{\hyperlink{classPStatClientData_a108bc9bffd81beda32f1c783860d2366}{get\_collector\_fullname}}(\_collector\_index);}
\DoxyCodeLine{00165\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00166\ \ \ \ \ \_text\ =\ client\_data-\/>\mbox{\hyperlink{classPStatClientData_ae5c6475096900ee0f29eff74e6919b31}{get\_collector\_name}}(\_collector\_index);}
\DoxyCodeLine{00167\ \ \ \}}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \textcolor{comment}{//\ Make\ up\ a\ PangoLayout\ to\ represent\ the\ text.}}
\DoxyCodeLine{00170\ \ \ \textcolor{keywordflow}{if}\ (\_layout)\ \{}
\DoxyCodeLine{00171\ \ \ \ \ g\_object\_unref(\_layout);}
\DoxyCodeLine{00172\ \ \ \}}
\DoxyCodeLine{00173\ \ \ \_layout\ =\ gtk\_widget\_create\_pango\_layout(\_widget,\ \_text.c\_str());}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \textcolor{comment}{//\ What\ are\ the\ extents\ of\ the\ text?\ \ This\ determines\ the\ minimum\ size\ of}}
\DoxyCodeLine{00176\ \ \ \textcolor{comment}{//\ our\ widget.}}
\DoxyCodeLine{00177\ \ \ \textcolor{keywordtype}{int}\ width,\ height;}
\DoxyCodeLine{00178\ \ \ pango\_layout\_get\_pixel\_size(\_layout,\ \&width,\ \&height);}
\DoxyCodeLine{00179\ \ \ \_ideal\_width\ =\ width\ +\ \_left\_margin\ +\ \_right\_margin;}
\DoxyCodeLine{00180\ \ \ \_height\ =\ height\ +\ \_top\_margin\ +\ \_bottom\_margin;}
\DoxyCodeLine{00181\ \ \ gtk\_widget\_set\_size\_request(\_widget,\ \_ideal\_width,\ \_height);}
\DoxyCodeLine{00182\ \}}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00187\ \textcolor{keywordtype}{void}\ GtkStatsLabel::}
\DoxyCodeLine{00188\ set\_mouse\_within(\textcolor{keywordtype}{bool}\ mouse\_within)\ \{}
\DoxyCodeLine{00189\ \ \ \textcolor{keywordflow}{if}\ (\_mouse\_within\ !=\ mouse\_within)\ \{}
\DoxyCodeLine{00190\ \ \ \ \ \_mouse\_within\ =\ mouse\_within;}
\DoxyCodeLine{00191\ \ \ \ \ gtk\_widget\_queue\_draw(\_widget);}
\DoxyCodeLine{00192\ \ \ \}}
\DoxyCodeLine{00193\ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00198\ gboolean\ GtkStatsLabel::}
\DoxyCodeLine{00199\ draw\_callback(GtkWidget\ *widget,\ cairo\_t\ *cr,\ gpointer\ data)\ \{}
\DoxyCodeLine{00200\ \ \ \mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *)data;}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ LRGBColor\ bg,\ fg;}
\DoxyCodeLine{00203\ \ \ \textcolor{keywordflow}{if}\ (self-\/>\_highlight\ ||\ self-\/>\_mouse\_within)\ \{}
\DoxyCodeLine{00204\ \ \ \ \ bg\ =\ self-\/>\_highlight\_bg\_color;}
\DoxyCodeLine{00205\ \ \ \ \ fg\ =\ self-\/>\_highlight\_fg\_color;}
\DoxyCodeLine{00206\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00207\ \ \ \ \ bg\ =\ self-\/>\_bg\_color;}
\DoxyCodeLine{00208\ \ \ \ \ fg\ =\ self-\/>\_fg\_color;}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \}}
\DoxyCodeLine{00211\ \ \ cairo\_set\_source\_rgb(cr,\ bg[0],\ bg[1],\ bg[2]);}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ GtkAllocation\ allocation;}
\DoxyCodeLine{00214\ \ \ gtk\_widget\_get\_allocation(widget,\ \&allocation);}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ cairo\_rectangle(cr,\ 0,\ 0,\ allocation.width,\ allocation.height);}
\DoxyCodeLine{00217\ \ \ cairo\_fill(cr);}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \textcolor{keywordtype}{int}\ width,\ height;}
\DoxyCodeLine{00220\ \ \ pango\_layout\_get\_pixel\_size(self-\/>\_layout,\ \&width,\ \&height);}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ cairo\_set\_source\_rgb(cr,\ fg[0],\ fg[1],\ fg[2]);}
\DoxyCodeLine{00223\ \ \ \textcolor{keywordflow}{if}\ (self-\/>\_align\_right)\ \{}
\DoxyCodeLine{00224\ \ \ \ \ cairo\_move\_to(cr,\ allocation.width\ -\/\ width\ -\/\ \_right\_margin,\ \_top\_margin);}
\DoxyCodeLine{00225\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00226\ \ \ \ \ cairo\_move\_to(cr,\ \_left\_margin,\ \_top\_margin);}
\DoxyCodeLine{00227\ \ \ \}}
\DoxyCodeLine{00228\ \ \ pango\_cairo\_show\_layout(cr,\ self-\/>\_layout);}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \textcolor{keywordflow}{return}\ TRUE;}
\DoxyCodeLine{00231\ \}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00236\ gboolean\ GtkStatsLabel::}
\DoxyCodeLine{00237\ enter\_notify\_event\_callback(GtkWidget\ *widget,\ GdkEventCrossing\ *event,}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ gpointer\ data)\ \{}
\DoxyCodeLine{00239\ \ \ \mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *)data;}
\DoxyCodeLine{00240\ \ \ self-\/>set\_mouse\_within(\textcolor{keyword}{true});}
\DoxyCodeLine{00241\ \ \ \textcolor{keywordflow}{return}\ TRUE;}
\DoxyCodeLine{00242\ \}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00247\ gboolean\ GtkStatsLabel::}
\DoxyCodeLine{00248\ leave\_notify\_event\_callback(GtkWidget\ *widget,\ GdkEventCrossing\ *event,}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gpointer\ data)\ \{}
\DoxyCodeLine{00250\ \ \ \mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *)data;}
\DoxyCodeLine{00251\ \ \ self-\/>set\_mouse\_within(\textcolor{keyword}{false});}
\DoxyCodeLine{00252\ \ \ \textcolor{keywordflow}{return}\ TRUE;}
\DoxyCodeLine{00253\ \}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00258\ gboolean\ GtkStatsLabel::}
\DoxyCodeLine{00259\ button\_press\_event\_callback(GtkWidget\ *widget,\ GdkEventButton\ *event,}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gpointer\ data)\ \{}
\DoxyCodeLine{00261\ \ \ \mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *)data;}
\DoxyCodeLine{00262\ \ \ \textcolor{keywordflow}{if}\ (event-\/>type\ ==\ GDK\_2BUTTON\_PRESS\ \&\&\ event-\/>button\ ==\ 1)\ \{}
\DoxyCodeLine{00263\ \ \ \ \ self-\/>\_graph-\/>\mbox{\hyperlink{classGtkStatsGraph_a6ea3dbb779e30fcd2d970eb3fd650bc4}{on\_click\_label}}(self-\/>\_collector\_index);}
\DoxyCodeLine{00264\ \ \ \}}
\DoxyCodeLine{00265\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (event-\/>type\ ==\ GDK\_BUTTON\_PRESS\ \&\&\ event-\/>button\ ==\ 3)\ \{}
\DoxyCodeLine{00266\ \ \ \ \ self-\/>\_graph-\/>\mbox{\hyperlink{classGtkStatsGraph_aa4c5e43b31f18529a8f50d42ec548304}{on\_popup\_label}}(self-\/>\_collector\_index);}
\DoxyCodeLine{00267\ \ \ \}}
\DoxyCodeLine{00268\ \ \ \textcolor{keywordflow}{return}\ TRUE;}
\DoxyCodeLine{00269\ \}}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00274\ gboolean\ GtkStatsLabel::}
\DoxyCodeLine{00275\ query\_tooltip\_callback(GtkWidget\ *widget,\ gint\ x,\ gint\ y,}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gboolean\ keyboard\_tip,\ GtkTooltip\ *tooltip,}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gpointer\ data)\ \{}
\DoxyCodeLine{00278\ \ \ \mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *self\ =\ (\mbox{\hyperlink{classGtkStatsLabel}{GtkStatsLabel}}\ *)data;}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ std::string\ text\ =\ self-\/>\_graph-\/>\mbox{\hyperlink{classGtkStatsGraph_abf41355440e0b3898a44ba29d4ffad09}{get\_label\_tooltip}}(self-\/>\_collector\_index);}
\DoxyCodeLine{00281\ \ \ gtk\_tooltip\_set\_text(tooltip,\ text.c\_str());}
\DoxyCodeLine{00282\ \ \ \textcolor{keywordflow}{return}\ !text.empty();}
\DoxyCodeLine{00283\ \}}

\end{DoxyCode}
