\doxysection{panda/src/distort/projection\+Screen.cxx File Reference}
\hypertarget{projectionScreen_8cxx}{}\label{projectionScreen_8cxx}\index{panda/src/distort/projectionScreen.cxx@{panda/src/distort/projectionScreen.cxx}}
{\ttfamily \#include "{}projection\+Screen.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Node.\+h"{}}\newline
{\ttfamily \#include "{}transform\+State.\+h"{}}\newline
{\ttfamily \#include "{}working\+Node\+Path.\+h"{}}\newline
{\ttfamily \#include "{}switch\+Node.\+h"{}}\newline
{\ttfamily \#include "{}geom.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Tristrips.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Writer.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Reader.\+h"{}}\newline
{\ttfamily \#include "{}geom\+Vertex\+Rewriter.\+h"{}}\newline
{\ttfamily \#include "{}config\+\_\+distort.\+h"{}}\newline
{\ttfamily \#include "{}cull\+Traverser\+Data.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{projectionScreen_8cxx_ad4ab2b70fee1482f75d9f8cc1cab22e5}{PT}} (\mbox{\hyperlink{classGeomNode}{Geom\+Node}}) \mbox{\hyperlink{classProjectionScreen}{Projection\+Screen}}
\item 
\mbox{\hyperlink{projectionScreen_8cxx_a0392b7597d4ad777a26fce19f9586549}{PT}} (\mbox{\hyperlink{classPandaNode}{Panda\+Node}}) \mbox{\hyperlink{classProjectionScreen}{Projection\+Screen}}
\item 
\mbox{\hyperlink{projectionScreen_8cxx_a1869dd83c04a3f69ca6b1a343035e7ba}{PT}} (\mbox{\hyperlink{classGeom}{Geom}}) \mbox{\hyperlink{classProjectionScreen}{Projection\+Screen}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
PANDA 3D SOFTWARE Copyright (c) Carnegie Mellon University. All rights reserved.

All use of this software is subject to the terms of the revised BSD license. You should have received a copy of this license along with this source code in a file named "{}\+LICENSE."{}

\begin{DoxyAuthor}{Author}
drose 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2001-\/12-\/11 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{projectionScreen_8cxx_a1869dd83c04a3f69ca6b1a343035e7ba}\label{projectionScreen_8cxx_a1869dd83c04a3f69ca6b1a343035e7ba} 
\index{projectionScreen.cxx@{projectionScreen.cxx}!PT@{PT}}
\index{PT@{PT}!projectionScreen.cxx@{projectionScreen.cxx}}
\doxysubsubsection{\texorpdfstring{PT()}{PT()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily PT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classGeom}{Geom}}}]{ }\end{DoxyParamCaption})}

Makes a new \doxylink{classGeom}{Geom}, just like the given one, except flattened into two dimensions as seen by the indicated lens. Any triangle in the original mesh that involves an unprojectable vertex is eliminated. \Hypertarget{projectionScreen_8cxx_ad4ab2b70fee1482f75d9f8cc1cab22e5}\label{projectionScreen_8cxx_ad4ab2b70fee1482f75d9f8cc1cab22e5} 
\index{projectionScreen.cxx@{projectionScreen.cxx}!PT@{PT}}
\index{PT@{PT}!projectionScreen.cxx@{projectionScreen.cxx}}
\doxysubsubsection{\texorpdfstring{PT()}{PT()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily PT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classGeomNode}{Geom\+Node}}}]{ }\end{DoxyParamCaption})}

Synthesizes a polygon mesh based on the projection area of the indicated projector. This generates and returns a new \doxylink{classGeomNode}{Geom\+Node} but does not automatically parent it to the \doxylink{classProjectionScreen}{Projection\+Screen} node; see regenerate\+\_\+screen().

The specified projector need not be the same as the projector given to the \doxylink{classProjectionScreen}{Projection\+Screen} with set\+\_\+projector() (although this is often what you want).

num\+\_\+x\+\_\+verts and num\+\_\+y\+\_\+verts specify the number of vertices to make in the grid across the horizontal and vertical dimension of the projector, respectively; distance represents the approximate distance of the screen from the lens center.

The fill\+\_\+ratio parameter specifies the fraction of the image to cover. If it is 1.\+0, the entire image is shown full-\/size; if it is 0.\+9, 10\% of the image around the edges is not part of the grid (and the grid is drawn smaller by the same 10\%). This is intended to work around graphics drivers that tend to show dark edges or other unsatisfactory artifacts around the edges of textures\+: render the texture larger than necessary by a certain fraction, and make the screen smaller by the inverse fraction.

Makes a new \doxylink{classGeomNode}{Geom\+Node}, just like the given one, except flattened into two dimensions as seen by the indicated camera. \Hypertarget{projectionScreen_8cxx_a0392b7597d4ad777a26fce19f9586549}\label{projectionScreen_8cxx_a0392b7597d4ad777a26fce19f9586549} 
\index{projectionScreen.cxx@{projectionScreen.cxx}!PT@{PT}}
\index{PT@{PT}!projectionScreen.cxx@{projectionScreen.cxx}}
\doxysubsubsection{\texorpdfstring{PT()}{PT()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily PT (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classPandaNode}{Panda\+Node}}}]{ }\end{DoxyParamCaption})}

Generates a deep copy of the hierarchy at the \doxylink{classProjectionScreen}{Projection\+Screen} node and below, with vertices flattened into two dimensions as if they were seen by the indicated camera node.

This is useful for rendering an image as seen through a non-\/linear lens. The resulting mesh will have vertices in the range \mbox{[}-\/1, 1\mbox{]} in both x and y, and may be then rendered with an ordinary orthographic lens, to generate the effect of seeing the image through the specified non-\/linear lens.

The returned node has no parent; it is up to the caller to parent it somewhere or store it so that it does not get dereferenced and deleted. 