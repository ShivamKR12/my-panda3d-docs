\doxysection{state\+Munger.\+cxx}
\hypertarget{stateMunger_8cxx_source}{}\label{stateMunger_8cxx_source}\index{panda/src/pgraph/stateMunger.cxx@{panda/src/pgraph/stateMunger.cxx}}
\mbox{\hyperlink{stateMunger_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{stateMunger_8h}{stateMunger.h}}"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ StateMunger::\_type\_handle;}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00021\ StateMunger::}
\DoxyCodeLine{00022\ \string~StateMunger()\ \{}
\DoxyCodeLine{00023\ \}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00028\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ StateMunger::}
\DoxyCodeLine{00029\ munge\_state(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *state)\ \{}
\DoxyCodeLine{00030\ \ \ \mbox{\hyperlink{classSimpleHashMap}{RenderState::MungedStates}}\ \&munged\_states\ =\ state-\/>\_munged\_states;}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}\ =\ get\_gsg()-\/>\_id;}
\DoxyCodeLine{00033\ \ \ \textcolor{keywordtype}{int}\ mi\ =\ munged\_states.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00034\ \ \ \textcolor{keywordflow}{if}\ (mi\ !=\ -\/1)\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ munged\_state\ =\ munged\_states.get\_data(mi).lock())\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ munged\_state;}
\DoxyCodeLine{00037\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ munged\_states.remove\_element(mi);}
\DoxyCodeLine{00039\ \ \ \ \ \}}
\DoxyCodeLine{00040\ \ \ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ result\ =\ munge\_state\_impl(state);}
\DoxyCodeLine{00043\ \ \ munged\_states.store(\textcolor{keywordtype}{id},\ result);}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00046\ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00051\ CPT(\mbox{\hyperlink{classRenderState}{RenderState}})\ StateMunger::}
\DoxyCodeLine{00052\ munge\_state\_impl(\textcolor{keyword}{const}\ \mbox{\hyperlink{classRenderState}{RenderState}}\ *state)\ \{}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{return}\ state;}
\DoxyCodeLine{00054\ \}}

\end{DoxyCode}
