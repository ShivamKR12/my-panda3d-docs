\doxysection{anim\+Bundle\+Node.\+cxx}
\hypertarget{animBundleNode_8cxx_source}{}\label{animBundleNode_8cxx_source}\index{panda/src/chan/animBundleNode.cxx@{panda/src/chan/animBundleNode.cxx}}
\mbox{\hyperlink{animBundleNode_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{animBundleNode_8h}{animBundleNode.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagram_8h}{datagram.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{datagramIterator_8h}{datagramIterator.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamReader_8h}{bamReader.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bamWriter_8h}{bamWriter.h}}"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \mbox{\hyperlink{classTypeHandle}{TypeHandle}}\ AnimBundleNode::\_type\_handle;}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00026\ \mbox{\hyperlink{classPandaNode}{PandaNode}}\ *AnimBundleNode::}
\DoxyCodeLine{00027\ make\_copy()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00028\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classAnimBundleNode}{AnimBundleNode}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{00029\ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00037\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classAnimBundleNode_a1cc06fc8b64e951ce755ee9594ee11eb}{AnimBundleNode::}}}
\DoxyCodeLine{00038\ \mbox{\hyperlink{classAnimBundleNode_a1cc06fc8b64e951ce755ee9594ee11eb}{safe\_to\_flatten}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00039\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00040\ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00047\ \mbox{\hyperlink{classAnimBundle}{AnimBundle}}\ *\mbox{\hyperlink{classAnimBundleNode_a806c90b483a8d5e44625a1cfe9b66fc7}{AnimBundleNode::}}}
\DoxyCodeLine{00048\ \mbox{\hyperlink{classAnimBundleNode_a806c90b483a8d5e44625a1cfe9b66fc7}{find\_anim\_bundle}}(\mbox{\hyperlink{classPandaNode}{PandaNode}}\ *root)\ \{}
\DoxyCodeLine{00049\ \ \ nassertr(root\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{if}\ (root-\/>is\_of\_type(AnimBundleNode::get\_class\_type()))\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{classAnimBundleNode}{AnimBundleNode}}\ *anode\ =\ DCAST(\mbox{\hyperlink{classAnimBundleNode}{AnimBundleNode}},\ root);}
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{classAnimBundle}{AnimBundle}}\ *anim\ =\ anode-\/>get\_bundle();}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{if}\ (anim\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ anim;}
\DoxyCodeLine{00056\ \ \ \ \ \}}
\DoxyCodeLine{00057\ \ \ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ Children\ cr\ =\ root-\/>get\_children();}
\DoxyCodeLine{00060\ \ \ \textcolor{keywordtype}{int}\ num\_children\ =\ cr.get\_num\_children();}
\DoxyCodeLine{00061\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_children;\ i++)\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{classAnimBundle}{AnimBundle}}\ *anim\ =\ \mbox{\hyperlink{classAnimBundleNode_a806c90b483a8d5e44625a1cfe9b66fc7}{find\_anim\_bundle}}(cr.get\_child(i));}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordflow}{if}\ (anim\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ anim;}
\DoxyCodeLine{00065\ \ \ \ \ \}}
\DoxyCodeLine{00066\ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00069\ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00074\ \textcolor{keywordtype}{void}\ AnimBundleNode::}
\DoxyCodeLine{00075\ output(std::ostream\ \&out)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00076\ \ \ PandaNode::output(out);}
\DoxyCodeLine{00077\ \ \ \textcolor{keywordflow}{if}\ (\_bundle\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00078\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{}\ ("{}};}
\DoxyCodeLine{00079\ \ \ \ \ \_bundle-\/>output(out);}
\DoxyCodeLine{00080\ \ \ \ \ out\ <<\ \textcolor{stringliteral}{"{})"{}};}
\DoxyCodeLine{00081\ \ \ \}}
\DoxyCodeLine{00082\ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00087\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classAnimBundleNode_a3188d34d39dc844369edb8a216fe40ca}{AnimBundleNode::}}}
\DoxyCodeLine{00088\ \mbox{\hyperlink{classAnimBundleNode_a3188d34d39dc844369edb8a216fe40ca}{register\_with\_read\_factory}}()\ \{}
\DoxyCodeLine{00089\ \ \ BamReader::get\_factory()-\/>register\_factory(get\_class\_type(),\ \mbox{\hyperlink{classAnimBundleNode_a21b4040255a7329b0871317cbbf3f82f}{make\_from\_bam}});}
\DoxyCodeLine{00090\ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00096\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classAnimBundleNode_abbe0178d0a97047f02c9ca429107b2c8}{AnimBundleNode::}}}
\DoxyCodeLine{00097\ \mbox{\hyperlink{classAnimBundleNode_abbe0178d0a97047f02c9ca429107b2c8}{write\_datagram}}(\mbox{\hyperlink{classBamWriter}{BamWriter}}\ *manager,\ \mbox{\hyperlink{classDatagram}{Datagram}}\ \&dg)\ \{}
\DoxyCodeLine{00098\ \ \ \mbox{\hyperlink{classPandaNode_ae9b3055297ade9bbf4a3b4dfc77e4506}{PandaNode::write\_datagram}}(manager,\ dg);}
\DoxyCodeLine{00099\ \ \ manager-\/>\mbox{\hyperlink{classBamWriter_a634bd4eb8e9b33ffde91a27c02f80467}{write\_pointer}}(dg,\ \_bundle);}
\DoxyCodeLine{00100\ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00106\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classAnimBundleNode_a317aaaf1ddc1ec2735a2eed8980b60ba}{AnimBundleNode::}}}
\DoxyCodeLine{00107\ \mbox{\hyperlink{classAnimBundleNode_a317aaaf1ddc1ec2735a2eed8980b60ba}{complete\_pointers}}(\mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ **p\_list,\ \mbox{\hyperlink{classBamReader}{BamReader}}*\ manager)\ \{}
\DoxyCodeLine{00108\ \ \ \textcolor{keywordtype}{int}\ pi\ =\ \mbox{\hyperlink{classTypedWritable_addc29bb978851cacca2196f8a1f35014}{PandaNode::complete\_pointers}}(p\_list,\ manager);}
\DoxyCodeLine{00109\ \ \ \_bundle\ =\ DCAST(\mbox{\hyperlink{classAnimBundle}{AnimBundle}},\ p\_list[pi++]);}
\DoxyCodeLine{00110\ \ \ \textcolor{keywordflow}{return}\ pi;}
\DoxyCodeLine{00111\ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00118\ \mbox{\hyperlink{classTypedWritable}{TypedWritable}}\ *\mbox{\hyperlink{classAnimBundleNode_a21b4040255a7329b0871317cbbf3f82f}{AnimBundleNode::}}}
\DoxyCodeLine{00119\ \mbox{\hyperlink{classAnimBundleNode_a21b4040255a7329b0871317cbbf3f82f}{make\_from\_bam}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFactoryParams}{FactoryParams}}\ \&params)\ \{}
\DoxyCodeLine{00120\ \ \ \mbox{\hyperlink{classAnimBundleNode}{AnimBundleNode}}\ *node\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classAnimBundleNode}{AnimBundleNode}};}
\DoxyCodeLine{00121\ \ \ \mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ scan;}
\DoxyCodeLine{00122\ \ \ \mbox{\hyperlink{classBamReader}{BamReader}}\ *manager;}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ parse\_params(params,\ scan,\ manager);}
\DoxyCodeLine{00125\ \ \ node-\/>\mbox{\hyperlink{classAnimBundleNode_a449cdebc60d079ed03d3159e58ffddbe}{fillin}}(scan,\ manager);}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \textcolor{keywordflow}{return}\ node;}
\DoxyCodeLine{00128\ \}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00134\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classAnimBundleNode_a449cdebc60d079ed03d3159e58ffddbe}{AnimBundleNode::}}}
\DoxyCodeLine{00135\ \mbox{\hyperlink{classAnimBundleNode_a449cdebc60d079ed03d3159e58ffddbe}{fillin}}(\mbox{\hyperlink{classDatagramIterator}{DatagramIterator}}\ \&scan,\ \mbox{\hyperlink{classBamReader}{BamReader}}*\ manager)\ \{}
\DoxyCodeLine{00136\ \ \ \mbox{\hyperlink{classPandaNode_a924d7f721627231f4504db71809ad2c2}{PandaNode::fillin}}(scan,\ manager);}
\DoxyCodeLine{00137\ \ \ manager-\/>\mbox{\hyperlink{classBamReader_ac0ecc0609d9c6de514145777b3336435}{read\_pointer}}(scan);}
\DoxyCodeLine{00138\ \}}

\end{DoxyCode}
