\doxysection{color\+Space.\+cxx}
\hypertarget{colorSpace_8cxx_source}{}\label{colorSpace_8cxx_source}\index{panda/src/putil/colorSpace.cxx@{panda/src/putil/colorSpace.cxx}}
\mbox{\hyperlink{colorSpace_8cxx}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{colorSpace_8h}{colorSpace.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config__putil_8h}{config\_putil.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{configVariableEnum_8h}{configVariableEnum.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{string__utils_8h}{string\_utils.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dconfig_8h}{dconfig.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{pnotify_8h}{pnotify.h}}"{}}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <ctype.h>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{using\ }std::istream;}
\DoxyCodeLine{00025\ \textcolor{keyword}{using\ }std::ostream;}
\DoxyCodeLine{00026\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classstd_1_1ostringstream}{std::ostringstream}};}
\DoxyCodeLine{00027\ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ ColorSpace}
\DoxyCodeLine{00030\ parse\_color\_space\_string(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\ \&str)\ \{}
\DoxyCodeLine{00031\ \ \ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(str,\ \textcolor{stringliteral}{"{}linear"{}})\ ==\ 0\ ||}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ cmp\_nocase\_uh(str,\ \textcolor{stringliteral}{"{}linear-\/rgb"{}})\ ==\ 0\ ||}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ cmp\_nocase\_uh(str,\ \textcolor{stringliteral}{"{}lrgb"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordflow}{return}\ CS\_linear;}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(str,\ \textcolor{stringliteral}{"{}srgb"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordflow}{return}\ CS\_sRGB;}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(str,\ \textcolor{stringliteral}{"{}scrgb"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{return}\ CS\_scRGB;}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(str,\ \textcolor{stringliteral}{"{}unspecified"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordflow}{return}\ CS\_unspecified;}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmp\_nocase\_uh(str,\ \textcolor{stringliteral}{"{}non-\/color"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{comment}{//\ In\ case\ we\ want\ to\ add\ this\ as\ an\ enum\ value\ in\ the\ future.}}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordflow}{return}\ CS\_linear;}
\DoxyCodeLine{00048\ \ \ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ util\_cat-\/>error()}
\DoxyCodeLine{00051\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Invalid\ color\_space\ string:\ "{}}\ <<\ str\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00052\ \ \ \textcolor{keywordflow}{return}\ CS\_linear;}
\DoxyCodeLine{00053\ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{keywordtype}{string}}
\DoxyCodeLine{00056\ format\_color\_space(ColorSpace\ cs)\ \{}
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{classstd_1_1ostringstream}{ostringstream}}\ strm;}
\DoxyCodeLine{00058\ \ \ strm\ <<\ cs;}
\DoxyCodeLine{00059\ \ \ \textcolor{keywordflow}{return}\ strm.str();}
\DoxyCodeLine{00060\ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ ostream\ \&}
\DoxyCodeLine{00063\ operator\ <<\ (ostream\ \&out,\ ColorSpace\ cs)\ \{}
\DoxyCodeLine{00064\ \ \ \textcolor{keywordflow}{switch}\ (cs)\ \{}
\DoxyCodeLine{00065\ \ \ \textcolor{keywordflow}{case}\ CS\_linear:}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}linear"{}};}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{keywordflow}{case}\ CS\_sRGB:}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}sRGB"{}};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{keywordflow}{case}\ CS\_scRGB:}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}scRGB"{}};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \textcolor{keywordflow}{case}\ CS\_unspecified:}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordflow}{return}\ out\ <<\ \textcolor{stringliteral}{"{}unspecified"{}};}
\DoxyCodeLine{00076\ \ \ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ util\_cat-\/>error()}
\DoxyCodeLine{00079\ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Invalid\ color\_space\ value:\ "{}}\ <<\ (int)cs\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00080\ \ \ nassertr(\textcolor{keyword}{false},\ out);}
\DoxyCodeLine{00081\ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{00082\ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ istream\ \&}
\DoxyCodeLine{00085\ operator\ >>\ (istream\ \&in,\ ColorSpace\ \&cs)\ \{}
\DoxyCodeLine{00086\ \ \ \textcolor{keywordtype}{string}\ word;}
\DoxyCodeLine{00087\ \ \ in\ >>\ word;}
\DoxyCodeLine{00088\ \ \ cs\ =\ parse\_color\_space\_string(word);}
\DoxyCodeLine{00089\ \ \ \textcolor{keywordflow}{return}\ in;}
\DoxyCodeLine{00090\ \}}

\end{DoxyCode}
