<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Panda3D C++ Architecture: FFTCompressor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Panda3D C++ Architecture
   </div>
   <div id="projectbrief">API reference for Panda3D&#39;s C++ codebase.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classFFTCompressor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">FFTCompressor Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="fftCompressor_8h_source.html">fftCompressor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2c387817f720cd3c24d4b3da4f0efb8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#a2c387817f720cd3c24d4b3da4f0efb8f">FFTCompressor</a> ()</td></tr>
<tr class="separator:a2c387817f720cd3c24d4b3da4f0efb8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b0db870b069e6bd5513963af476fe2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#a53b0db870b069e6bd5513963af476fe2">set_quality</a> (int quality)</td></tr>
<tr class="separator:a53b0db870b069e6bd5513963af476fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac230e4f377b5de19957e3f71a1d17912"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#ac230e4f377b5de19957e3f71a1d17912">get_quality</a> () const</td></tr>
<tr class="separator:ac230e4f377b5de19957e3f71a1d17912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee5f3c053b9f9e3909bd9411ac471d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#a1ee5f3c053b9f9e3909bd9411ac471d9">set_use_error_threshold</a> (bool use_error_threshold)</td></tr>
<tr class="separator:a1ee5f3c053b9f9e3909bd9411ac471d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fcfc32194b0a5aa3334b271596f28f1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#a4fcfc32194b0a5aa3334b271596f28f1">get_use_error_threshold</a> () const</td></tr>
<tr class="separator:a4fcfc32194b0a5aa3334b271596f28f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237e1c694f1765f3f33e30e76e62763c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#a237e1c694f1765f3f33e30e76e62763c">set_transpose_quats</a> (bool flag)</td></tr>
<tr class="separator:a237e1c694f1765f3f33e30e76e62763c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb43202cf6584a4d164dbb954e1a5e1b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#afb43202cf6584a4d164dbb954e1a5e1b">get_transpose_quats</a> () const</td></tr>
<tr class="separator:afb43202cf6584a4d164dbb954e1a5e1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4cae5073d6e047daeb3a2ed61a32838"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#ae4cae5073d6e047daeb3a2ed61a32838">write_header</a> (<a class="el" href="classDatagram.html">Datagram</a> &amp;datagram)</td></tr>
<tr class="separator:ae4cae5073d6e047daeb3a2ed61a32838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae97e74c103db5941590843c2cc88bcab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#ae97e74c103db5941590843c2cc88bcab">write_reals</a> (<a class="el" href="classDatagram.html">Datagram</a> &amp;datagram, const PN_stdfloat *array, int length)</td></tr>
<tr class="separator:ae97e74c103db5941590843c2cc88bcab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf56c07b9bf59a1abeba6cb65b73dfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#aedf56c07b9bf59a1abeba6cb65b73dfe">write_hprs</a> (<a class="el" href="classDatagram.html">Datagram</a> &amp;datagram, const LVecBase3 *array, int length)</td></tr>
<tr class="separator:aedf56c07b9bf59a1abeba6cb65b73dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f6b46d2ee1d06ad4549eabdcc2c439"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#a67f6b46d2ee1d06ad4549eabdcc2c439">read_header</a> (<a class="el" href="classDatagramIterator.html">DatagramIterator</a> &amp;di, int bam_minor_version)</td></tr>
<tr class="separator:a67f6b46d2ee1d06ad4549eabdcc2c439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be8ffd0b57154f9e36b163ebb85f2d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#a1be8ffd0b57154f9e36b163ebb85f2d0">read_reals</a> (<a class="el" href="classDatagramIterator.html">DatagramIterator</a> &amp;di, vector_stdfloat &amp;array)</td></tr>
<tr class="separator:a1be8ffd0b57154f9e36b163ebb85f2d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5f1f242aa11d39af0a111739d8c3da"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#a2e5f1f242aa11d39af0a111739d8c3da">read_hprs</a> (<a class="el" href="classDatagramIterator.html">DatagramIterator</a> &amp;di, <a class="el" href="classpvector.html">pvector</a>&lt; LVecBase3 &gt; &amp;array, bool new_hpr)</td></tr>
<tr class="separator:a2e5f1f242aa11d39af0a111739d8c3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ca57b16aec0fd3fc670a47f34a74b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#a76ca57b16aec0fd3fc670a47f34a74b8">read_hprs</a> (<a class="el" href="classDatagramIterator.html">DatagramIterator</a> &amp;di, <a class="el" href="classpvector.html">pvector</a>&lt; LVecBase3 &gt; &amp;array)</td></tr>
<tr class="separator:a76ca57b16aec0fd3fc670a47f34a74b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:adaa64eb86e996609d2f7b3dcc9c47abe"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#adaa64eb86e996609d2f7b3dcc9c47abe">is_compression_available</a> ()</td></tr>
<tr class="separator:adaa64eb86e996609d2f7b3dcc9c47abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14c0fe73ea0e578b85e1ecdb3f33f936"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFTCompressor.html#a14c0fe73ea0e578b85e1ecdb3f33f936">free_storage</a> ()</td></tr>
<tr class="separator:a14c0fe73ea0e578b85e1ecdb3f33f936"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class manages a lossy compression and decompression of a stream of floating-point numbers to a datagram, based a fourier transform algorithm (similar in principle to JPEG compression).</p>
<p>Actually, it doesn't do any real compression on its own; it just outputs a stream of integers that should compress much tighter via gzip than the original stream of floats would have.</p>
<p>This class depends on the external FFTW library; without it, it will fall back on lossless output of the original data. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2c387817f720cd3c24d4b3da4f0efb8f" name="a2c387817f720cd3c24d4b3da4f0efb8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c387817f720cd3c24d4b3da4f0efb8f">&#9670;&#160;</a></span>FFTCompressor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FFTCompressor::FFTCompressor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a new compressor object with default parameters. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a14c0fe73ea0e578b85e1ecdb3f33f936" name="a14c0fe73ea0e578b85e1ecdb3f33f936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14c0fe73ea0e578b85e1ecdb3f33f936">&#9670;&#160;</a></span>free_storage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FFTCompressor::free_storage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Frees memory that has been allocated during past runs of the <a class="el" href="classFFTCompressor.html">FFTCompressor</a>. This is an optional call, but it may be made from time to time to empty the global cache that the compressor objects keep to facilitate fast compression/decompression. </p>

</div>
</div>
<a id="ac230e4f377b5de19957e3f71a1d17912" name="ac230e4f377b5de19957e3f71a1d17912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac230e4f377b5de19957e3f71a1d17912">&#9670;&#160;</a></span>get_quality()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FFTCompressor::get_quality </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the quality number that was previously set via <a class="el" href="classFFTCompressor.html#a53b0db870b069e6bd5513963af476fe2">set_quality()</a>. </p>

</div>
</div>
<a id="afb43202cf6584a4d164dbb954e1a5e1b" name="afb43202cf6584a4d164dbb954e1a5e1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb43202cf6584a4d164dbb954e1a5e1b">&#9670;&#160;</a></span>get_transpose_quats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FFTCompressor::get_transpose_quats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the transpose_quats flag. See <a class="el" href="classFFTCompressor.html#a237e1c694f1765f3f33e30e76e62763c">set_transpose_quats()</a>. </p>

</div>
</div>
<a id="a4fcfc32194b0a5aa3334b271596f28f1" name="a4fcfc32194b0a5aa3334b271596f28f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fcfc32194b0a5aa3334b271596f28f1">&#9670;&#160;</a></span>get_use_error_threshold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FFTCompressor::get_use_error_threshold </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns whether the error threshold measurement is enabled. See <a class="el" href="classFFTCompressor.html#a1ee5f3c053b9f9e3909bd9411ac471d9">set_use_error_threshold()</a>. </p>

</div>
</div>
<a id="adaa64eb86e996609d2f7b3dcc9c47abe" name="adaa64eb86e996609d2f7b3dcc9c47abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa64eb86e996609d2f7b3dcc9c47abe">&#9670;&#160;</a></span>is_compression_available()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FFTCompressor::is_compression_available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the FFTW library is compiled in, so that this class is actually capable of doing useful compression/decompression work. Returns false otherwise, in which case any attempt to write a compressed stream will actually write an uncompressed stream, and any attempt to read a compressed stream will fail. </p>

</div>
</div>
<a id="a67f6b46d2ee1d06ad4549eabdcc2c439" name="a67f6b46d2ee1d06ad4549eabdcc2c439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67f6b46d2ee1d06ad4549eabdcc2c439">&#9670;&#160;</a></span>read_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FFTCompressor::read_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDatagramIterator.html">DatagramIterator</a> &amp;&#160;</td>
          <td class="paramname"><em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bam_minor_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the compression header that was written previously. This fills in the compression parameters necessary to correctly decompress the following data.</p>
<p>Returns true if the header is read successfully, false otherwise. </p>

</div>
</div>
<a id="a76ca57b16aec0fd3fc670a47f34a74b8" name="a76ca57b16aec0fd3fc670a47f34a74b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76ca57b16aec0fd3fc670a47f34a74b8">&#9670;&#160;</a></span>read_hprs() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FFTCompressor::read_hprs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDatagramIterator.html">DatagramIterator</a> &amp;&#160;</td>
          <td class="paramname"><em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpvector.html">pvector</a>&lt; LVecBase3 &gt; &amp;&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads an array of HPR angles. The result is pushed onto the end of the indicated vector, which is not cleared first; it is the user's responsibility to ensure that the array is initially empty. </p>

</div>
</div>
<a id="a2e5f1f242aa11d39af0a111739d8c3da" name="a2e5f1f242aa11d39af0a111739d8c3da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5f1f242aa11d39af0a111739d8c3da">&#9670;&#160;</a></span>read_hprs() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FFTCompressor::read_hprs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDatagramIterator.html">DatagramIterator</a> &amp;&#160;</td>
          <td class="paramname"><em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpvector.html">pvector</a>&lt; LVecBase3 &gt; &amp;&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>new_hpr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads an array of HPR angles. The result is pushed onto the end of the indicated vector, which is not cleared first; it is the user's responsibility to ensure that the array is initially empty.</p>
<p>new_hpr is a temporary, transitional parameter. If it is set false, the hprs are decompressed according to the old, broken hpr calculation; if true, the hprs are decompressed according to the new, correct hpr calculation. </p>

</div>
</div>
<a id="a1be8ffd0b57154f9e36b163ebb85f2d0" name="a1be8ffd0b57154f9e36b163ebb85f2d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1be8ffd0b57154f9e36b163ebb85f2d0">&#9670;&#160;</a></span>read_reals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FFTCompressor::read_reals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDatagramIterator.html">DatagramIterator</a> &amp;&#160;</td>
          <td class="paramname"><em>di</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector_stdfloat &amp;&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads an array of floating-point numbers. The result is pushed onto the end of the indicated vector, which is not cleared first; it is the user's responsibility to ensure that the array is initially empty. Returns true if the data is read correctly, false if there is an error. </p>

</div>
</div>
<a id="a53b0db870b069e6bd5513963af476fe2" name="a53b0db870b069e6bd5513963af476fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53b0db870b069e6bd5513963af476fe2">&#9670;&#160;</a></span>set_quality()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FFTCompressor::set_quality </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quality</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the quality factor for the compression. This is an integer in the range 0 - 100 that roughly controls how aggressively the reals are compressed; lower numbers mean smaller output, and more data loss.</p>
<p>There are a few special cases. Quality -1 means to use whatever individual parameters are set in the user's Configrc file, rather than the single quality dial. Quality 101 or higher means to generate lossless output (this is the default if libfftw is not available).</p>
<p>Quality 102 writes all four components of quaternions to the output file, rather than just three, quality 103 converts hpr to matrix (instead of quat) and writes a 9-component matrix, and quality 104 just writes out hpr directly. Quality levels 102 and greater are strictly for debugging purposes, and are only available if NDEBUG is not defined. </p>

</div>
</div>
<a id="a237e1c694f1765f3f33e30e76e62763c" name="a237e1c694f1765f3f33e30e76e62763c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a237e1c694f1765f3f33e30e76e62763c">&#9670;&#160;</a></span>set_transpose_quats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FFTCompressor::set_transpose_quats </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the transpose_quats flag. This is provided mainly for backward compatibility with old bam files that were written out with the quaternions inadvertently transposed. </p>

</div>
</div>
<a id="a1ee5f3c053b9f9e3909bd9411ac471d9" name="a1ee5f3c053b9f9e3909bd9411ac471d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ee5f3c053b9f9e3909bd9411ac471d9">&#9670;&#160;</a></span>set_use_error_threshold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FFTCompressor::set_use_error_threshold </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_error_threshold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables or disables the use of the error threshold measurement to put a cap on the amount of damage done by lossy compression. When this is enabled, the potential results of the compression are analyzed before the data is written; if it is determined that the compression will damage a particular string of reals too much, that particular string of reals is written uncompressed. </p>

</div>
</div>
<a id="ae4cae5073d6e047daeb3a2ed61a32838" name="ae4cae5073d6e047daeb3a2ed61a32838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4cae5073d6e047daeb3a2ed61a32838">&#9670;&#160;</a></span>write_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FFTCompressor::write_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDatagram.html">Datagram</a> &amp;&#160;</td>
          <td class="paramname"><em>datagram</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes the compression parameters to the indicated datagram. It is necessary to call this before writing anything else to the datagram, since these parameters will be necessary to correctly decompress the data later. </p>

</div>
</div>
<a id="aedf56c07b9bf59a1abeba6cb65b73dfe" name="aedf56c07b9bf59a1abeba6cb65b73dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf56c07b9bf59a1abeba6cb65b73dfe">&#9670;&#160;</a></span>write_hprs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FFTCompressor::write_hprs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDatagram.html">Datagram</a> &amp;&#160;</td>
          <td class="paramname"><em>datagram</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LVecBase3 *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes an array of HPR angles to the indicated datagram. </p>

</div>
</div>
<a id="ae97e74c103db5941590843c2cc88bcab" name="ae97e74c103db5941590843c2cc88bcab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae97e74c103db5941590843c2cc88bcab">&#9670;&#160;</a></span>write_reals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FFTCompressor::write_reals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDatagram.html">Datagram</a> &amp;&#160;</td>
          <td class="paramname"><em>datagram</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PN_stdfloat *&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes an array of floating-point numbers to the indicated datagram. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>panda/src/mathutil/<a class="el" href="fftCompressor_8h_source.html">fftCompressor.h</a></li>
<li>panda/src/mathutil/<a class="el" href="fftCompressor_8cxx_source.html">fftCompressor.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
